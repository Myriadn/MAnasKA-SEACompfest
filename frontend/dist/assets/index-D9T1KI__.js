const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProfileView-BPEt4h3M.js","assets/ProfileView-DBuqfqkD.css"])))=>i.map(i=>d[i]);
var eg=Object.defineProperty;var sg=(e,t,s)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ct=(e,t,s)=>sg(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function al(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ct={},jn=[],is=()=>{},ng=()=>!1,bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ll=e=>e.startsWith("onUpdate:"),pe=Object.assign,cl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ig=Object.prototype.hasOwnProperty,Et=(e,t)=>ig.call(e,t),nt=Array.isArray,Fn=e=>or(e)==="[object Map]",yo=e=>or(e)==="[object Set]",cc=e=>or(e)==="[object Date]",ot=e=>typeof e=="function",qt=e=>typeof e=="string",as=e=>typeof e=="symbol",Lt=e=>e!==null&&typeof e=="object",td=e=>(Lt(e)||ot(e))&&ot(e.then)&&ot(e.catch),ed=Object.prototype.toString,or=e=>ed.call(e),rg=e=>or(e).slice(8,-1),sd=e=>or(e)==="[object Object]",ul=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ti=al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},og=/-(\w)/g,Fe=vo(e=>e.replace(og,(t,s)=>s?s.toUpperCase():"")),ag=/\B([A-Z])/g,pn=vo(e=>e.replace(ag,"-$1").toLowerCase()),wo=vo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wo=vo(e=>e?`on${wo(e)}`:""),Bs=(e,t)=>!Object.is(e,t),zr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Sa=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},ka=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let uc;const xo=()=>uc||(uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hl(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=qt(n)?hg(n):hl(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(qt(e)||Lt(e))return e}const lg=/;(?![^(]*\))/g,cg=/:([^]+)/,ug=/\/\*[^]*?\*\//g;function hg(e){const t={};return e.replace(ug,"").split(lg).forEach(s=>{if(s){const n=s.split(cg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function rs(e){let t="";if(qt(e))t=e;else if(nt(e))for(let s=0;s<e.length;s++){const n=rs(e[s]);n&&(t+=n+" ")}else if(Lt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const dg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fg=al(dg);function nd(e){return!!e||e===""}function pg(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Wn(e[n],t[n]);return s}function Wn(e,t){if(e===t)return!0;let s=cc(e),n=cc(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=as(e),n=as(t),s||n)return e===t;if(s=nt(e),n=nt(t),s||n)return s&&n?pg(e,t):!1;if(s=Lt(e),n=Lt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Wn(e[o],t[o]))return!1}}return String(e)===String(t)}function id(e,t){return e.findIndex(s=>Wn(s,t))}const rd=e=>!!(e&&e.__v_isRef===!0),K=e=>qt(e)?e:e==null?"":nt(e)||Lt(e)&&(e.toString===ed||!ot(e.toString))?rd(e)?K(e.value):JSON.stringify(e,od,2):String(e),od=(e,t)=>rd(t)?od(e,t.value):Fn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],r)=>(s[Vo(n,r)+" =>"]=i,s),{})}:yo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Vo(s))}:as(t)?Vo(t):Lt(t)&&!nt(t)&&!sd(t)?String(t):t,Vo=(e,t="")=>{var s;return as(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let he;class ad{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=he,!t&&he&&(this.index=(he.scopes||(he.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=he;try{return he=this,t()}finally{he=s}}}on(){++this._on===1&&(this.prevScope=he,he=this)}off(){this._on>0&&--this._on===0&&(he=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ld(e){return new ad(e)}function cd(){return he}function gg(e,t=!1){he&&he.cleanups.push(e)}let It;const qo=new WeakSet;class ud{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,he&&he.active&&he.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qo.has(this)&&(qo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hc(this),fd(this);const t=It,s=Ke;It=this,Ke=!0;try{return this.fn()}finally{pd(this),It=t,Ke=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pl(t);this.deps=this.depsTail=void 0,hc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ta(this)&&this.run()}get dirty(){return Ta(this)}}let hd=0,Ei,Ai;function dd(e,t=!1){if(e.flags|=8,t){e.next=Ai,Ai=e;return}e.next=Ei,Ei=e}function dl(){hd++}function fl(){if(--hd>0)return;if(Ai){let t=Ai;for(Ai=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ei;){let t=Ei;for(Ei=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function fd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pd(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),pl(n),mg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Ta(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Wi)||(e.globalVersion=Wi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ta(e))))return;e.flags|=2;const t=e.dep,s=It,n=Ke;It=e,Ke=!0;try{fd(e);const i=e.fn(e._value);(t.version===0||Bs(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{It=s,Ke=n,pd(e),e.flags&=-3}}function pl(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)pl(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function mg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ke=!0;const md=[];function ks(){md.push(Ke),Ke=!1}function Ts(){const e=md.pop();Ke=e===void 0?!0:e}function hc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=It;It=void 0;try{t()}finally{It=s}}}let Wi=0;class _g{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!It||!Ke||It===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==It)s=this.activeLink=new _g(It,this),It.deps?(s.prevDep=It.depsTail,It.depsTail.nextDep=s,It.depsTail=s):It.deps=It.depsTail=s,_d(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=It.depsTail,s.nextDep=void 0,It.depsTail.nextDep=s,It.depsTail=s,It.deps===s&&(It.deps=n)}return s}trigger(t){this.version++,Wi++,this.notify(t)}notify(t){dl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{fl()}}}function _d(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)_d(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Zr=new WeakMap,ln=Symbol(""),Ea=Symbol(""),Vi=Symbol("");function de(e,t,s){if(Ke&&It){let n=Zr.get(e);n||Zr.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new gl),i.map=n,i.key=s),i.track()}}function ws(e,t,s,n,i,r){const o=Zr.get(e);if(!o){Wi++;return}const a=l=>{l&&l.trigger()};if(dl(),t==="clear")o.forEach(a);else{const l=nt(e),c=l&&ul(s);if(l&&s==="length"){const u=Number(n);o.forEach((h,d)=>{(d==="length"||d===Vi||!as(d)&&d>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Vi)),t){case"add":l?c&&a(o.get("length")):(a(o.get(ln)),Fn(e)&&a(o.get(Ea)));break;case"delete":l||(a(o.get(ln)),Fn(e)&&a(o.get(Ea)));break;case"set":Fn(e)&&a(o.get(ln));break}}fl()}function bg(e,t){const s=Zr.get(e);return s&&s.get(t)}function wn(e){const t=pt(e);return t===e?t:(de(t,"iterate",Vi),je(e)?t:t.map(re))}function So(e){return de(e=pt(e),"iterate",Vi),e}const yg={__proto__:null,[Symbol.iterator](){return Ko(this,Symbol.iterator,re)},concat(...e){return wn(this).concat(...e.map(t=>nt(t)?wn(t):t))},entries(){return Ko(this,"entries",e=>(e[1]=re(e[1]),e))},every(e,t){return hs(this,"every",e,t,void 0,arguments)},filter(e,t){return hs(this,"filter",e,t,s=>s.map(re),arguments)},find(e,t){return hs(this,"find",e,t,re,arguments)},findIndex(e,t){return hs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hs(this,"findLast",e,t,re,arguments)},findLastIndex(e,t){return hs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hs(this,"forEach",e,t,void 0,arguments)},includes(...e){return Go(this,"includes",e)},indexOf(...e){return Go(this,"indexOf",e)},join(e){return wn(this).join(e)},lastIndexOf(...e){return Go(this,"lastIndexOf",e)},map(e,t){return hs(this,"map",e,t,void 0,arguments)},pop(){return ni(this,"pop")},push(...e){return ni(this,"push",e)},reduce(e,...t){return dc(this,"reduce",e,t)},reduceRight(e,...t){return dc(this,"reduceRight",e,t)},shift(){return ni(this,"shift")},some(e,t){return hs(this,"some",e,t,void 0,arguments)},splice(...e){return ni(this,"splice",e)},toReversed(){return wn(this).toReversed()},toSorted(e){return wn(this).toSorted(e)},toSpliced(...e){return wn(this).toSpliced(...e)},unshift(...e){return ni(this,"unshift",e)},values(){return Ko(this,"values",re)}};function Ko(e,t,s){const n=So(e),i=n[t]();return n!==e&&!je(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const vg=Array.prototype;function hs(e,t,s,n,i,r){const o=So(e),a=o!==e&&!je(e),l=o[t];if(l!==vg[t]){const h=l.apply(e,r);return a?re(h):h}let c=s;o!==e&&(a?c=function(h,d){return s.call(this,re(h),d,e)}:s.length>2&&(c=function(h,d){return s.call(this,h,d,e)}));const u=l.call(o,c,n);return a&&i?i(u):u}function dc(e,t,s,n){const i=So(e);let r=s;return i!==e&&(je(e)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,e)}):r=function(o,a,l){return s.call(this,o,re(a),l,e)}),i[t](r,...n)}function Go(e,t,s){const n=pt(e);de(n,"iterate",Vi);const i=n[t](...s);return(i===-1||i===!1)&&lr(s[0])?(s[0]=pt(s[0]),n[t](...s)):i}function ni(e,t,s=[]){ks(),dl();const n=pt(e)[t].apply(e,s);return fl(),Ts(),n}const wg=al("__proto__,__v_isRef,__isVue"),bd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(as));function xg(e){as(e)||(e=String(e));const t=pt(this);return de(t,"has",e),t.hasOwnProperty(e)}class yd{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?Mg:Sd:r?xd:wd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=nt(t);if(!i){let l;if(o&&(l=yg[s]))return l;if(s==="hasOwnProperty")return xg}const a=Reflect.get(t,s,Ht(t)?t:n);return(as(s)?bd.has(s):wg(s))||(i||de(t,"get",s),r)?a:Ht(a)?o&&ul(s)?a:a.value:Lt(a)?i?Td(a):ar(a):a}}class vd extends yd{constructor(t=!1){super(!1,t)}set(t,s,n,i){let r=t[s];if(!this._isShallow){const l=Ws(r);if(!je(n)&&!Ws(n)&&(r=pt(r),n=pt(n)),!nt(t)&&Ht(r)&&!Ht(n))return l?!1:(r.value=n,!0)}const o=nt(t)&&ul(s)?Number(s)<t.length:Et(t,s),a=Reflect.set(t,s,n,Ht(t)?t:i);return t===pt(i)&&(o?Bs(n,r)&&ws(t,"set",s,n):ws(t,"add",s,n)),a}deleteProperty(t,s){const n=Et(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&ws(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!as(s)||!bd.has(s))&&de(t,"has",s),n}ownKeys(t){return de(t,"iterate",nt(t)?"length":ln),Reflect.ownKeys(t)}}class Sg extends yd{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const kg=new vd,Tg=new Sg,Eg=new vd(!0);const Aa=e=>e,mr=e=>Reflect.getPrototypeOf(e);function Ag(e,t,s){return function(...n){const i=this.__v_raw,r=pt(i),o=Fn(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...n),u=s?Aa:t?Qr:re;return!t&&de(r,"iterate",l?Ea:ln),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function _r(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Pg(e,t){const s={get(i){const r=this.__v_raw,o=pt(r),a=pt(i);e||(Bs(i,a)&&de(o,"get",i),de(o,"get",a));const{has:l}=mr(o),c=t?Aa:e?Qr:re;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&de(pt(i),"iterate",ln),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=pt(r),a=pt(i);return e||(Bs(i,a)&&de(o,"has",i),de(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=pt(a),c=t?Aa:e?Qr:re;return!e&&de(l,"iterate",ln),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return pe(s,e?{add:_r("add"),set:_r("set"),delete:_r("delete"),clear:_r("clear")}:{add(i){!t&&!je(i)&&!Ws(i)&&(i=pt(i));const r=pt(this);return mr(r).has.call(r,i)||(r.add(i),ws(r,"add",i,i)),this},set(i,r){!t&&!je(r)&&!Ws(r)&&(r=pt(r));const o=pt(this),{has:a,get:l}=mr(o);let c=a.call(o,i);c||(i=pt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Bs(r,u)&&ws(o,"set",i,r):ws(o,"add",i,r),this},delete(i){const r=pt(this),{has:o,get:a}=mr(r);let l=o.call(r,i);l||(i=pt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&ws(r,"delete",i,void 0),c},clear(){const i=pt(this),r=i.size!==0,o=i.clear();return r&&ws(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Ag(i,e,t)}),s}function ml(e,t){const s=Pg(e,t);return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Et(s,i)&&i in n?s:n,i,r)}const Og={get:ml(!1,!1)},Cg={get:ml(!1,!0)},Rg={get:ml(!0,!1)};const wd=new WeakMap,xd=new WeakMap,Sd=new WeakMap,Mg=new WeakMap;function Ig(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dg(e){return e.__v_skip||!Object.isExtensible(e)?0:Ig(rg(e))}function ar(e){return Ws(e)?e:_l(e,!1,kg,Og,wd)}function kd(e){return _l(e,!1,Eg,Cg,xd)}function Td(e){return _l(e,!0,Tg,Rg,Sd)}function _l(e,t,s,n,i){if(!Lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Dg(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?n:s);return i.set(e,a),a}function zs(e){return Ws(e)?zs(e.__v_raw):!!(e&&e.__v_isReactive)}function Ws(e){return!!(e&&e.__v_isReadonly)}function je(e){return!!(e&&e.__v_isShallow)}function lr(e){return e?!!e.__v_raw:!1}function pt(e){const t=e&&e.__v_raw;return t?pt(t):e}function bl(e){return!Et(e,"__v_skip")&&Object.isExtensible(e)&&Sa(e,"__v_skip",!0),e}const re=e=>Lt(e)?ar(e):e,Qr=e=>Lt(e)?Td(e):e;function Ht(e){return e?e.__v_isRef===!0:!1}function Ve(e){return Ed(e,!1)}function yl(e){return Ed(e,!0)}function Ed(e,t){return Ht(e)?e:new Lg(e,t)}class Lg{constructor(t,s){this.dep=new gl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:pt(t),this._value=s?t:re(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||je(t)||Ws(t);t=n?t:pt(t),Bs(t,s)&&(this._rawValue=t,this._value=n?t:re(t),this.dep.trigger())}}function cn(e){return Ht(e)?e.value:e}const $g={get:(e,t,s)=>t==="__v_raw"?e:cn(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return Ht(i)&&!Ht(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Ad(e){return zs(e)?e:new Proxy(e,$g)}function jg(e){const t=nt(e)?new Array(e.length):{};for(const s in e)t[s]=Ng(e,s);return t}class Fg{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bg(pt(this._object),this._key)}}function Ng(e,t,s){const n=e[t];return Ht(n)?n:new Fg(e,t,s)}class Ug{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new gl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&It!==this)return dd(this,!0),!0}get value(){const t=this.dep.track();return gd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Bg(e,t,s=!1){let n,i;return ot(e)?n=e:(n=e.get,i=e.set),new Ug(n,i,s)}const br={},to=new WeakMap;let tn;function zg(e,t=!1,s=tn){if(s){let n=to.get(s);n||to.set(s,n=[]),n.push(e)}}function Hg(e,t,s=Ct){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=s,c=S=>i?S:je(S)||i===!1||i===0?xs(S,1):xs(S);let u,h,d,f,g=!1,m=!1;if(Ht(e)?(h=()=>e.value,g=je(e)):zs(e)?(h=()=>c(e),g=!0):nt(e)?(m=!0,g=e.some(S=>zs(S)||je(S)),h=()=>e.map(S=>{if(Ht(S))return S.value;if(zs(S))return c(S);if(ot(S))return l?l(S,2):S()})):ot(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){ks();try{d()}finally{Ts()}}const S=tn;tn=u;try{return l?l(e,3,[f]):e(f)}finally{tn=S}}:h=is,t&&i){const S=h,E=i===!0?1/0:i;h=()=>xs(S(),E)}const _=cd(),v=()=>{u.stop(),_&&_.active&&cl(_.effects,u)};if(r&&t){const S=t;t=(...E)=>{S(...E),v()}}let T=m?new Array(e.length).fill(br):br;const x=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const E=u.run();if(i||g||(m?E.some((I,O)=>Bs(I,T[O])):Bs(E,T))){d&&d();const I=tn;tn=u;try{const O=[E,T===br?void 0:m&&T[0]===br?[]:T,f];T=E,l?l(t,3,O):t(...O)}finally{tn=I}}}else u.run()};return a&&a(x),u=new ud(h),u.scheduler=o?()=>o(x,!1):x,f=S=>zg(S,!1,u),d=u.onStop=()=>{const S=to.get(u);if(S){if(l)l(S,4);else for(const E of S)E();to.delete(u)}},t?n?x(!0):T=u.run():o?o(x.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function xs(e,t=1/0,s){if(t<=0||!Lt(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ht(e))xs(e.value,t,s);else if(nt(e))for(let n=0;n<e.length;n++)xs(e[n],t,s);else if(yo(e)||Fn(e))e.forEach(n=>{xs(n,t,s)});else if(sd(e)){for(const n in e)xs(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&xs(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cr(e,t,s,n){try{return n?e(...n):e()}catch(i){ko(i,t,s)}}function ls(e,t,s,n){if(ot(e)){const i=cr(e,t,s,n);return i&&td(i)&&i.catch(r=>{ko(r,t,s)}),i}if(nt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(ls(e[r],t,s,n));return i}}function ko(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ct;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(r){ks(),cr(r,null,10,[e,l,c]),Ts();return}}Wg(e,s,i,n,o)}function Wg(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const ye=[];let es=-1;const Nn=[];let Ds=null,Dn=0;const Pd=Promise.resolve();let eo=null;function To(e){const t=eo||Pd;return e?t.then(this?e.bind(this):e):t}function Vg(e){let t=es+1,s=ye.length;for(;t<s;){const n=t+s>>>1,i=ye[n],r=qi(i);r<e||r===e&&i.flags&2?t=n+1:s=n}return t}function vl(e){if(!(e.flags&1)){const t=qi(e),s=ye[ye.length-1];!s||!(e.flags&2)&&t>=qi(s)?ye.push(e):ye.splice(Vg(t),0,e),e.flags|=1,Od()}}function Od(){eo||(eo=Pd.then(Rd))}function qg(e){nt(e)?Nn.push(...e):Ds&&e.id===-1?Ds.splice(Dn+1,0,e):e.flags&1||(Nn.push(e),e.flags|=1),Od()}function fc(e,t,s=es+1){for(;s<ye.length;s++){const n=ye[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Cd(e){if(Nn.length){const t=[...new Set(Nn)].sort((s,n)=>qi(s)-qi(n));if(Nn.length=0,Ds){Ds.push(...t);return}for(Ds=t,Dn=0;Dn<Ds.length;Dn++){const s=Ds[Dn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ds=null,Dn=0}}const qi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Rd(e){try{for(es=0;es<ye.length;es++){const t=ye[es];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),cr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;es<ye.length;es++){const t=ye[es];t&&(t.flags&=-2)}es=-1,ye.length=0,Cd(),eo=null,(ye.length||Nn.length)&&Rd()}}let Pe=null,Md=null;function so(e){const t=Pe;return Pe=e,Md=e&&e.type.__scopeId||null,t}function Vt(e,t=Pe,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Sc(-1);const r=so(t);let o;try{o=e(...i)}finally{so(r),n._d&&Sc(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function te(e,t){if(Pe===null)return e;const s=Ro(Pe),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=Ct]=t[i];r&&(ot(r)&&(r={mounted:r,updated:r}),r.deep&&xs(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Gs(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(ks(),ls(l,s,8,[e.el,a,e,t]),Ts())}}const Kg=Symbol("_vte"),Gg=e=>e.__isTeleport;function wl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Eo(e,t){return ot(e)?pe({name:e.name},t,{setup:e}):e}function Id(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Pi(e,t,s,n,i=!1){if(nt(e)){e.forEach((g,m)=>Pi(g,t&&(nt(t)?t[m]:t),s,n,i));return}if(Oi(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Pi(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Ro(n.component):n.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ct?a.refs={}:a.refs,h=a.setupState,d=pt(h),f=h===Ct?()=>!1:g=>Et(d,g);if(c!=null&&c!==l&&(qt(c)?(u[c]=null,f(c)&&(h[c]=null)):Ht(c)&&(c.value=null)),ot(l))cr(l,a,12,[o,u]);else{const g=qt(l),m=Ht(l);if(g||m){const _=()=>{if(e.f){const v=g?f(l)?h[l]:u[l]:l.value;i?nt(v)&&cl(v,r):nt(v)?v.includes(r)||v.push(r):g?(u[l]=[r],f(l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else g?(u[l]=o,f(l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(_.id=-1,Re(_,s)):_()}}}xo().requestIdleCallback;xo().cancelIdleCallback;const Oi=e=>!!e.type.__asyncLoader,Dd=e=>e.type.__isKeepAlive;function Yg(e,t){Ld(e,"a",t)}function Jg(e,t){Ld(e,"da",t)}function Ld(e,t,s=oe){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ao(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Dd(i.parent.vnode)&&Xg(n,t,s,i),i=i.parent}}function Xg(e,t,s,n){const i=Ao(t,e,n,!0);xl(()=>{cl(n[t],i)},s)}function Ao(e,t,s=oe,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{ks();const a=hr(s),l=ls(t,s,e,o);return a(),Ts(),l});return n?i.unshift(r):i.push(r),r}}const Es=e=>(t,s=oe)=>{(!Gi||e==="sp")&&Ao(e,(...n)=>t(...n),s)},Zg=Es("bm"),Po=Es("m"),Qg=Es("bu"),tm=Es("u"),em=Es("bum"),xl=Es("um"),sm=Es("sp"),nm=Es("rtg"),im=Es("rtc");function rm(e,t=oe){Ao("ec",e,t)}const om="components";function ft(e,t){return lm(om,e,!0,t)||e}const am=Symbol.for("v-ndc");function lm(e,t,s=!0,n=!1){const i=Pe||oe;if(i){const r=i.type;{const a=Ym(r,!1);if(a&&(a===t||a===Fe(t)||a===wo(Fe(t))))return r}const o=pc(i[e]||r[e],t)||pc(i.appContext[e],t);return!o&&n?r:o}}function pc(e,t){return e&&(e[t]||e[Fe(t)]||e[wo(Fe(t))])}function Gt(e,t,s,n){let i;const r=s,o=nt(e);if(o||qt(e)){const a=o&&zs(e);let l=!1,c=!1;a&&(l=!je(e),c=Ws(e),e=So(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(l?c?Qr(re(e[u])):re(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(Lt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}const Pa=e=>e?ef(e)?Ro(e):Pa(e.parent):null,Ci=pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Pa(e.parent),$root:e=>Pa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>jd(e),$forceUpdate:e=>e.f||(e.f=()=>{vl(e.update)}),$nextTick:e=>e.n||(e.n=To.bind(e.proxy)),$watch:e=>Cm.bind(e)}),Yo=(e,t)=>e!==Ct&&!e.__isScriptSetup&&Et(e,t),cm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if(Yo(n,t))return o[t]=1,n[t];if(i!==Ct&&Et(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&Et(c,t))return o[t]=3,r[t];if(s!==Ct&&Et(s,t))return o[t]=4,s[t];Oa&&(o[t]=0)}}const u=Ci[t];let h,d;if(u)return t==="$attrs"&&de(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==Ct&&Et(s,t))return o[t]=4,s[t];if(d=l.config.globalProperties,Et(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return Yo(i,t)?(i[t]=s,!0):n!==Ct&&Et(n,t)?(n[t]=s,!0):Et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!s[o]||e!==Ct&&Et(e,o)||Yo(t,o)||(a=r[0])&&Et(a,o)||Et(n,o)||Et(Ci,o)||Et(i.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Et(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function gc(e){return nt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Oa=!0;function um(e){const t=jd(e),s=e.proxy,n=e.ctx;Oa=!1,t.beforeCreate&&mc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:_,beforeDestroy:v,beforeUnmount:T,destroyed:x,unmounted:S,render:E,renderTracked:I,renderTriggered:O,errorCaptured:M,serverPrefetch:U,expose:Z,inheritAttrs:q,components:it,directives:_t,filters:Bt}=t;if(c&&hm(c,n,null),o)for(const Q in o){const ut=o[Q];ot(ut)&&(n[Q]=ut.bind(s))}if(i){const Q=i.call(s,s);Lt(Q)&&(e.data=ar(Q))}if(Oa=!0,r)for(const Q in r){const ut=r[Q],ae=ot(ut)?ut.bind(s,s):ot(ut.get)?ut.get.bind(s,s):is,Yt=!ot(ut)&&ot(ut.set)?ut.set.bind(s):is,gt=Ee({get:ae,set:Yt});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>gt.value,set:Nt=>gt.value=Nt})}if(a)for(const Q in a)$d(a[Q],n,s,Q);if(l){const Q=ot(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(ut=>{Hr(ut,Q[ut])})}u&&mc(u,e,"c");function rt(Q,ut){nt(ut)?ut.forEach(ae=>Q(ae.bind(s))):ut&&Q(ut.bind(s))}if(rt(Zg,h),rt(Po,d),rt(Qg,f),rt(tm,g),rt(Yg,m),rt(Jg,_),rt(rm,M),rt(im,I),rt(nm,O),rt(em,T),rt(xl,S),rt(sm,U),nt(Z))if(Z.length){const Q=e.exposed||(e.exposed={});Z.forEach(ut=>{Object.defineProperty(Q,ut,{get:()=>s[ut],set:ae=>s[ut]=ae})})}else e.exposed||(e.exposed={});E&&e.render===is&&(e.render=E),q!=null&&(e.inheritAttrs=q),it&&(e.components=it),_t&&(e.directives=_t),U&&Id(e)}function hm(e,t,s=is){nt(e)&&(e=Ca(e));for(const n in e){const i=e[n];let r;Lt(i)?"default"in i?r=Ge(i.from||n,i.default,!0):r=Ge(i.from||n):r=Ge(i),Ht(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function mc(e,t,s){ls(nt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function $d(e,t,s,n){let i=n.includes(".")?Jd(s,n):()=>s[n];if(qt(e)){const r=t[e];ot(r)&&Un(i,r)}else if(ot(e))Un(i,e.bind(s));else if(Lt(e))if(nt(e))e.forEach(r=>$d(r,t,s,n));else{const r=ot(e.handler)?e.handler.bind(s):t[e.handler];ot(r)&&Un(i,r,e)}}function jd(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>no(l,c,o,!0)),no(l,t,o)),Lt(t)&&r.set(t,l),l}function no(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&no(e,r,s,!0),i&&i.forEach(o=>no(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=dm[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const dm={data:_c,props:bc,emits:bc,methods:bi,computed:bi,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:bi,directives:bi,watch:pm,provide:_c,inject:fm};function _c(e,t){return t?e?function(){return pe(ot(e)?e.call(this,this):e,ot(t)?t.call(this,this):t)}:t:e}function fm(e,t){return bi(Ca(e),Ca(t))}function Ca(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function _e(e,t){return e?[...new Set([].concat(e,t))]:t}function bi(e,t){return e?pe(Object.create(null),e,t):t}function bc(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:pe(Object.create(null),gc(e),gc(t??{})):t}function pm(e,t){if(!e)return t;if(!t)return e;const s=pe(Object.create(null),e);for(const n in t)s[n]=_e(e[n],t[n]);return s}function Fd(){return{app:null,config:{isNativeTag:ng,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gm=0;function mm(e,t){return function(n,i=null){ot(n)||(n=pe({},n)),i!=null&&!Lt(i)&&(i=null);const r=Fd(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:gm++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:nf,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&ot(u.install)?(o.add(u),u.install(c,...h)):ot(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||V(n,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Ro(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ls(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=un;un=c;try{return u()}finally{un=h}}};return c}}let un=null;function Hr(e,t){if(oe){let s=oe.provides;const n=oe.parent&&oe.parent.provides;n===s&&(s=oe.provides=Object.create(n)),s[e]=t}}function Ge(e,t,s=!1){const n=oe||Pe;if(n||un){let i=un?un._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ot(t)?t.call(n&&n.proxy):t}}function _m(){return!!(oe||Pe||un)}const Nd={},Ud=()=>Object.create(Nd),Bd=e=>Object.getPrototypeOf(e)===Nd;function bm(e,t,s,n=!1){const i={},r=Ud();e.propsDefaults=Object.create(null),zd(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);s?e.props=n?i:kd(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function ym(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=pt(i),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Oo(e.emitsOptions,d))continue;const f=t[d];if(l)if(Et(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=Fe(d);i[g]=Ra(l,a,g,f,e,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{zd(e,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!Et(t,h)&&((u=pn(h))===h||!Et(t,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(i[h]=Ra(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!Et(t,h))&&(delete r[h],c=!0)}c&&ws(e.attrs,"set","")}function zd(e,t,s,n){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ti(l))continue;const c=t[l];let u;i&&Et(i,u=Fe(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:Oo(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=pt(s),c=a||Ct;for(let u=0;u<r.length;u++){const h=r[u];s[h]=Ra(i,l,h,c[h],e,!Et(c,h))}}return o}function Ra(e,t,s,n,i,r){const o=e[s];if(o!=null){const a=Et(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ot(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=hr(i);n=c[s]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===pn(s))&&(n=!0))}return n}const vm=new WeakMap;function Hd(e,t,s=!1){const n=s?vm:t.propsCache,i=n.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!ot(e)){const u=h=>{l=!0;const[d,f]=Hd(h,t,!0);pe(o,d),f&&a.push(...f)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Lt(e)&&n.set(e,jn),jn;if(nt(r))for(let u=0;u<r.length;u++){const h=Fe(r[u]);yc(h)&&(o[h]=Ct)}else if(r)for(const u in r){const h=Fe(u);if(yc(h)){const d=r[u],f=o[h]=nt(d)||ot(d)?{type:d}:pe({},d),g=f.type;let m=!1,_=!0;if(nt(g))for(let v=0;v<g.length;++v){const T=g[v],x=ot(T)&&T.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(_=!1)}else m=ot(g)&&g.name==="Boolean";f[0]=m,f[1]=_,(m||Et(f,"default"))&&a.push(h)}}const c=[o,a];return Lt(e)&&n.set(e,c),c}function yc(e){return e[0]!=="$"&&!Ti(e)}const Sl=e=>e[0]==="_"||e==="$stable",kl=e=>nt(e)?e.map(ns):[ns(e)],wm=(e,t,s)=>{if(t._n)return t;const n=Vt((...i)=>kl(t(...i)),s);return n._c=!1,n},Wd=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Sl(i))continue;const r=e[i];if(ot(r))t[i]=wm(i,r,n);else if(r!=null){const o=kl(r);t[i]=()=>o}}},Vd=(e,t)=>{const s=kl(t);e.slots.default=()=>s},qd=(e,t,s)=>{for(const n in t)(s||!Sl(n))&&(e[n]=t[n])},xm=(e,t,s)=>{const n=e.slots=Ud();if(e.vnode.shapeFlag&32){const i=t.__;i&&Sa(n,"__",i,!0);const r=t._;r?(qd(n,t,s),s&&Sa(n,"_",r,!0)):Wd(t,n)}else t&&Vd(e,t)},Sm=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,o=Ct;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:qd(i,t,s):(r=!t.$stable,Wd(t,i)),o=t}else t&&(Vd(e,t),o={default:1});if(r)for(const a in i)!Sl(a)&&o[a]==null&&delete i[a]},Re=jm;function km(e){return Tm(e)}function Tm(e,t){const s=xo();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=is,insertStaticContent:g}=e,m=(b,y,k,P=null,R=null,A=null,B=void 0,F=null,N=!!y.dynamicChildren)=>{if(b===y)return;b&&!ii(b,y)&&(P=C(b),Nt(b,R,A,!0),b=null),y.patchFlag===-2&&(N=!1,y.dynamicChildren=null);const{type:$,ref:tt,shapeFlag:H}=y;switch($){case Co:_(b,y,k,P);break;case Vs:v(b,y,k,P);break;case Wr:b==null&&T(y,k,P,B);break;case Ot:it(b,y,k,P,R,A,B,F,N);break;default:H&1?E(b,y,k,P,R,A,B,F,N):H&6?_t(b,y,k,P,R,A,B,F,N):(H&64||H&128)&&$.process(b,y,k,P,R,A,B,F,N,G)}tt!=null&&R?Pi(tt,b&&b.ref,A,y||b,!y):tt==null&&b&&b.ref!=null&&Pi(b.ref,null,A,b,!0)},_=(b,y,k,P)=>{if(b==null)n(y.el=a(y.children),k,P);else{const R=y.el=b.el;y.children!==b.children&&c(R,y.children)}},v=(b,y,k,P)=>{b==null?n(y.el=l(y.children||""),k,P):y.el=b.el},T=(b,y,k,P)=>{[b.el,b.anchor]=g(b.children,y,k,P,b.el,b.anchor)},x=({el:b,anchor:y},k,P)=>{let R;for(;b&&b!==y;)R=d(b),n(b,k,P),b=R;n(y,k,P)},S=({el:b,anchor:y})=>{let k;for(;b&&b!==y;)k=d(b),i(b),b=k;i(y)},E=(b,y,k,P,R,A,B,F,N)=>{y.type==="svg"?B="svg":y.type==="math"&&(B="mathml"),b==null?I(y,k,P,R,A,B,F,N):U(b,y,R,A,B,F,N)},I=(b,y,k,P,R,A,B,F)=>{let N,$;const{props:tt,shapeFlag:H,transition:Y,dirs:st}=b;if(N=b.el=o(b.type,A,tt&&tt.is,tt),H&8?u(N,b.children):H&16&&M(b.children,N,null,P,R,Jo(b,A),B,F),st&&Gs(b,null,P,"created"),O(N,b,b.scopeId,B,P),tt){for(const At in tt)At!=="value"&&!Ti(At)&&r(N,At,null,tt[At],A,P);"value"in tt&&r(N,"value",null,tt.value,A),($=tt.onVnodeBeforeMount)&&Ze($,P,b)}st&&Gs(b,null,P,"beforeMount");const lt=Em(R,Y);lt&&Y.beforeEnter(N),n(N,y,k),(($=tt&&tt.onVnodeMounted)||lt||st)&&Re(()=>{$&&Ze($,P,b),lt&&Y.enter(N),st&&Gs(b,null,P,"mounted")},R)},O=(b,y,k,P,R)=>{if(k&&f(b,k),P)for(let A=0;A<P.length;A++)f(b,P[A]);if(R){let A=R.subTree;if(y===A||Zd(A.type)&&(A.ssContent===y||A.ssFallback===y)){const B=R.vnode;O(b,B,B.scopeId,B.slotScopeIds,R.parent)}}},M=(b,y,k,P,R,A,B,F,N=0)=>{for(let $=N;$<b.length;$++){const tt=b[$]=F?Ls(b[$]):ns(b[$]);m(null,tt,y,k,P,R,A,B,F)}},U=(b,y,k,P,R,A,B)=>{const F=y.el=b.el;let{patchFlag:N,dynamicChildren:$,dirs:tt}=y;N|=b.patchFlag&16;const H=b.props||Ct,Y=y.props||Ct;let st;if(k&&Ys(k,!1),(st=Y.onVnodeBeforeUpdate)&&Ze(st,k,y,b),tt&&Gs(y,b,k,"beforeUpdate"),k&&Ys(k,!0),(H.innerHTML&&Y.innerHTML==null||H.textContent&&Y.textContent==null)&&u(F,""),$?Z(b.dynamicChildren,$,F,k,P,Jo(y,R),A):B||ut(b,y,F,null,k,P,Jo(y,R),A,!1),N>0){if(N&16)q(F,H,Y,k,R);else if(N&2&&H.class!==Y.class&&r(F,"class",null,Y.class,R),N&4&&r(F,"style",H.style,Y.style,R),N&8){const lt=y.dynamicProps;for(let At=0;At<lt.length;At++){const wt=lt[At],ie=H[wt],Jt=Y[wt];(Jt!==ie||wt==="value")&&r(F,wt,ie,Jt,R,k)}}N&1&&b.children!==y.children&&u(F,y.children)}else!B&&$==null&&q(F,H,Y,k,R);((st=Y.onVnodeUpdated)||tt)&&Re(()=>{st&&Ze(st,k,y,b),tt&&Gs(y,b,k,"updated")},P)},Z=(b,y,k,P,R,A,B)=>{for(let F=0;F<y.length;F++){const N=b[F],$=y[F],tt=N.el&&(N.type===Ot||!ii(N,$)||N.shapeFlag&198)?h(N.el):k;m(N,$,tt,null,P,R,A,B,!0)}},q=(b,y,k,P,R)=>{if(y!==k){if(y!==Ct)for(const A in y)!Ti(A)&&!(A in k)&&r(b,A,y[A],null,R,P);for(const A in k){if(Ti(A))continue;const B=k[A],F=y[A];B!==F&&A!=="value"&&r(b,A,F,B,R,P)}"value"in k&&r(b,"value",y.value,k.value,R)}},it=(b,y,k,P,R,A,B,F,N)=>{const $=y.el=b?b.el:a(""),tt=y.anchor=b?b.anchor:a("");let{patchFlag:H,dynamicChildren:Y,slotScopeIds:st}=y;st&&(F=F?F.concat(st):st),b==null?(n($,k,P),n(tt,k,P),M(y.children||[],k,tt,R,A,B,F,N)):H>0&&H&64&&Y&&b.dynamicChildren?(Z(b.dynamicChildren,Y,k,R,A,B,F),(y.key!=null||R&&y===R.subTree)&&Kd(b,y,!0)):ut(b,y,k,tt,R,A,B,F,N)},_t=(b,y,k,P,R,A,B,F,N)=>{y.slotScopeIds=F,b==null?y.shapeFlag&512?R.ctx.activate(y,k,P,B,N):Bt(y,k,P,R,A,B,N):yt(b,y,N)},Bt=(b,y,k,P,R,A,B)=>{const F=b.component=Wm(b,P,R);if(Dd(b)&&(F.ctx.renderer=G),Vm(F,!1,B),F.asyncDep){if(R&&R.registerDep(F,rt,B),!b.el){const N=F.subTree=V(Vs);v(null,N,y,k)}}else rt(F,b,y,k,R,A,B)},yt=(b,y,k)=>{const P=y.component=b.component;if(Lm(b,y,k))if(P.asyncDep&&!P.asyncResolved){Q(P,y,k);return}else P.next=y,P.update();else y.el=b.el,P.vnode=y},rt=(b,y,k,P,R,A,B)=>{const F=()=>{if(b.isMounted){let{next:H,bu:Y,u:st,parent:lt,vnode:At}=b;{const ge=Gd(b);if(ge){H&&(H.el=At.el,Q(b,H,B)),ge.asyncDep.then(()=>{b.isUnmounted||F()});return}}let wt=H,ie;Ys(b,!1),H?(H.el=At.el,Q(b,H,B)):H=At,Y&&zr(Y),(ie=H.props&&H.props.onVnodeBeforeUpdate)&&Ze(ie,lt,H,At),Ys(b,!0);const Jt=wc(b),Ce=b.subTree;b.subTree=Jt,m(Ce,Jt,h(Ce.el),C(Ce),b,R,A),H.el=Jt.el,wt===null&&$m(b,Jt.el),st&&Re(st,R),(ie=H.props&&H.props.onVnodeUpdated)&&Re(()=>Ze(ie,lt,H,At),R)}else{let H;const{el:Y,props:st}=y,{bm:lt,m:At,parent:wt,root:ie,type:Jt}=b,Ce=Oi(y);Ys(b,!1),lt&&zr(lt),!Ce&&(H=st&&st.onVnodeBeforeMount)&&Ze(H,wt,y),Ys(b,!0);{ie.ce&&ie.ce._def.shadowRoot!==!1&&ie.ce._injectChildStyle(Jt);const ge=b.subTree=wc(b);m(null,ge,k,P,b,R,A),y.el=ge.el}if(At&&Re(At,R),!Ce&&(H=st&&st.onVnodeMounted)){const ge=y;Re(()=>Ze(H,wt,ge),R)}(y.shapeFlag&256||wt&&Oi(wt.vnode)&&wt.vnode.shapeFlag&256)&&b.a&&Re(b.a,R),b.isMounted=!0,y=k=P=null}};b.scope.on();const N=b.effect=new ud(F);b.scope.off();const $=b.update=N.run.bind(N),tt=b.job=N.runIfDirty.bind(N);tt.i=b,tt.id=b.uid,N.scheduler=()=>vl(tt),Ys(b,!0),$()},Q=(b,y,k)=>{y.component=b;const P=b.vnode.props;b.vnode=y,b.next=null,ym(b,y.props,P,k),Sm(b,y.children,k),ks(),fc(b),Ts()},ut=(b,y,k,P,R,A,B,F,N=!1)=>{const $=b&&b.children,tt=b?b.shapeFlag:0,H=y.children,{patchFlag:Y,shapeFlag:st}=y;if(Y>0){if(Y&128){Yt($,H,k,P,R,A,B,F,N);return}else if(Y&256){ae($,H,k,P,R,A,B,F,N);return}}st&8?(tt&16&&Rt($,R,A),H!==$&&u(k,H)):tt&16?st&16?Yt($,H,k,P,R,A,B,F,N):Rt($,R,A,!0):(tt&8&&u(k,""),st&16&&M(H,k,P,R,A,B,F,N))},ae=(b,y,k,P,R,A,B,F,N)=>{b=b||jn,y=y||jn;const $=b.length,tt=y.length,H=Math.min($,tt);let Y;for(Y=0;Y<H;Y++){const st=y[Y]=N?Ls(y[Y]):ns(y[Y]);m(b[Y],st,k,null,R,A,B,F,N)}$>tt?Rt(b,R,A,!0,!1,H):M(y,k,P,R,A,B,F,N,H)},Yt=(b,y,k,P,R,A,B,F,N)=>{let $=0;const tt=y.length;let H=b.length-1,Y=tt-1;for(;$<=H&&$<=Y;){const st=b[$],lt=y[$]=N?Ls(y[$]):ns(y[$]);if(ii(st,lt))m(st,lt,k,null,R,A,B,F,N);else break;$++}for(;$<=H&&$<=Y;){const st=b[H],lt=y[Y]=N?Ls(y[Y]):ns(y[Y]);if(ii(st,lt))m(st,lt,k,null,R,A,B,F,N);else break;H--,Y--}if($>H){if($<=Y){const st=Y+1,lt=st<tt?y[st].el:P;for(;$<=Y;)m(null,y[$]=N?Ls(y[$]):ns(y[$]),k,lt,R,A,B,F,N),$++}}else if($>Y)for(;$<=H;)Nt(b[$],R,A,!0),$++;else{const st=$,lt=$,At=new Map;for($=lt;$<=Y;$++){const Wt=y[$]=N?Ls(y[$]):ns(y[$]);Wt.key!=null&&At.set(Wt.key,$)}let wt,ie=0;const Jt=Y-lt+1;let Ce=!1,ge=0;const Je=new Array(Jt);for($=0;$<Jt;$++)Je[$]=0;for($=st;$<=H;$++){const Wt=b[$];if(ie>=Jt){Nt(Wt,R,A,!0);continue}let xe;if(Wt.key!=null)xe=At.get(Wt.key);else for(wt=lt;wt<=Y;wt++)if(Je[wt-lt]===0&&ii(Wt,y[wt])){xe=wt;break}xe===void 0?Nt(Wt,R,A,!0):(Je[xe-lt]=$+1,xe>=ge?ge=xe:Ce=!0,m(Wt,y[xe],k,null,R,A,B,F,N),ie++)}const Ie=Ce?Am(Je):jn;for(wt=Ie.length-1,$=Jt-1;$>=0;$--){const Wt=lt+$,xe=y[Wt],bn=Wt+1<tt?y[Wt+1].el:P;Je[$]===0?m(null,xe,k,bn,R,A,B,F,N):Ce&&(wt<0||$!==Ie[wt]?gt(xe,k,bn,2):wt--)}}},gt=(b,y,k,P,R=null)=>{const{el:A,type:B,transition:F,children:N,shapeFlag:$}=b;if($&6){gt(b.component.subTree,y,k,P);return}if($&128){b.suspense.move(y,k,P);return}if($&64){B.move(b,y,k,G);return}if(B===Ot){n(A,y,k);for(let H=0;H<N.length;H++)gt(N[H],y,k,P);n(b.anchor,y,k);return}if(B===Wr){x(b,y,k);return}if(P!==2&&$&1&&F)if(P===0)F.beforeEnter(A),n(A,y,k),Re(()=>F.enter(A),R);else{const{leave:H,delayLeave:Y,afterLeave:st}=F,lt=()=>{b.ctx.isUnmounted?i(A):n(A,y,k)},At=()=>{H(A,()=>{lt(),st&&st()})};Y?Y(A,lt,At):At()}else n(A,y,k)},Nt=(b,y,k,P=!1,R=!1)=>{const{type:A,props:B,ref:F,children:N,dynamicChildren:$,shapeFlag:tt,patchFlag:H,dirs:Y,cacheIndex:st}=b;if(H===-2&&(R=!1),F!=null&&(ks(),Pi(F,null,k,b,!0),Ts()),st!=null&&(y.renderCache[st]=void 0),tt&256){y.ctx.deactivate(b);return}const lt=tt&1&&Y,At=!Oi(b);let wt;if(At&&(wt=B&&B.onVnodeBeforeUnmount)&&Ze(wt,y,b),tt&6)vt(b.component,k,P);else{if(tt&128){b.suspense.unmount(k,P);return}lt&&Gs(b,null,y,"beforeUnmount"),tt&64?b.type.remove(b,y,k,G,P):$&&!$.hasOnce&&(A!==Ot||H>0&&H&64)?Rt($,y,k,!1,!0):(A===Ot&&H&384||!R&&tt&16)&&Rt(N,y,k),P&&St(b)}(At&&(wt=B&&B.onVnodeUnmounted)||lt)&&Re(()=>{wt&&Ze(wt,y,b),lt&&Gs(b,null,y,"unmounted")},k)},St=b=>{const{type:y,el:k,anchor:P,transition:R}=b;if(y===Ot){ne(k,P);return}if(y===Wr){S(b);return}const A=()=>{i(k),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(b.shapeFlag&1&&R&&!R.persisted){const{leave:B,delayLeave:F}=R,N=()=>B(k,A);F?F(b.el,A,N):N()}else A()},ne=(b,y)=>{let k;for(;b!==y;)k=d(b),i(b),b=k;i(y)},vt=(b,y,k)=>{const{bum:P,scope:R,job:A,subTree:B,um:F,m:N,a:$,parent:tt,slots:{__:H}}=b;vc(N),vc($),P&&zr(P),tt&&nt(H)&&H.forEach(Y=>{tt.renderCache[Y]=void 0}),R.stop(),A&&(A.flags|=8,Nt(B,b,y,k)),F&&Re(F,y),Re(()=>{b.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},Rt=(b,y,k,P=!1,R=!1,A=0)=>{for(let B=A;B<b.length;B++)Nt(b[B],y,k,P,R)},C=b=>{if(b.shapeFlag&6)return C(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const y=d(b.anchor||b.el),k=y&&y[Kg];return k?d(k):y};let W=!1;const z=(b,y,k)=>{b==null?y._vnode&&Nt(y._vnode,null,null,!0):m(y._vnode||null,b,y,null,null,null,k),y._vnode=b,W||(W=!0,fc(),Cd(),W=!1)},G={p:m,um:Nt,m:gt,r:St,mt:Bt,mc:M,pc:ut,pbc:Z,n:C,o:e};return{render:z,hydrate:void 0,createApp:mm(z)}}function Jo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ys({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Em(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Kd(e,t,s=!1){const n=e.children,i=t.children;if(nt(n)&&nt(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ls(i[r]),a.el=o.el),!s&&a.patchFlag!==-2&&Kd(o,a)),a.type===Co&&(a.el=o.el),a.type===Vs&&!a.el&&(a.el=o.el)}}function Am(e){const t=e.slice(),s=[0];let n,i,r,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<c?r=a+1:o=a;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Gd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gd(t)}function vc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Pm=Symbol.for("v-scx"),Om=()=>Ge(Pm);function Un(e,t,s){return Yd(e,t,s)}function Yd(e,t,s=Ct){const{immediate:n,deep:i,flush:r,once:o}=s,a=pe({},s),l=t&&n||!t&&r!=="post";let c;if(Gi){if(r==="sync"){const f=Om();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=is,f.resume=is,f.pause=is,f}}const u=oe;a.call=(f,g,m)=>ls(f,u,g,m);let h=!1;r==="post"?a.scheduler=f=>{Re(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():vl(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Hg(e,t,a);return Gi&&(c?c.push(d):l&&d()),d}function Cm(e,t,s){const n=this.proxy,i=qt(e)?e.includes(".")?Jd(n,e):()=>n[e]:e.bind(n,n);let r;ot(t)?r=t:(r=t.handler,s=t);const o=hr(this),a=Yd(i,r.bind(n),s);return o(),a}function Jd(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Rm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fe(t)}Modifiers`]||e[`${pn(t)}Modifiers`];function Mm(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ct;let i=s;const r=t.startsWith("update:"),o=r&&Rm(n,t.slice(7));o&&(o.trim&&(i=s.map(u=>qt(u)?u.trim():u)),o.number&&(i=s.map(ka)));let a,l=n[a=Wo(t)]||n[a=Wo(Fe(t))];!l&&r&&(l=n[a=Wo(pn(t))]),l&&ls(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ls(c,e,6,i)}}function Xd(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!ot(e)){const l=c=>{const u=Xd(c,t,!0);u&&(a=!0,pe(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Lt(e)&&n.set(e,null),null):(nt(r)?r.forEach(l=>o[l]=null):pe(o,r),Lt(e)&&n.set(e,o),o)}function Oo(e,t){return!e||!bo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Et(e,t[0].toLowerCase()+t.slice(1))||Et(e,pn(t))||Et(e,t))}function wc(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=e,_=so(e);let v,T;try{if(s.shapeFlag&4){const S=i||n,E=S;v=ns(c.call(E,S,u,h,f,d,g)),T=a}else{const S=t;v=ns(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),T=t.props?a:Im(a)}}catch(S){Ri.length=0,ko(S,e,1),v=V(Vs)}let x=v;if(T&&m!==!1){const S=Object.keys(T),{shapeFlag:E}=x;S.length&&E&7&&(r&&S.some(ll)&&(T=Dm(T,r)),x=Vn(x,T,!1,!0))}return s.dirs&&(x=Vn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&wl(x,s.transition),v=x,so(_),v}const Im=e=>{let t;for(const s in e)(s==="class"||s==="style"||bo(s))&&((t||(t={}))[s]=e[s]);return t},Dm=(e,t)=>{const s={};for(const n in e)(!ll(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Lm(e,t,s){const{props:n,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?xc(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!Oo(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?xc(n,o,c):!0:!!o;return!1}function xc(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!Oo(s,r))return!0}return!1}function $m({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Zd=e=>e.__isSuspense;function jm(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):qg(e)}const Ot=Symbol.for("v-fgt"),Co=Symbol.for("v-txt"),Vs=Symbol.for("v-cmt"),Wr=Symbol.for("v-stc"),Ri=[];let Me=null;function D(e=!1){Ri.push(Me=e?null:[])}function Fm(){Ri.pop(),Me=Ri[Ri.length-1]||null}let Ki=1;function Sc(e,t=!1){Ki+=e,e<0&&Me&&t&&(Me.hasOnce=!0)}function Qd(e){return e.dynamicChildren=Ki>0?Me||jn:null,Fm(),Ki>0&&Me&&Me.push(e),e}function L(e,t,s,n,i,r){return Qd(p(e,t,s,n,i,r,!0))}function Tl(e,t,s,n,i){return Qd(V(e,t,s,n,i,!0))}function io(e){return e?e.__v_isVNode===!0:!1}function ii(e,t){return e.type===t.type&&e.key===t.key}const tf=({key:e})=>e??null,Vr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||Ht(e)||ot(e)?{i:Pe,r:e,k:t,f:!!s}:e:null);function p(e,t=null,s=null,n=0,i=null,r=e===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&tf(t),ref:t&&Vr(t),scopeId:Md,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pe};return a?(El(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=qt(s)?8:16),Ki>0&&!o&&Me&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Me.push(l),l}const V=Nm;function Nm(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===am)&&(e=Vs),io(e)){const a=Vn(e,t,!0);return s&&El(a,s),Ki>0&&!r&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag=-2,a}if(Jm(e)&&(e=e.__vccOpts),t){t=Um(t);let{class:a,style:l}=t;a&&!qt(a)&&(t.class=rs(a)),Lt(l)&&(lr(l)&&!nt(l)&&(l=pe({},l)),t.style=hl(l))}const o=qt(e)?1:Zd(e)?128:Gg(e)?64:Lt(e)?4:ot(e)?2:0;return p(e,t,s,n,i,o,r,!0)}function Um(e){return e?lr(e)||Bd(e)?pe({},e):e:null}function Vn(e,t,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?Bm(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&tf(c),ref:t&&t.ref?s&&r?nt(r)?r.concat(Vr(t)):[r,Vr(t)]:Vr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vn(e.ssContent),ssFallback:e.ssFallback&&Vn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&wl(u,l.clone(u)),u}function bt(e=" ",t=0){return V(Co,null,e,t)}function ur(e,t){const s=V(Wr,null,e);return s.staticCount=t,s}function jt(e="",t=!1){return t?(D(),Tl(Vs,null,e)):V(Vs,null,e)}function ns(e){return e==null||typeof e=="boolean"?V(Vs):nt(e)?V(Ot,null,e.slice()):io(e)?Ls(e):V(Co,null,String(e))}function Ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vn(e)}function El(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(nt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),El(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Bd(t)?t._ctx=Pe:i===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ot(t)?(t={default:t,_ctx:Pe},s=32):(t=String(t),n&64?(s=16,t=[bt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Bm(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=rs([t.class,n.class]));else if(i==="style")t.style=hl([t.style,n.style]);else if(bo(i)){const r=t[i],o=n[i];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=n[i])}return t}function Ze(e,t,s,n=null){ls(e,t,7,[s,n])}const zm=Fd();let Hm=0;function Wm(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||zm,r={uid:Hm++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ad(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hd(n,i),emitsOptions:Xd(n,i),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:n.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Mm.bind(null,r),e.ce&&e.ce(r),r}let oe=null,ro,Ma;{const e=xo(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ro=t("__VUE_INSTANCE_SETTERS__",s=>oe=s),Ma=t("__VUE_SSR_SETTERS__",s=>Gi=s)}const hr=e=>{const t=oe;return ro(e),e.scope.on(),()=>{e.scope.off(),ro(t)}},kc=()=>{oe&&oe.scope.off(),ro(null)};function ef(e){return e.vnode.shapeFlag&4}let Gi=!1;function Vm(e,t=!1,s=!1){t&&Ma(t);const{props:n,children:i}=e.vnode,r=ef(e);bm(e,n,r,t),xm(e,i,s||t);const o=r?qm(e,t):void 0;return t&&Ma(!1),o}function qm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cm);const{setup:n}=s;if(n){ks();const i=e.setupContext=n.length>1?Gm(e):null,r=hr(e),o=cr(n,e,0,[e.props,i]),a=td(o);if(Ts(),r(),(a||e.sp)&&!Oi(e)&&Id(e),a){if(o.then(kc,kc),t)return o.then(l=>{Tc(e,l)}).catch(l=>{ko(l,e,0)});e.asyncDep=o}else Tc(e,o)}else sf(e)}function Tc(e,t,s){ot(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lt(t)&&(e.setupState=Ad(t)),sf(e)}function sf(e,t,s){const n=e.type;e.render||(e.render=n.render||is);{const i=hr(e);ks();try{um(e)}finally{Ts(),i()}}}const Km={get(e,t){return de(e,"get",""),e[t]}};function Gm(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Km),slots:e.slots,emit:e.emit,expose:t}}function Ro(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ad(bl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ci)return Ci[s](e)},has(t,s){return s in t||s in Ci}})):e.proxy}function Ym(e,t=!0){return ot(e)?e.displayName||e.name:e.name||t&&e.__name}function Jm(e){return ot(e)&&"__vccOpts"in e}const Ee=(e,t)=>Bg(e,t,Gi);function Yi(e,t,s){const n=arguments.length;return n===2?Lt(t)&&!nt(t)?io(t)?V(e,null,[t]):V(e,t):V(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&io(s)&&(s=[s]),V(e,t,s))}const nf="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ia;const Ec=typeof window<"u"&&window.trustedTypes;if(Ec)try{Ia=Ec.createPolicy("vue",{createHTML:e=>e})}catch{}const rf=Ia?e=>Ia.createHTML(e):e=>e,Xm="http://www.w3.org/2000/svg",Zm="http://www.w3.org/1998/Math/MathML",bs=typeof document<"u"?document:null,Ac=bs&&bs.createElement("template"),Qm={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?bs.createElementNS(Xm,e):t==="mathml"?bs.createElementNS(Zm,e):s?bs.createElement(e,{is:s}):bs.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>bs.createTextNode(e),createComment:e=>bs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const o=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Ac.innerHTML=rf(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Ac.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},t_=Symbol("_vtc");function e_(e,t,s){const n=e[t_];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Pc=Symbol("_vod"),s_=Symbol("_vsh"),n_=Symbol(""),i_=/(^|;)\s*display\s*:/;function r_(e,t,s){const n=e.style,i=qt(s);let r=!1;if(s&&!i){if(t)if(qt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&qr(n,a,"")}else for(const o in t)s[o]==null&&qr(n,o,"");for(const o in s)o==="display"&&(r=!0),qr(n,o,s[o])}else if(i){if(t!==s){const o=n[n_];o&&(s+=";"+o),n.cssText=s,r=i_.test(s)}}else t&&e.removeAttribute("style");Pc in e&&(e[Pc]=r?n.display:"",e[s_]&&(n.display="none"))}const Oc=/\s*!important$/;function qr(e,t,s){if(nt(s))s.forEach(n=>qr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=o_(e,t);Oc.test(s)?e.setProperty(pn(n),s.replace(Oc,""),"important"):e[n]=s}}const Cc=["Webkit","Moz","ms"],Xo={};function o_(e,t){const s=Xo[t];if(s)return s;let n=Fe(t);if(n!=="filter"&&n in e)return Xo[t]=n;n=wo(n);for(let i=0;i<Cc.length;i++){const r=Cc[i]+n;if(r in e)return Xo[t]=r}return t}const Rc="http://www.w3.org/1999/xlink";function Mc(e,t,s,n,i,r=fg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Rc,t.slice(6,t.length)):e.setAttributeNS(Rc,t,s):s==null||r&&!nd(s)?e.removeAttribute(t):e.setAttribute(t,r?"":as(s)?String(s):s)}function Ic(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?rf(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=nd(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(i||t)}function Fs(e,t,s,n){e.addEventListener(t,s,n)}function a_(e,t,s,n){e.removeEventListener(t,s,n)}const Dc=Symbol("_vei");function l_(e,t,s,n,i=null){const r=e[Dc]||(e[Dc]={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=c_(t);if(n){const c=r[t]=d_(n,i);Fs(e,a,c,l)}else o&&(a_(e,a,o,l),r[t]=void 0)}}const Lc=/(?:Once|Passive|Capture)$/;function c_(e){let t;if(Lc.test(e)){t={};let n;for(;n=e.match(Lc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pn(e.slice(2)),t]}let Zo=0;const u_=Promise.resolve(),h_=()=>Zo||(u_.then(()=>Zo=0),Zo=Date.now());function d_(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ls(f_(n,s.value),t,5,[n])};return s.value=e,s.attached=h_(),s}function f_(e,t){if(nt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const $c=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,p_=(e,t,s,n,i,r)=>{const o=i==="svg";t==="class"?e_(e,n,o):t==="style"?r_(e,s,n):bo(t)?ll(t)||l_(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):g_(e,t,n,o))?(Ic(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Mc(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qt(n))?Ic(e,Fe(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Mc(e,t,n,o))};function g_(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&$c(t)&&ot(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return $c(t)&&qt(s)?!1:t in e}const qn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?s=>zr(t,s):t};function m_(e){e.target.composing=!0}function jc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ss=Symbol("_assign"),Oe={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[Ss]=qn(i);const r=n||i.props&&i.props.type==="number";Fs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),r&&(a=ka(a)),e[Ss](a)}),s&&Fs(e,"change",()=>{e.value=e.value.trim()}),t||(Fs(e,"compositionstart",m_),Fs(e,"compositionend",jc),Fs(e,"change",jc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(e[Ss]=qn(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?ka(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},Fc={deep:!0,created(e,t,s){e[Ss]=qn(s),Fs(e,"change",()=>{const n=e._modelValue,i=af(e),r=e.checked,o=e[Ss];if(nt(n)){const a=id(n,i),l=a!==-1;if(r&&!l)o(n.concat(i));else if(!r&&l){const c=[...n];c.splice(a,1),o(c)}}else if(yo(n)){const a=new Set(n);r?a.add(i):a.delete(i),o(a)}else o(lf(e,r))})},mounted:Nc,beforeUpdate(e,t,s){e[Ss]=qn(s),Nc(e,t,s)}};function Nc(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(nt(t))i=id(t,n.props.value)>-1;else if(yo(t))i=t.has(n.props.value);else{if(t===s)return;i=Wn(t,lf(e,!0))}e.checked!==i&&(e.checked=i)}const of={created(e,{value:t},s){e.checked=Wn(t,s.props.value),e[Ss]=qn(s),Fs(e,"change",()=>{e[Ss](af(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Ss]=qn(n),t!==s&&(e.checked=Wn(t,n.props.value))}};function af(e){return"_value"in e?e._value:e.value}function lf(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const __=["ctrl","shift","alt","meta"],b_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>__.some(s=>e[`${s}Key`]&&!t.includes(s))},Mo=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=b_[t[o]];if(a&&a(i,t))return}return e(i,...r)})},y_=pe({patchProp:p_},Qm);let Uc;function v_(){return Uc||(Uc=km(y_))}const w_=(...e)=>{const t=v_().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=S_(n);if(!i)return;const r=t._component;!ot(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,x_(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function x_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function S_(e){return qt(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let cf;const Io=e=>cf=e,uf=Symbol();function Da(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mi||(Mi={}));function k_(){const e=ld(!0),t=e.run(()=>Ve({}));let s=[],n=[];const i=bl({install(r){Io(i),i._a=r,r.provide(uf,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return i}const hf=()=>{};function Bc(e,t,s,n=hf){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&cd()&&gg(i),i}function xn(e,...t){e.slice().forEach(s=>{s(...t)})}const T_=e=>e(),zc=Symbol(),Qo=Symbol();function La(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],i=e[s];Da(i)&&Da(n)&&e.hasOwnProperty(s)&&!Ht(n)&&!zs(n)?e[s]=La(i,n):e[s]=n}return e}const E_=Symbol();function A_(e){return!Da(e)||!Object.prototype.hasOwnProperty.call(e,E_)}const{assign:Rs}=Object;function P_(e){return!!(Ht(e)&&e.effect)}function O_(e,t,s,n){const{state:i,actions:r,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=i?i():{});const u=jg(s.state.value[e]);return Rs(u,r,Object.keys(o||{}).reduce((h,d)=>(h[d]=bl(Ee(()=>{Io(s);const f=s._s.get(e);return o[d].call(f,f)})),h),{}))}return l=df(e,c,t,s,n,!0),l}function df(e,t,s={},n,i,r){let o;const a=Rs({actions:{}},s),l={deep:!0};let c,u,h=[],d=[],f;const g=n.state.value[e];!r&&!g&&(n.state.value[e]={}),Ve({});let m;function _(M){let U;c=u=!1,typeof M=="function"?(M(n.state.value[e]),U={type:Mi.patchFunction,storeId:e,events:f}):(La(n.state.value[e],M),U={type:Mi.patchObject,payload:M,storeId:e,events:f});const Z=m=Symbol();To().then(()=>{m===Z&&(c=!0)}),u=!0,xn(h,U,n.state.value[e])}const v=r?function(){const{state:U}=s,Z=U?U():{};this.$patch(q=>{Rs(q,Z)})}:hf;function T(){o.stop(),h=[],d=[],n._s.delete(e)}const x=(M,U="")=>{if(zc in M)return M[Qo]=U,M;const Z=function(){Io(n);const q=Array.from(arguments),it=[],_t=[];function Bt(Q){it.push(Q)}function yt(Q){_t.push(Q)}xn(d,{args:q,name:Z[Qo],store:E,after:Bt,onError:yt});let rt;try{rt=M.apply(this&&this.$id===e?this:E,q)}catch(Q){throw xn(_t,Q),Q}return rt instanceof Promise?rt.then(Q=>(xn(it,Q),Q)).catch(Q=>(xn(_t,Q),Promise.reject(Q))):(xn(it,rt),rt)};return Z[zc]=!0,Z[Qo]=U,Z},S={_p:n,$id:e,$onAction:Bc.bind(null,d),$patch:_,$reset:v,$subscribe(M,U={}){const Z=Bc(h,M,U.detached,()=>q()),q=o.run(()=>Un(()=>n.state.value[e],it=>{(U.flush==="sync"?u:c)&&M({storeId:e,type:Mi.direct,events:f},it)},Rs({},l,U)));return Z},$dispose:T},E=ar(S);n._s.set(e,E);const O=(n._a&&n._a.runWithContext||T_)(()=>n._e.run(()=>(o=ld()).run(()=>t({action:x}))));for(const M in O){const U=O[M];if(Ht(U)&&!P_(U)||zs(U))r||(g&&A_(U)&&(Ht(U)?U.value=g[M]:La(U,g[M])),n.state.value[e][M]=U);else if(typeof U=="function"){const Z=x(U,M);O[M]=Z,a.actions[M]=U}}return Rs(E,O),Rs(pt(E),O),Object.defineProperty(E,"$state",{get:()=>n.state.value[e],set:M=>{_(U=>{Rs(U,M)})}}),n._p.forEach(M=>{Rs(E,o.run(()=>M({store:E,app:n._a,pinia:n,options:a})))}),g&&r&&s.hydrate&&s.hydrate(E.$state,g),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function C_(e,t,s){let n;const i=typeof t=="function";n=i?s:t;function r(o,a){const l=_m();return o=o||(l?Ge(uf,null):null),o&&Io(o),o=cf,o._s.has(e)||(i?df(e,t,n,o):O_(e,n,o)),o._s.get(e)}return r.$id=e,r}const R_=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,M_=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,I_=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function D_(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){L_(e);return}return t}function L_(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function $_(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!I_.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(R_.test(e)||M_.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,D_)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function j_(e,t){if(e==null)return;let s=e;for(let n=0;n<t.length;n++){if(s==null||s[t[n]]==null)return;s=s[t[n]]}return s}function Al(e,t,s){if(s.length===0)return t;const n=s[0];return s.length>1&&(t=Al(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(s[1]))?[]:{}:e[n],t,Array.prototype.slice.call(s,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function ff(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const s={};for(const n in e)s[n]=e[n];return delete s[t[0]],s}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const s={};for(const n in e)s[n]=e[n];return s}return Al(e,ff(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function pf(e,t){return t.map(s=>s.split(".")).map(s=>[s,j_(e,s)]).filter(s=>s[1]!==void 0).reduce((s,n)=>Al(s,n[1],n[0]),{})}function gf(e,t){return t.map(s=>s.split(".")).reduce((s,n)=>ff(s,n),e)}function Hc(e,{storage:t,serializer:s,key:n,debug:i,pick:r,omit:o,beforeHydrate:a,afterHydrate:l},c,u=!0){try{u&&(a==null||a(c));const h=t.getItem(n);if(h){const d=s.deserialize(h),f=r?pf(d,r):d,g=o?gf(f,o):f;e.$patch(g)}u&&(l==null||l(c))}catch(h){i&&console.error("[pinia-plugin-persistedstate]",h)}}function Wc(e,{storage:t,serializer:s,key:n,debug:i,pick:r,omit:o}){try{const a=r?pf(e,r):e,l=o?gf(a,o):a,c=s.serialize(l);t.setItem(n,c)}catch(a){i&&console.error("[pinia-plugin-persistedstate]",a)}}function F_(e,t,s){const{pinia:n,store:i,options:{persist:r=s}}=e;if(!r)return;if(!(i.$id in n.state.value)){const l=n._s.get(i.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(r)?r:r===!0?[{}]:[r]).map(t);i.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{Hc(i,c,e,l)})},i.$persist=()=>{a.forEach(l=>{Wc(i.$state,l)})},a.forEach(l=>{Hc(i,l,e),i.$subscribe((c,u)=>Wc(u,l),{detached:!0})})}function N_(e={}){return function(t){F_(t,s=>({key:(e.key?e.key:n=>n)(s.key??t.store.$id),debug:s.debug??e.debug??!1,serializer:s.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>$_(n)},storage:s.storage??e.storage??window.localStorage,beforeHydrate:s.beforeHydrate,afterHydrate:s.afterHydrate,pick:s.pick,omit:s.omit}),e.auto??!1)}}var U_=N_();const Ft=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},B_={name:"App"},z_={id:"app"};function H_(e,t,s,n,i,r){const o=ft("router-view");return D(),L("div",z_,[V(o)])}const W_=Ft(B_,[["render",H_]]),V_="modulepreload",q_=function(e){return"/"+e},Vc={},dn=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(s.map(c=>{if(c=q_(c),c in Vc)return;Vc[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":V_,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ln=typeof document<"u";function mf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function K_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&mf(e.default)}const Tt=Object.assign;function ta(e,t){const s={};for(const n in t){const i=t[n];s[n]=Ye(i)?i.map(e):e(i)}return s}const Ii=()=>{},Ye=Array.isArray,_f=/#/g,G_=/&/g,Y_=/\//g,J_=/=/g,X_=/\?/g,bf=/\+/g,Z_=/%5B/g,Q_=/%5D/g,yf=/%5E/g,tb=/%60/g,vf=/%7B/g,eb=/%7C/g,wf=/%7D/g,sb=/%20/g;function Pl(e){return encodeURI(""+e).replace(eb,"|").replace(Z_,"[").replace(Q_,"]")}function nb(e){return Pl(e).replace(vf,"{").replace(wf,"}").replace(yf,"^")}function $a(e){return Pl(e).replace(bf,"%2B").replace(sb,"+").replace(_f,"%23").replace(G_,"%26").replace(tb,"`").replace(vf,"{").replace(wf,"}").replace(yf,"^")}function ib(e){return $a(e).replace(J_,"%3D")}function rb(e){return Pl(e).replace(_f,"%23").replace(X_,"%3F")}function ob(e){return e==null?"":rb(e).replace(Y_,"%2F")}function Ji(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ab=/\/$/,lb=e=>e.replace(ab,"");function ea(e,t,s="/"){let n,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=e(r)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=db(n??t,s),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:Ji(o)}}function cb(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function qc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ub(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Kn(t.matched[n],s.matched[i])&&xf(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!hb(e[s],t[s]))return!1;return!0}function hb(e,t){return Ye(e)?Kc(e,t):Ye(t)?Kc(t,e):e===t}function Kc(e,t){return Ye(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function db(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const Os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xi;(function(e){e.pop="pop",e.push="push"})(Xi||(Xi={}));var Di;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Di||(Di={}));function fb(e){if(!e)if(Ln){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),lb(e)}const pb=/^[^#]+#/;function gb(e,t){return e.replace(pb,"#")+t}function mb(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Do=()=>({left:window.scrollX,top:window.scrollY});function _b(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=mb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Gc(e,t){return(history.state?history.state.position-t:-1)+e}const ja=new Map;function bb(e,t){ja.set(e,t)}function yb(e){const t=ja.get(e);return ja.delete(e),t}let vb=()=>location.protocol+"//"+location.host;function Sf(e,t){const{pathname:s,search:n,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),qc(l,"")}return qc(s,e)+n+i}function wb(e,t,s,n){let i=[],r=[],o=null;const a=({state:d})=>{const f=Sf(e,location),g=s.value,m=t.value;let _=0;if(d){if(s.value=f,t.value=d,o&&o===g){o=null;return}_=m?d.position-m.position:0}else n(f);i.forEach(v=>{v(s.value,g,{delta:_,type:Xi.pop,direction:_?_>0?Di.forward:Di.back:Di.unknown})})};function l(){o=s.value}function c(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return r.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Tt({},d.state,{scroll:Do()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Yc(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?Do():null}}function xb(e){const{history:t,location:s}=window,n={value:Sf(e,s)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:vb()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),s[u?"replace":"assign"](d)}}function o(l,c){const u=Tt({},t.state,Yc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),n.value=l}function a(l,c){const u=Tt({},i.value,t.state,{forward:l,scroll:Do()});r(u.current,u,!0);const h=Tt({},Yc(n.value,l,null),{position:u.position+1},c);r(l,h,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function Sb(e){e=fb(e);const t=xb(e),s=wb(e,t.state,t.location,t.replace);function n(r,o=!0){o||s.pauseListeners(),history.go(r)}const i=Tt({location:"",base:e,go:n,createHref:gb.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function kb(e){return typeof e=="string"||e&&typeof e=="object"}function kf(e){return typeof e=="string"||typeof e=="symbol"}const Tf=Symbol("");var Jc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Jc||(Jc={}));function Gn(e,t){return Tt(new Error,{type:e,[Tf]:!0},t)}function ds(e,t){return e instanceof Error&&Tf in e&&(t==null||!!(e.type&t))}const Xc="[^/]+?",Tb={sensitive:!1,strict:!1,start:!0,end:!0},Eb=/[.+*?^${}()[\]/\\]/g;function Ab(e,t){const s=Tt({},Tb,t),n=[];let i=s.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(s.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(Eb,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:_,regexp:v}=d;r.push({name:g,repeatable:m,optional:_});const T=v||Xc;if(T!==Xc){f+=10;try{new RegExp(`(${T})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${T}): `+S.message)}}let x=m?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;h||(x=_&&c.length<2?`(?:/${x})`:"/"+x),_&&(x+="?"),i+=x,f+=20,_&&(f+=-8),m&&(f+=-20),T===".*"&&(f+=-50)}u.push(f)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=r[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:_}=f,v=g in c?c[g]:"";if(Ye(v)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const T=Ye(v)?v.join("/"):v;if(!T)if(_)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=T}}return u||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function Pb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ef(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const r=Pb(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(Zc(n))return 1;if(Zc(i))return-1}return i.length-n.length}function Zc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ob={type:0,value:""},Cb=/[a-zA-Z0-9_]/;function Rb(e){if(!e)return[[]];if(e==="/")return[[Ob]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=0,n=s;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=n;break;case 1:l==="("?s=2:Cb.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function Mb(e,t,s){const n=Ab(Rb(e.path),s),i=Tt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Ib(e,t){const s=[],n=new Map;t=su({strict:!1,end:!0,sensitive:!1},t);function i(h){return n.get(h)}function r(h,d,f){const g=!f,m=tu(h);m.aliasOf=f&&f.record;const _=su(t,h),v=[m];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const E of S)v.push(tu(Tt({},m,{components:f?f.record.components:m.components,path:E,aliasOf:f?f.record:m})))}let T,x;for(const S of v){const{path:E}=S;if(d&&E[0]!=="/"){const I=d.record.path,O=I[I.length-1]==="/"?"":"/";S.path=d.record.path+(E&&O+E)}if(T=Mb(S,d,_),f?f.alias.push(T):(x=x||T,x!==T&&x.alias.push(T),g&&h.name&&!eu(T)&&o(h.name)),Af(T)&&l(T),m.children){const I=m.children;for(let O=0;O<I.length;O++)r(I[O],T,f&&f.children[O])}f=f||T}return x?()=>{o(x)}:Ii}function o(h){if(kf(h)){const d=n.get(h);d&&(n.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=$b(h,s);s.splice(d,0,h),h.record.name&&!eu(h)&&n.set(h.record.name,h)}function c(h,d){let f,g={},m,_;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw Gn(1,{location:h});_=f.record.name,g=Tt(Qc(d.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&Qc(h.params,f.keys.map(x=>x.name))),m=f.stringify(g)}else if(h.path!=null)m=h.path,f=s.find(x=>x.re.test(m)),f&&(g=f.parse(m),_=f.record.name);else{if(f=d.name?n.get(d.name):s.find(x=>x.re.test(d.path)),!f)throw Gn(1,{location:h,currentLocation:d});_=f.record.name,g=Tt({},d.params,h.params),m=f.stringify(g)}const v=[];let T=f;for(;T;)v.unshift(T.record),T=T.parent;return{name:_,path:m,params:g,matched:v,meta:Lb(v)}}e.forEach(h=>r(h));function u(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Qc(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function tu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Db(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Db(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function eu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Lb(e){return e.reduce((t,s)=>Tt(t,s.meta),{})}function su(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function $b(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;Ef(e,t[r])<0?n=r:s=r+1}const i=jb(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function jb(e){let t=e;for(;t=t.parent;)if(Af(t)&&Ef(e,t)===0)return t}function Af({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(bf," "),o=r.indexOf("="),a=Ji(o<0?r:r.slice(0,o)),l=o<0?null:Ji(r.slice(o+1));if(a in t){let c=t[a];Ye(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function nu(e){let t="";for(let s in e){const n=e[s];if(s=ib(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ye(n)?n.map(r=>r&&$a(r)):[n&&$a(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function Nb(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ye(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Ub=Symbol(""),iu=Symbol(""),Lo=Symbol(""),Pf=Symbol(""),Fa=Symbol("");function ri(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function $s(e,t,s,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Gn(4,{from:s,to:t})):d instanceof Error?l(d):kb(d)?l(Gn(2,{from:t,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(n&&n.instances[i],t,s,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function sa(e,t,s,n,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(mf(l)){const u=(l.__vccOpts||l)[t];u&&r.push($s(u,s,n,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=K_(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[t];return f&&$s(f,s,n,o,a,i)()}))}}return r}function ru(e){const t=Ge(Lo),s=Ge(Pf),n=Ee(()=>{const l=cn(e.to);return t.resolve(l)}),i=Ee(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const d=h.findIndex(Kn.bind(null,u));if(d>-1)return d;const f=ou(l[c-2]);return c>1&&ou(u)===f&&h[h.length-1].path!==f?h.findIndex(Kn.bind(null,l[c-2])):d}),r=Ee(()=>i.value>-1&&Vb(s.params,n.value.params)),o=Ee(()=>i.value>-1&&i.value===s.matched.length-1&&xf(s.params,n.value.params));function a(l={}){if(Wb(l)){const c=t[cn(e.replace)?"replace":"push"](cn(e.to)).catch(Ii);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ee(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function Bb(e){return e.length===1?e[0]:e}const zb=Eo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ru,setup(e,{slots:t}){const s=ar(ru(e)),{options:n}=Ge(Lo),i=Ee(()=>({[au(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[au(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&Bb(t.default(s));return e.custom?r:Yi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),Hb=zb;function Wb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Vb(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Ye(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function ou(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const au=(e,t,s)=>e??t??s,qb=Eo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ge(Fa),i=Ee(()=>e.route||n.value),r=Ge(iu,0),o=Ee(()=>{let c=cn(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ee(()=>i.value.matched[o.value]);Hr(iu,Ee(()=>o.value+1)),Hr(Ub,a),Hr(Fa,i);const l=Ve();return Un(()=>[l.value,a.value,e.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Kn(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return lu(s.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,_=Yi(d,Tt({},g,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return lu(s.default,{Component:_,route:c})||_}}});function lu(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Kb=qb;function Gb(e){const t=Ib(e.routes,e),s=e.parseQuery||Fb,n=e.stringifyQuery||nu,i=e.history,r=ri(),o=ri(),a=ri(),l=yl(Os);let c=Os;Ln&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ta.bind(null,C=>""+C),h=ta.bind(null,ob),d=ta.bind(null,Ji);function f(C,W){let z,G;return kf(C)?(z=t.getRecordMatcher(C),G=W):G=C,t.addRoute(G,z)}function g(C){const W=t.getRecordMatcher(C);W&&t.removeRoute(W)}function m(){return t.getRoutes().map(C=>C.record)}function _(C){return!!t.getRecordMatcher(C)}function v(C,W){if(W=Tt({},W||l.value),typeof C=="string"){const k=ea(s,C,W.path),P=t.resolve({path:k.path},W),R=i.createHref(k.fullPath);return Tt(k,P,{params:d(P.params),hash:Ji(k.hash),redirectedFrom:void 0,href:R})}let z;if(C.path!=null)z=Tt({},C,{path:ea(s,C.path,W.path).path});else{const k=Tt({},C.params);for(const P in k)k[P]==null&&delete k[P];z=Tt({},C,{params:h(k)}),W.params=h(W.params)}const G=t.resolve(z,W),kt=C.hash||"";G.params=u(d(G.params));const b=cb(n,Tt({},C,{hash:nb(kt),path:G.path})),y=i.createHref(b);return Tt({fullPath:b,hash:kt,query:n===nu?Nb(C.query):C.query||{}},G,{redirectedFrom:void 0,href:y})}function T(C){return typeof C=="string"?ea(s,C,l.value.path):Tt({},C)}function x(C,W){if(c!==C)return Gn(8,{from:W,to:C})}function S(C){return O(C)}function E(C){return S(Tt(T(C),{replace:!0}))}function I(C){const W=C.matched[C.matched.length-1];if(W&&W.redirect){const{redirect:z}=W;let G=typeof z=="function"?z(C):z;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=T(G):{path:G},G.params={}),Tt({query:C.query,hash:C.hash,params:G.path!=null?{}:C.params},G)}}function O(C,W){const z=c=v(C),G=l.value,kt=C.state,b=C.force,y=C.replace===!0,k=I(z);if(k)return O(Tt(T(k),{state:typeof k=="object"?Tt({},kt,k.state):kt,force:b,replace:y}),W||z);const P=z;P.redirectedFrom=W;let R;return!b&&ub(n,G,z)&&(R=Gn(16,{to:P,from:G}),gt(G,G,!0,!1)),(R?Promise.resolve(R):Z(P,G)).catch(A=>ds(A)?ds(A,2)?A:Yt(A):ut(A,P,G)).then(A=>{if(A){if(ds(A,2))return O(Tt({replace:y},T(A.to),{state:typeof A.to=="object"?Tt({},kt,A.to.state):kt,force:b}),W||P)}else A=it(P,G,!0,y,kt);return q(P,G,A),A})}function M(C,W){const z=x(C,W);return z?Promise.reject(z):Promise.resolve()}function U(C){const W=ne.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(C):C()}function Z(C,W){let z;const[G,kt,b]=Yb(C,W);z=sa(G.reverse(),"beforeRouteLeave",C,W);for(const k of G)k.leaveGuards.forEach(P=>{z.push($s(P,C,W))});const y=M.bind(null,C,W);return z.push(y),Rt(z).then(()=>{z=[];for(const k of r.list())z.push($s(k,C,W));return z.push(y),Rt(z)}).then(()=>{z=sa(kt,"beforeRouteUpdate",C,W);for(const k of kt)k.updateGuards.forEach(P=>{z.push($s(P,C,W))});return z.push(y),Rt(z)}).then(()=>{z=[];for(const k of b)if(k.beforeEnter)if(Ye(k.beforeEnter))for(const P of k.beforeEnter)z.push($s(P,C,W));else z.push($s(k.beforeEnter,C,W));return z.push(y),Rt(z)}).then(()=>(C.matched.forEach(k=>k.enterCallbacks={}),z=sa(b,"beforeRouteEnter",C,W,U),z.push(y),Rt(z))).then(()=>{z=[];for(const k of o.list())z.push($s(k,C,W));return z.push(y),Rt(z)}).catch(k=>ds(k,8)?k:Promise.reject(k))}function q(C,W,z){a.list().forEach(G=>U(()=>G(C,W,z)))}function it(C,W,z,G,kt){const b=x(C,W);if(b)return b;const y=W===Os,k=Ln?history.state:{};z&&(G||y?i.replace(C.fullPath,Tt({scroll:y&&k&&k.scroll},kt)):i.push(C.fullPath,kt)),l.value=C,gt(C,W,z,y),Yt()}let _t;function Bt(){_t||(_t=i.listen((C,W,z)=>{if(!vt.listening)return;const G=v(C),kt=I(G);if(kt){O(Tt(kt,{replace:!0,force:!0}),G).catch(Ii);return}c=G;const b=l.value;Ln&&bb(Gc(b.fullPath,z.delta),Do()),Z(G,b).catch(y=>ds(y,12)?y:ds(y,2)?(O(Tt(T(y.to),{force:!0}),G).then(k=>{ds(k,20)&&!z.delta&&z.type===Xi.pop&&i.go(-1,!1)}).catch(Ii),Promise.reject()):(z.delta&&i.go(-z.delta,!1),ut(y,G,b))).then(y=>{y=y||it(G,b,!1),y&&(z.delta&&!ds(y,8)?i.go(-z.delta,!1):z.type===Xi.pop&&ds(y,20)&&i.go(-1,!1)),q(G,b,y)}).catch(Ii)}))}let yt=ri(),rt=ri(),Q;function ut(C,W,z){Yt(C);const G=rt.list();return G.length?G.forEach(kt=>kt(C,W,z)):console.error(C),Promise.reject(C)}function ae(){return Q&&l.value!==Os?Promise.resolve():new Promise((C,W)=>{yt.add([C,W])})}function Yt(C){return Q||(Q=!C,Bt(),yt.list().forEach(([W,z])=>C?z(C):W()),yt.reset()),C}function gt(C,W,z,G){const{scrollBehavior:kt}=e;if(!Ln||!kt)return Promise.resolve();const b=!z&&yb(Gc(C.fullPath,0))||(G||!z)&&history.state&&history.state.scroll||null;return To().then(()=>kt(C,W,b)).then(y=>y&&_b(y)).catch(y=>ut(y,C,W))}const Nt=C=>i.go(C);let St;const ne=new Set,vt={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:m,resolve:v,options:e,push:S,replace:E,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:rt.add,isReady:ae,install(C){const W=this;C.component("RouterLink",Hb),C.component("RouterView",Kb),C.config.globalProperties.$router=W,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>cn(l)}),Ln&&!St&&l.value===Os&&(St=!0,S(i.location).catch(kt=>{}));const z={};for(const kt in Os)Object.defineProperty(z,kt,{get:()=>l.value[kt],enumerable:!0});C.provide(Lo,W),C.provide(Pf,kd(z)),C.provide(Fa,l);const G=C.unmount;ne.add(C),C.unmount=function(){ne.delete(C),ne.size<1&&(c=Os,_t&&_t(),_t=null,l.value=Os,St=!1,Q=!1),G()}}};function Rt(C){return C.reduce((W,z)=>W.then(()=>U(z)),Promise.resolve())}return vt}function Yb(e,t){const s=[],n=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Kn(c,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Kn(c,l))||i.push(l))}return[s,n,i]}function Ol(){return Ge(Lo)}const Jb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Cl extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class Xb extends Cl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zb extends Cl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qb extends Cl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Na;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Na||(Na={}));var ty=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class ey{constructor(t,{headers:s={},customFetch:n,region:i=Na.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=Jb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return ty(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new Xb(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Zb(u);if(!u.ok)throw new Qb(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="text/event-stream"?f=u:d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ny(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var Zt={},Sn={},kn={},Tn={},En={},An={},iy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=iy();const ry=Yn.fetch,Of=Yn.fetch.bind(Yn),Cf=Yn.Headers,oy=Yn.Request,ay=Yn.Response,Qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cf,Request:oy,Response:ay,default:Of,fetch:ry},Symbol.toStringTag,{value:"Module"})),ly=ny(Qn);var yr={},cu;function Rf(){if(cu)return yr;cu=1,Object.defineProperty(yr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return yr.default=e,yr}var uu;function Mf(){if(uu)return An;uu=1;var e=An&&An.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(An,"__esModule",{value:!0});const t=e(ly),s=e(Rf());class n{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=Object.assign({},this.headers),this.headers[r]=o,this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d;let f=null,g=null,m=null,_=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=E:g=JSON.parse(E))}const x=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,_=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{f=JSON.parse(x),Array.isArray(f)&&c.status===404&&(g=[],f=null,_=200,v="OK")}catch{c.status===404&&x===""?(_=204,v="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,_=200,v="OK"),f&&this.shouldThrowOnError)throw new s.default(f)}return{error:f,data:g,count:m,status:_,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return An.default=n,An}var hu;function If(){if(hu)return En;hu=1;var e=En&&En.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(En,"__esModule",{value:!0});const t=e(Mf());class s extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return En.default=s,En}var du;function Rl(){if(du)return Tn;du=1;var e=Tn&&Tn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tn,"__esModule",{value:!0});const t=e(If());class s extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Tn.default=s,Tn}var fu;function Df(){if(fu)return kn;fu=1;var e=kn&&kn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kn,"__esModule",{value:!0});const t=e(Rl());class s{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=r,this.schema=o,this.fetch=a}select(i,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:r,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:r}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const r="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return kn.default=s,kn}var oi={},ai={},pu;function cy(){return pu||(pu=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.version=void 0,ai.version="0.0.0-automated"),ai}var gu;function uy(){if(gu)return oi;gu=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.DEFAULT_HEADERS=void 0;const e=cy();return oi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},oi}var mu;function hy(){if(mu)return Sn;mu=1;var e=Sn&&Sn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sn,"__esModule",{value:!0});const t=e(Df()),s=e(Rl()),n=uy();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([m,_])=>_!==void 0).map(([m,_])=>[m,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([m,_])=>{d.searchParams.append(m,_)})):(h="POST",f=a);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new s.default({method:h,url:d,headers:g,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Sn.default=i,Sn}var _u;function dy(){if(_u)return Zt;_u=1;var e=Zt&&Zt.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const t=e(hy());Zt.PostgrestClient=t.default;const s=e(Df());Zt.PostgrestQueryBuilder=s.default;const n=e(Rl());Zt.PostgrestFilterBuilder=n.default;const i=e(If());Zt.PostgrestTransformBuilder=i.default;const r=e(Mf());Zt.PostgrestBuilder=r.default;const o=e(Rf());return Zt.PostgrestError=o.default,Zt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},Zt}var fy=dy();const py=sy(fy),{PostgrestClient:gy,PostgrestQueryBuilder:iO,PostgrestFilterBuilder:rO,PostgrestTransformBuilder:oO,PostgrestBuilder:aO,PostgrestError:lO}=py;let Ua;typeof window>"u"?Ua=require("ws"):Ua=window.WebSocket;const my="2.11.10",_y={"X-Client-Info":`realtime-js/${my}`},by="1.0.0",Lf=1e4,yy=1e3;var Bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bn||(Bn={}));var be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(be||(be={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var Ba;(function(e){e.websocket="websocket"})(Ba||(Ba={}));var rn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rn||(rn={}));class vy{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $f{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Mt||(Mt={}));const bu=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((r,o)=>(r[o]=wy(o,e,t,i),r),{})},wy=(e,t,s,n)=>{const i=t.find(a=>a.name===e),r=i==null?void 0:i.type,o=s[e];return r&&!n.includes(r)?jf(r,o):za(o)},jf=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Ty(t,s)}switch(e){case Mt.bool:return xy(t);case Mt.float4:case Mt.float8:case Mt.int2:case Mt.int4:case Mt.int8:case Mt.numeric:case Mt.oid:return Sy(t);case Mt.json:case Mt.jsonb:return ky(t);case Mt.timestamp:return Ey(t);case Mt.abstime:case Mt.date:case Mt.daterange:case Mt.int4range:case Mt.int8range:case Mt.money:case Mt.reltime:case Mt.text:case Mt.time:case Mt.timestamptz:case Mt.timetz:case Mt.tsrange:case Mt.tstzrange:return za(t);default:return za(t)}},za=e=>e,xy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ky=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ty=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let r;const o=e.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>jf(t,a))}return e},Ey=e=>typeof e=="string"?e.replace(" ","T"):e,Ff=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class na{constructor(t,s,n={},i=Lf){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yu||(yu={}));class Li{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Li.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Li.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const r=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(_=>_.presence_ref),f=h.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),m=h.filter(_=>d.indexOf(_.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(t,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vu||(vu={}));var wu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wu||(wu={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class Ml{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new na(this,We.join,this.params,this.timeout),this.rejoinTimer=new $f(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new Li(this),this.broadcastEndpointURL=Ff(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ys.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ys.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(ys.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,g=[];for(let m=0;m<f;m++){const _=d[m],{filter:{event:v,schema:T,table:x,filter:S}}=_,E=u&&u[m];if(E&&E.event===v&&E.schema===T&&E.table===x&&E.filter===S)g.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=be.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ys.SUBSCRIBED);return}}).receive("error",u=>{this.state=be.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const i=new na(this,We.leave,{},t);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new na(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(m=f.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,m,_,v,T,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,E=(g=f.filter)===null||g===void 0?void 0:g.event;return S&&((m=s.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=s.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(T=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return S==="*"||S===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:m,table:_,commit_timestamp:v,type:T,errors:x}=g;d=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:v,eventType:T,new:{},old:{},errors:x}),this._getPayloadRecords(g))}f.callback(d,n)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&Ml.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=bu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=bu(t.columns,t.old_record)),s}}const xu=()=>{},Ay=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Py{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=_y,this.params={},this.timeout=Lf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xu,this.ref=0,this.logger=xu,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>dn(async()=>{const{default:l}=await Promise.resolve().then(()=>Qn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ba.websocket}`,this.httpEndpoint=Ff(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(r,o)=>o(JSON.stringify(r)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $f(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ua),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Oy(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:by}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return rn.Connecting;case Bn.open:return rn.Open;case Bn.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===n);if(i)return i;{const r=new Ml(`realtime:${t}`,s,this);return this.channels.push(r),r}}push(t){const{topic:s,event:n,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(We.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(yy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:r,ref:o}=s;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,r),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Ay],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Oy{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Il extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cy extends Il{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ha extends Il{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Ry=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Nf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},My=()=>Ry(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dn(()=>Promise.resolve().then(()=>Qn),void 0)).Response:Response}),Wa=e=>{if(Array.isArray(e))return e.map(s=>Wa(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=Wa(n)}),t};var gn=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ia=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Iy=(e,t,s)=>gn(void 0,void 0,void 0,function*(){const n=yield My();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new Cy(ia(i),e.status||500))}).catch(i=>{t(new Ha(ia(i),i))}):t(new Ha(ia(e),e))}),Dy=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function dr(e,t,s,n,i,r){return gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Dy(t,n,i,r)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Iy(l,a,n))})})}function oo(e,t,s,n){return gn(this,void 0,void 0,function*(){return dr(e,"GET",t,s,n)})}function js(e,t,s,n,i){return gn(this,void 0,void 0,function*(){return dr(e,"POST",t,n,i,s)})}function Ly(e,t,s,n,i){return gn(this,void 0,void 0,function*(){return dr(e,"PUT",t,n,i,s)})}function $y(e,t,s,n){return gn(this,void 0,void 0,function*(){return dr(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Uf(e,t,s,n,i){return gn(this,void 0,void 0,function*(){return dr(e,"DELETE",t,n,i,s)})}var ke=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const jy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Su={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fy{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=Nf(i)}uploadOrUpdate(t,s,n,i){return ke(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Su),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}upload(t,s,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return ke(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Su.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield h.json();return h.ok?{data:{path:r,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(Qt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const r=yield js(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Il("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}update(t,s,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return ke(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}copy(t,s,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield js(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return ke(this,void 0,void 0,function*(){try{const i=yield js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}download(t,s){return ke(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield oo(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Qt(a))return{data:null,error:a};throw a}})}info(t){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield oo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wa(n),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}exists(t){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield $y(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Qt(n)&&n instanceof Ha){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Qt(s))return{data:null,error:s};throw s}})}list(t,s,n){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jy),s),{prefix:t||""});return{data:yield js(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Ny="2.7.1",Uy={"X-Client-Info":`storage-js/${Ny}`};var Pn=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class By{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},Uy),s),this.fetch=Nf(n)}listBuckets(){return Pn(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Qt(t))return{data:null,error:t};throw t}})}getBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Qt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Pn(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return Pn(this,void 0,void 0,function*(){try{return{data:yield Ly(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Qt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Qt(s))return{data:null,error:s};throw s}})}}class zy extends By{constructor(t,s={},n){super(t,s,n)}from(t){return new Fy(this.url,this.headers,t,this.fetch)}}const Hy="2.50.0";let yi="";typeof Deno<"u"?yi="deno":typeof document<"u"?yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yi="react-native":yi="node";const Wy={"X-Client-Info":`supabase-js-${yi}/${Hy}`},Vy={headers:Wy},qy={schema:"public"},Ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gy={};var Yy=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Of:t=fetch,(...s)=>t(...s)},Xy=()=>typeof Headers>"u"?Cf:Headers,Zy=(e,t,s)=>{const n=Jy(s),i=Xy();return(r,o)=>Yy(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var Qy=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function t0(e){return e.endsWith("/")?e:e+"/"}function e0(e,t){var s,n;const{db:i,auth:r,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Qy(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Bf="2.70.0",$n=30*1e3,Va=3,ra=Va*$n,s0="http://localhost:9999",n0="supabase.auth.token",i0={"X-Client-Info":`gotrue-js/${Bf}`},qa="X-Supabase-Api-Version",zf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o0=6e5;class Dl extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function at(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class a0 extends Dl{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function l0(e){return at(e)&&e.name==="AuthApiError"}class Hf extends Dl{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ks extends Dl{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class Ms extends Ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c0(e){return at(e)&&e.name==="AuthSessionMissingError"}class vr extends Ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends Ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xr extends Ks{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u0(e){return at(e)&&e.name==="AuthImplicitGrantRedirectError"}class ku extends Ks{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ka extends Ks{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function oa(e){return at(e)&&e.name==="AuthRetryableFetchError"}class Tu extends Ks{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class $i extends Ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eu=` 	
\r=`.split(""),h0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Eu.length;t+=1)e[Eu[t].charCodeAt(0)]=-2;for(let t=0;t<ao.length;t+=1)e[ao[t].charCodeAt(0)]=t;return e})();function Au(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(ao[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(ao[n]),t.queuedBits-=6}}function Wf(e,t,s){const n=h0[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pu(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{p0(o,n,s)};for(let o=0;o<e.length;o+=1)Wf(e.charCodeAt(o),i,r);return t.join("")}function d0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function f0(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}d0(n,t)}}function p0(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function g0(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Wf(e.charCodeAt(i),s,n);return new Uint8Array(t)}function m0(e){const t=[];return f0(e,s=>t.push(s)),new Uint8Array(t)}function _0(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Au(i,s,n)),Au(null,s,n),t.join("")}function b0(e){return Math.round(Date.now()/1e3)+e}function y0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},ji=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function v0(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const Vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},w0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qf=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Sr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},kr=async(e,t)=>{await e.removeItem(t)};class $o{constructor(){this.promise=new $o.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}$o.promiseConstructor=Promise;function aa(e){const t=e.split(".");if(t.length!==3)throw new $i("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!r0.test(t[n]))throw new $i("JWT not in base64url format");return{header:JSON.parse(Pu(t[0])),payload:JSON.parse(Pu(t[1])),signature:g0(t[2]),raw:{header:t[0],payload:t[1]}}}async function x0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S0(e,t){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await e(r);if(!t(r,null,o)){n(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function k0(e){return("0"+e.toString(16)).substr(-2)}function T0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,k0).join("")}async function E0(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function A0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await E0(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(e,t,s=!1){const n=T0();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await qf(e,`${t}-code-verifier`,i);const r=await A0(n);return[r,n===r?"plain":"s256"]}const P0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O0(e){const t=e.headers.get(qa);if(!t||!t.match(P0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function C0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function R0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(e){if(!M0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var I0=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const en=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D0=[502,503,504];async function Ou(e){var t;if(!w0(e))throw new Ka(en(e),0);if(D0.includes(e.status))throw new Ka(en(e),e.status);let s;try{s=await e.json()}catch(r){throw new Hf(en(r),r)}let n;const i=O0(e);if(i&&i.getTime()>=zf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Tu(en(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ms}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Tu(en(s),e.status,s.weak_password.reasons);throw new a0(en(s),e.status||500,n)}const L0=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function dt(e,t,s,n){var i;const r=Object.assign({},n==null?void 0:n.headers);r[qa]||(r[qa]=zf["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $0(e,t,s+a,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $0(e,t,s,n,i,r){const o=L0(t,n,i,r);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Ka(en(l),0)}if(a.ok||await Ou(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ou(l)}}function ps(e){var t;let s=null;U0(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=b0(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function Cu(e){const t=ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j0(e){return{data:e,error:null}}function F0(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=e,o=I0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function N0(e){return e}function U0(e){return e.access_token&&e.refresh_token&&e.expires_in}const la=["global","local","others"];var B0=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class z0{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=la[0]){if(la.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${la.join(", ")}`);try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ns})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=B0(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:F0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(at(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ns})}catch(s){if(at(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:N0});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(at(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Cn(t);try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ns})}catch(s){if(at(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Cn(t);try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ns})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Cn(t);try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ns})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Cn(t.userId);try{const{data:s,error:n}=await dt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(at(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Cn(t.userId),Cn(t.id);try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}}}const H0={getItem:e=>ji()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ji()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ji()&&globalThis.localStorage.removeItem(e)}};function Ru(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function W0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rn={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class V0 extends Kf{}async function q0(e,t,s){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}W0();const K0={url:s0,storageKey:n0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mu(e,t,s){return await s()}class Zi{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},K0),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new z0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vf(i.fetch),this.lock=i.lock||Mu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=q0:this.lock=Mu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ji()?this.storage=H0:(this.memoryStorage={},this.storage=Ru(this.memoryStorage)):(this.memoryStorage={},this.storage=Ru(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=v0(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ze()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),u0(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return at(s)?{error:s}:{error:new Hf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const r=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ps}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var s,n,i;try{let r;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await On(this.storage,this.storageKey)),r=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:ps})}else if("phone"in t){const{phone:u,password:h,options:d}=t;r=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ps})}else throw new wr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let s;if("email"in t){const{email:r,password:o,options:a}=t;s=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else if("phone"in t){const{phone:r,password:o,options:a}=t;s=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else throw new wr("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,i,r,o,a,l,c,u,h,d,f;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:_,wallet:v,statement:T,options:x}=t;let S;if(ze())if(typeof v=="object")S=v;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))S=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const E=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const I=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),T?{statement:T}:null));let O;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")O=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)O=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)g=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=x==null?void 0:x.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const I=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=I}}try{const{data:_,error:v}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:_0(m)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ps});if(v)throw v;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new vr}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v})}catch(_){if(at(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const s=await Sr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ps});if(await kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new vr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(at(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=t,a=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ps}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await On(this.storage,this.storageKey));const{error:h}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new wr("You must provide either an email or phone number.")}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let i,r;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,r=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:ps});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(at(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await On(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:j0})}catch(r){if(at(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Ms;const{error:i}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:r}=t,{error:o}=await dt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:r}=t,{data:o,error:a}=await dt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wr("You must provide either an email or phone number and a type")}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ra:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ns}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ms}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Ns})})}catch(s){if(at(s))return c0(s)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new Ms;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await On(this.storage,this.storageKey));const{data:c,error:u}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ns});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ms;const s=Date.now()/1e3;let n=s,i=!0,r=null;const{payload:o}=aa(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(at(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ms;const{session:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!ze())throw new xr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ku("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ku("No code detected.");const{data:T,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new xr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,u);const{data:m,error:_}=await this._getUser(r);if(_)throw _;const v={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(at(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Sr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(l0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=y0(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await On(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(at(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ze()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(at(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await S0(async i=>(i>0&&await x0(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ps})),(i,r)=>{const o=200*Math.pow(2,i);return r&&oa(r)&&Date.now()+o-n<$n})}catch(n){if(this._debug(s,"error",n),at(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),ze()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Sr(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ra;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ra}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:r}=await this._callRefreshToken(n.refresh_token);r&&(console.error(r),oa(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $o;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Ms;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),at(r)){const o={session:null,error:r};return oa(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$n}ms, refresh threshold is ${Va} ticks`),i<=Va&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await On(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await dt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(at(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(at(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=aa(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+o0>Date.now()))return n;const{data:i,error:r}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!i.keys||i.keys.length===0)throw new $i("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===t),!n)throw new $i("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=aa(n);if(C0(r.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const c=R0(i.alg),u=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,m0(`${a}.${l}`)))throw new $i("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}}Zi.nextInstanceID=0;const G0=Zi;class Y0 extends G0{constructor(t){super(t)}}var J0=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class X0{constructor(t,s,n){var i,r,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=t0(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:qy,realtime:Gy,auth:Object.assign(Object.assign({},Ky),{storageKey:c}),global:Vy},h=e0(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=h.global.headers)!==null&&r!==void 0?r:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Zy(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new gy(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ey(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return J0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:r,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Py(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z0=(e,t,s)=>new X0(e,t,s),Q0="https://afyhwaihedxliidkzclc.supabase.co",tv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmeWh3YWloZWR4bGlpZGt6Y2xjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMTEyMzcsImV4cCI6MjA2MzU4NzIzN30.nK6LnZtKI5TzTks2jCKgyoqPkE0d1pFJscusAwnGadc",X=Z0(Q0,tv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function ev(e=32){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}const Iu=()=>{const e=ev(32);return document.cookie=`csrf-token=${e}; SameSite=Strict; path=/`,e},Gf=e=>{if(!e)return!1;const s=document.cookie.split(";").find(i=>i.trim().startsWith("csrf-token="));return s?s.split("=")[1].trim()===e:!1},sv=()=>{const t=document.cookie.split(";").find(s=>s.trim().startsWith("csrf-token="));return t?t.split("=")[1].trim():null},nv=async(e,t,s)=>{const n=e.matched.some(r=>r.meta.requiresAuth),i=e.matched.some(r=>r.meta.requiresAdmin);if(e.path==="/login"||e.path==="/register"){s();return}if(["POST","PUT","DELETE"].includes(e.meta.method)){const r=e.query.csrf_token||e.params.csrf_token;if(!r||!Gf(r)){console.error("CSRF token verification failed"),s("/error?code=403");return}}try{const{data:r}=await X.auth.getSession(),o=r==null?void 0:r.session;let a=null;if(o){const{data:l}=await X.auth.getUser();a=l==null?void 0:l.user}if(n&&!a){s("/login");return}if(i&&a)try{const{data:l,error:c}=await X.from("profiles").select("is_admin").eq("id",a.id).single();if(c||!(l!=null&&l.is_admin)){s("/");return}}catch(l){console.error("Admin check error:",l),s("/");return}else if(i){s("/login");return}s()}catch(r){console.error("Auth error:",r),n||i?s("/login"):s()}},Yf=C_("user",{state:()=>({user:null,isLoading:!1}),actions:{setUser(e){this.user=e},async loadUser(){this.isLoading=!0;try{const{data:e}=await X.auth.getSession();if(e!=null&&e.session){const{data:t}=await X.auth.getUser();if(t!=null&&t.user)return this.setUser(t.user),t.user}return this.setUser(null),null}catch(e){return console.error("Error loading user:",e),this.setUser(null),null}finally{this.isLoading=!1}}},persist:!0}),Jf="/assets/food-tray-DyCIIG1J.png",iv={name:"AppHeader",setup(){const e=Yf(),t=Ol(),s=Ve(!1),n=async()=>{if(!e.user)return!1;try{const{data:o,error:a}=await X.from("profiles").select("is_admin").eq("id",e.user.id).single();return a||!o?!1:(s.value=o.is_admin===!0,o.is_admin===!0)}catch(o){return console.error("Error checking admin status:",o),!1}};Po(async()=>{await e.loadUser(),e.user&&await n()});const i=async()=>{await X.auth.signOut(),e.setUser(null),t.push("/login")},r=Ee(()=>{var a,l;return(l=(a=e.user)==null?void 0:a.user_metadata)!=null&&l.full_name?e.user.user_metadata.full_name.split(" ").slice(0,2).map(c=>c[0]).join("").toUpperCase():"U"});return{user:Ee(()=>e.user),isAdmin:s,userInitials:r,handleLogout:i}},data(){return{navItems:[{path:"/",label:"Home"},{path:"/menu",label:"Meal Plans"},{path:"/testimonials",label:"Testimonials"},{path:"/subscription",label:"Subscription"},{path:"/contact",label:"Contact Us"}]}}},rv={class:"bg-base-100 shadow-md sticky top-0 z-50"},ov={class:"navbar container mx-auto"},av={class:"flex-1"},lv={class:"flex-none hidden md:block"},cv={class:"menu menu-horizontal px-1 space-x-2"},uv={key:0,class:"dropdown dropdown-end ml-4"},hv={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle avatar"},dv={class:"w-10 rounded-full bg-primary text-primary-content flex items-center justify-center"},fv={tabindex:"0",class:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52"},pv={key:0},gv={key:1,class:"flex items-center space-x-4 ml-4"},mv={class:"flex-none md:hidden"},_v={class:"dropdown dropdown-end"},bv={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"},yv={key:0},vv={key:1},wv={key:2},xv={key:3};function Sv(e,t,s,n,i,r){const o=ft("router-link");return D(),L("header",rv,[p("div",ov,[p("div",av,[V(o,{to:"/",class:"flex items-center"},{default:Vt(()=>t[2]||(t[2]=[p("div",{class:"avatar"},[p("div",{class:"w-16 rounded-full p-2"},[p("img",{src:Jf,alt:"SEA Catering Logo",class:"w-full h-full object-cover"})])],-1),p("div",{class:"ml-4"},[p("h1",{class:"text-2xl font-bold text-primary"},"SEA Catering"),p("p",{class:"text-secondary text-sm"},"Healthy Meals, Anytime, Anywhere")],-1)])),_:1,__:[2]})]),p("div",lv,[p("ul",cv,[(D(!0),L(Ot,null,Gt(i.navItems,(a,l)=>(D(),L("li",{key:l},[V(o,{to:a.path,class:rs([{"text-primary font-bold":e.$route.path===a.path},"text-lg hover:text-primary transition-colors"])},{default:Vt(()=>[bt(K(a.label),1)]),_:2},1032,["to","class"])]))),128)),n.user?(D(),L("div",uv,[p("div",hv,[p("div",dv,[p("span",null,K(n.userInitials),1)])]),p("ul",fv,[p("li",null,[V(o,{to:"/profile",class:"justify-between"},{default:Vt(()=>t[3]||(t[3]=[bt(" Profile ")])),_:1,__:[3]})]),p("li",null,[V(o,{to:"/dashboard",class:"justify-between"},{default:Vt(()=>t[4]||(t[4]=[bt(" My Subscriptions "),p("span",{class:"badge badge-primary"},"New",-1)])),_:1,__:[4]})]),n.isAdmin?(D(),L("li",pv,[V(o,{to:"/admin",class:"justify-between"},{default:Vt(()=>t[5]||(t[5]=[bt(" Admin Dashboard ")])),_:1,__:[5]})])):jt("",!0),p("li",null,[p("a",{onClick:t[0]||(t[0]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])])])):(D(),L("div",gv,[V(o,{to:"/login",class:"btn btn-outline btn-primary btn-sm"},{default:Vt(()=>t[6]||(t[6]=[bt("Login")])),_:1,__:[6]}),V(o,{to:"/register",class:"btn btn-primary btn-sm"},{default:Vt(()=>t[7]||(t[7]=[bt("Register")])),_:1,__:[7]})]))])]),p("div",mv,[p("div",_v,[t[13]||(t[13]=p("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-circle"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),p("ul",bv,[(D(!0),L(Ot,null,Gt(i.navItems,(a,l)=>(D(),L("li",{key:l},[V(o,{to:a.path,class:rs({"text-primary font-bold":e.$route.path===a.path})},{default:Vt(()=>[bt(K(a.label),1)]),_:2},1032,["to","class"])]))),128)),n.user?(D(),L("li",yv,[V(o,{to:"/profile"},{default:Vt(()=>t[8]||(t[8]=[bt("Profile")])),_:1,__:[8]})])):jt("",!0),n.user?(D(),L("li",vv,[V(o,{to:"/dashboard"},{default:Vt(()=>t[9]||(t[9]=[bt("My Subscriptions")])),_:1,__:[9]})])):jt("",!0),n.user&&n.isAdmin?(D(),L("li",wv,[V(o,{to:"/admin"},{default:Vt(()=>t[10]||(t[10]=[bt("Admin Dashboard")])),_:1,__:[10]})])):jt("",!0),n.user?(D(),L("li",xv,[p("a",{onClick:t[1]||(t[1]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])):jt("",!0),n.user?jt("",!0):(D(),L(Ot,{key:4},[p("li",null,[V(o,{to:"/login"},{default:Vt(()=>t[11]||(t[11]=[bt("Login")])),_:1,__:[11]})]),p("li",null,[V(o,{to:"/register"},{default:Vt(()=>t[12]||(t[12]=[bt("Register")])),_:1,__:[12]})])],64))])])])])])}const As=Ft(iv,[["render",Sv],["__scopeId","data-v-facdc4fc"]]),kv={name:"AppFooter"};function Tv(e,t,s,n,i,r){return t[0]||(t[0]=ur('<footer class="bg-base-200 text-base-content py-12 px-6" data-v-35502c4d><div class="container mx-auto" data-v-35502c4d><div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-10 sm:gap-x-8" data-v-35502c4d><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>SERVICES</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Meal Plans</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Corporate Catering</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Special Diets</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Nutrition Consulting</a></li></ul></div><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>COMPANY</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>About us</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Contact</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Careers</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Press kit</a></li></ul></div><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>LEGAL</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Terms of use</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Privacy policy</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Cookie policy</a></li></ul></div></div></div></footer><footer class="bg-base-200 text-base-content border-t border-base-300 py-6 px-6" data-v-35502c4d><div class="container mx-auto flex flex-col md:flex-row justify-between items-center" data-v-35502c4d><aside class="flex items-center mb-6 md:mb-0" data-v-35502c4d><div class="avatar mr-4" data-v-35502c4d><div class="w-12 rounded-full bg-primary/10 p-2" data-v-35502c4d><img src="'+Jf+'" alt="SEA Catering Logo" class="w-full h-full object-cover" data-v-35502c4d></div></div><div data-v-35502c4d><p class="font-bold text-lg" data-v-35502c4d>SEA Catering</p><p class="text-sm" data-v-35502c4d>Healthy meals delivered across Indonesia</p></div></aside><div class="text-center md:text-right text-sm" data-v-35502c4d><p class="mb-1" data-v-35502c4d>© 2023 SEA Catering. All rights reserved.</p><p data-v-35502c4d> Contact: <a href="mailto:manager@seacatering.id" class="hover:text-primary" data-v-35502c4d>manager@seacatering.id</a> | <a href="tel:+6281234567890" class="hover:text-primary" data-v-35502c4d>+62 812-3456-789</a></p></div></div></footer>',2))}const Ps=Ft(kv,[["render",Tv],["__scopeId","data-v-35502c4d"]]),Xf=async()=>{try{const{data:e,error:t}=await X.auth.getUser();if(t||!(e!=null&&e.user))return!1;const{data:s,error:n}=await X.from("profiles").select("is_admin").eq("id",e.user.id).single();return!(n||!s||!s.is_admin)}catch(e){return console.error("Admin verification error:",e),!1}},Ev=async(e=null,t=null)=>{if(!await Xf())throw new Error("Unauthorized access. Admin privileges required.");if(!e){const n=new Date;n.setMonth(n.getMonth()-1),e=n.toISOString().split("T")[0]}t||(t=new Date().toISOString().split("T")[0]);try{const{data:n,error:i}=await X.from("subscriptions").select("*").or("status.eq.active,status.is.null");if(i)throw i;const{data:r,error:o}=await X.from("subscriptions").select("*").gte("created_at",`${e}T00:00:00`).lte("created_at",`${t}T23:59:59`);if(o)throw o;const{data:a,error:l}=await X.from("subscriptions").select("*").not("reactivated_at","is",null).gte("reactivated_at",`${e}T00:00:00`).lte("reactivated_at",`${t}T23:59:59`);if(l)throw l;let c=0;return n&&(c=n.reduce((u,h)=>u+(h.total_price||0),0)),{activeSubscriptions:n?n.length:0,newSubscriptions:r?r.length:0,reactivations:a?a.length:0,monthlyRevenue:c,subscriptionGrowth:r?r.length-(a?a.length:0):0}}catch(n){return console.error("Error fetching admin dashboard data:",n),{activeSubscriptions:0,newSubscriptions:0,reactivations:0,monthlyRevenue:0,subscriptionGrowth:0}}},Av=async()=>{if(!await Xf())throw new Error("Unauthorized access. Admin privileges required.");const{data:t,error:s}=await X.from("subscriptions").select("*").order("created_at",{ascending:!1}).limit(100);if(s)throw console.error("Error fetching subscriptions:",s),s;return t},Pv={name:"SubscriptionTable",data(){return{subscriptions:[],currentPage:1,itemsPerPage:10,searchQuery:"",showModal:!1,selectedSubscription:null}},computed:{filteredSubscriptions(){return this.subscriptions.filter(e=>{const t=this.searchQuery.toLowerCase();return e.name.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t)||e.plan.toLowerCase().includes(t)})},totalPages(){return Math.ceil(this.filteredSubscriptions.length/this.itemsPerPage)},paginatedSubscriptions(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredSubscriptions.slice(e,t)}},async mounted(){this.subscriptions=await Av()},methods:{formatPrice(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)},formatDate(e){const t={year:"numeric",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},viewDetails(e){this.selectedSubscription=e,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedSubscription=null}}},Ov={class:"overflow-x-auto"},Cv={class:"flex justify-between items-center mb-6"},Rv={class:"flex gap-2"},Mv={class:"table table-zebra w-full"},Iv={class:"flex items-center gap-3"},Dv={class:"avatar"},Lv={class:"mask mask-squircle w-12 h-12 bg-primary text-white flex items-center justify-center"},$v={class:"font-bold"},jv={class:"text-sm opacity-50"},Fv={class:"plan-badge"},Nv={class:"flex flex-wrap gap-1"},Uv={class:"flex flex-wrap gap-1"},Bv={class:"font-bold"},zv=["onClick"],Hv={class:"flex justify-center mt-8"},Wv={class:"join"},Vv=["disabled"],qv={class:"join-item btn"},Kv=["disabled"],Gv={class:"modal-box max-w-2xl"},Yv={key:0,class:"space-y-4"},Jv={class:"grid grid-cols-2 gap-4"},Xv={key:0},Zv={class:"plan-badge"},Qv={class:"grid grid-cols-7 gap-2"},tw={class:"flex gap-2"},ew={class:"modal-action"};function sw(e,t,s,n,i,r){return D(),L("div",Ov,[p("div",Cv,[t[5]||(t[5]=p("h2",{class:"text-2xl font-bold"},"Subscriptions",-1)),p("div",Rv,[te(p("input",{type:"text",placeholder:"Search...",class:"input input-bordered","onUpdate:modelValue":t[0]||(t[0]=o=>i.searchQuery=o)},null,512),[[Oe,i.searchQuery]]),t[4]||(t[4]=p("button",{class:"btn btn-primary"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),p("table",Mv,[t[6]||(t[6]=p("thead",null,[p("tr",null,[p("th",null,"ID"),p("th",null,"Customer"),p("th",null,"Plan"),p("th",null,"Meals"),p("th",null,"Days"),p("th",null,"Price"),p("th",null,"Date"),p("th",null,"Actions")])],-1)),p("tbody",null,[(D(!0),L(Ot,null,Gt(r.filteredSubscriptions,o=>(D(),L("tr",{key:o.id},[p("td",null,K(o.id),1),p("td",null,[p("div",Iv,[p("div",Dv,[p("div",Lv,K(o.name.charAt(0)),1)]),p("div",null,[p("div",$v,K(o.name),1),p("div",jv,K(o.phone),1)])])]),p("td",null,[p("div",null,[p("span",Fv,K(o.plan),1)])]),p("td",null,[p("div",Nv,[(D(!0),L(Ot,null,Gt(o.meal_types,(a,l)=>(D(),L("span",{key:l,class:"badge badge-ghost"},K(a),1))),128))])]),p("td",null,[p("div",Uv,[(D(!0),L(Ot,null,Gt(o.days,(a,l)=>(D(),L("span",{key:l,class:"badge badge-accent"},K(a.substring(0,3)),1))),128))])]),p("td",Bv,K(r.formatPrice(o.total_price)),1),p("td",null,K(r.formatDate(o.created_at)),1),p("td",null,[p("button",{class:"btn btn-ghost btn-xs",onClick:a=>r.viewDetails(o)},"Details",8,zv)])]))),128))])]),p("div",Hv,[p("div",Wv,[p("button",{class:"join-item btn",disabled:i.currentPage===1,onClick:t[1]||(t[1]=(...o)=>r.prevPage&&r.prevPage(...o))},"«",8,Vv),p("button",qv,"Page "+K(i.currentPage),1),p("button",{class:"join-item btn",disabled:i.currentPage===r.totalPages,onClick:t[2]||(t[2]=(...o)=>r.nextPage&&r.nextPage(...o))}," » ",8,Kv)])]),p("div",{class:rs(["modal",{"modal-open":i.showModal}])},[p("div",Gv,[t[19]||(t[19]=p("h3",{class:"font-bold text-2xl mb-4"},"Subscription Details",-1)),i.selectedSubscription?(D(),L("div",Yv,[p("div",Jv,[p("div",null,[t[10]||(t[10]=p("h4",{class:"font-bold text-lg"},"Customer Information",-1)),p("p",null,[t[7]||(t[7]=p("strong",null,"Name:",-1)),bt(" "+K(i.selectedSubscription.name),1)]),p("p",null,[t[8]||(t[8]=p("strong",null,"Phone:",-1)),bt(" "+K(i.selectedSubscription.phone),1)]),i.selectedSubscription.allergies?(D(),L("p",Xv,[t[9]||(t[9]=p("strong",null,"Allergies:",-1)),bt(" "+K(i.selectedSubscription.allergies),1)])):jt("",!0)]),p("div",null,[t[14]||(t[14]=p("h4",{class:"font-bold text-lg"},"Plan Details",-1)),p("p",null,[t[11]||(t[11]=p("strong",null,"Plan:",-1)),p("span",Zv,K(i.selectedSubscription.plan),1)]),p("p",null,[t[12]||(t[12]=p("strong",null,"Total Price:",-1)),bt(" "+K(r.formatPrice(i.selectedSubscription.total_price)),1)]),p("p",null,[t[13]||(t[13]=p("strong",null,"Start Date:",-1)),bt(" "+K(r.formatDate(i.selectedSubscription.created_at)),1)])])]),t[17]||(t[17]=p("div",{class:"divider"},null,-1)),p("div",null,[t[15]||(t[15]=p("h4",{class:"font-bold text-lg mb-2"},"Delivery Schedule",-1)),p("div",Qv,[(D(),L(Ot,null,Gt(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],o=>p("div",{key:o,class:rs(["text-center p-2 rounded border",{"bg-primary text-white":i.selectedSubscription.days.includes(o),"bg-base-200":!i.selectedSubscription.days.includes(o)}])},K(o.substring(0,3)),3)),64))])]),t[18]||(t[18]=p("div",{class:"divider"},null,-1)),p("div",null,[t[16]||(t[16]=p("h4",{class:"font-bold text-lg mb-2"},"Meal Types",-1)),p("div",tw,[(D(),L(Ot,null,Gt(["breakfast","lunch","dinner"],o=>p("div",{key:o,class:rs(["badge badge-lg",{"badge-primary":i.selectedSubscription.meal_types.includes(o),"badge-ghost":!i.selectedSubscription.meal_types.includes(o)}])},K(o),3)),64))])])])):jt("",!0),p("div",ew,[p("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>r.closeModal&&r.closeModal(...o))},"Close")])])],2)])}const nw=Ft(Pv,[["render",sw],["__scopeId","data-v-9b07023b"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fr(e){return e+.5|0}const Us=(e,t,s)=>Math.max(Math.min(e,s),t);function vi(e){return Us(fr(e*2.55),0,255)}function Hs(e){return Us(fr(e*255),0,255)}function vs(e){return Us(fr(e/2.55)/100,0,1)}function Du(e){return Us(fr(e*100),0,100)}const De={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ga=[..."0123456789ABCDEF"],iw=e=>Ga[e&15],rw=e=>Ga[(e&240)>>4]+Ga[e&15],Tr=e=>(e&240)>>4===(e&15),ow=e=>Tr(e.r)&&Tr(e.g)&&Tr(e.b)&&Tr(e.a);function aw(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&De[e[1]]*17,g:255&De[e[2]]*17,b:255&De[e[3]]*17,a:t===5?De[e[4]]*17:255}:(t===7||t===9)&&(s={r:De[e[1]]<<4|De[e[2]],g:De[e[3]]<<4|De[e[4]],b:De[e[5]]<<4|De[e[6]],a:t===9?De[e[7]]<<4|De[e[8]]:255})),s}const lw=(e,t)=>e<255?t(e):"";function cw(e){var t=ow(e)?iw:rw;return e?"#"+t(e.r)+t(e.g)+t(e.b)+lw(e.a,t):void 0}const uw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zf(e,t,s){const n=t*Math.min(s,1-s),i=(r,o=(r+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function hw(e,t,s){const n=(i,r=(i+e/60)%6)=>s-s*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function dw(e,t,s){const n=Zf(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function fw(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function Ll(e){const s=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=fw(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function $l(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Hs)}function jl(e,t,s){return $l(Zf,e,t,s)}function pw(e,t,s){return $l(dw,e,t,s)}function gw(e,t,s){return $l(hw,e,t,s)}function Qf(e){return(e%360+360)%360}function mw(e){const t=uw.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?vi(+t[5]):Hs(+t[5]));const i=Qf(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=pw(i,r,o):t[1]==="hsv"?n=gw(i,r,o):n=jl(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function _w(e,t){var s=Ll(e);s[0]=Qf(s[0]+t),s=jl(s),e.r=s[0],e.g=s[1],e.b=s[2]}function bw(e){if(!e)return;const t=Ll(e),s=t[0],n=Du(t[1]),i=Du(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${vs(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Lu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$u={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yw(){const e={},t=Object.keys($u),s=Object.keys(Lu);let n,i,r,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,Lu[r]);r=parseInt($u[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Er;function vw(e){Er||(Er=yw(),Er.transparent=[0,0,0,0]);const t=Er[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ww=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xw(e){const t=ww.exec(e);let s=255,n,i,r;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?vi(o):Us(o*255,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?vi(n):Us(n,0,255)),i=255&(t[4]?vi(i):Us(i,0,255)),r=255&(t[6]?vi(r):Us(r,0,255)),{r:n,g:i,b:r,a:s}}}function Sw(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ca=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Mn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function kw(e,t,s){const n=Mn(vs(e.r)),i=Mn(vs(e.g)),r=Mn(vs(e.b));return{r:Hs(ca(n+s*(Mn(vs(t.r))-n))),g:Hs(ca(i+s*(Mn(vs(t.g))-i))),b:Hs(ca(r+s*(Mn(vs(t.b))-r))),a:e.a+s*(t.a-e.a)}}function Ar(e,t,s){if(e){let n=Ll(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=jl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function tp(e,t){return e&&Object.assign(t||{},e)}function ju(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Hs(e[3]))):(t=tp(e,{r:0,g:0,b:0,a:1}),t.a=Hs(t.a)),t}function Tw(e){return e.charAt(0)==="r"?xw(e):mw(e)}class Qi{constructor(t){if(t instanceof Qi)return t;const s=typeof t;let n;s==="object"?n=ju(t):s==="string"&&(n=aw(t)||vw(t)||Tw(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=tp(this._rgb);return t&&(t.a=vs(t.a)),t}set rgb(t){this._rgb=ju(t)}rgbString(){return this._valid?Sw(this._rgb):void 0}hexString(){return this._valid?cw(this._rgb):void 0}hslString(){return this._valid?bw(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=kw(this._rgb,t._rgb,s)),this}clone(){return new Qi(this.rgb)}alpha(t){return this._rgb.a=Hs(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=fr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ar(this._rgb,2,t),this}darken(t){return Ar(this._rgb,2,-t),this}saturate(t){return Ar(this._rgb,1,t),this}desaturate(t){return Ar(this._rgb,1,-t),this}rotate(t){return _w(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fs(){}const Ew=(()=>{let e=0;return()=>e++})();function Dt(e){return e==null}function ee(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ne(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qe(e,t){return Ne(e)?e:t}function mt(e,t){return typeof e>"u"?t:e}const Aw=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function $t(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Pt(e,t,s,n){let i,r,o;if(ee(e))for(r=e.length,i=0;i<r;i++)t.call(s,e[i],i);else if(xt(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(s,e[o[i]],o[i])}function lo(e,t){let s,n,i,r;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],r=t[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function co(e){if(ee(e))return e.map(co);if(xt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=co(e[s[i]]);return t}return e}function ep(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Pw(e,t,s,n){if(!ep(e))return;const i=t[e],r=s[e];xt(i)&&xt(r)?tr(i,r,n):t[e]=co(r)}function tr(e,t,s){const n=ee(t)?t:[t],i=n.length;if(!xt(e))return e;s=s||{};const r=s.merger||Pw;let o;for(let a=0;a<i;++a){if(o=n[a],!xt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,s)}return e}function Fi(e,t){return tr(e,t,{merger:Ow})}function Ow(e,t,s){if(!ep(e))return;const n=t[e],i=s[e];xt(n)&&xt(i)?Fi(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=co(i))}const Fu={"":e=>e,x:e=>e.x,y:e=>e.y};function Cw(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function Rw(e){const t=Cw(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function uo(e,t){return(Fu[t]||(Fu[t]=Rw(t)))(e)}function Fl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ho=e=>typeof e<"u",qs=e=>typeof e=="function",Nu=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function Mw(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const se=Math.PI,os=2*se,Iw=os+se,fo=Number.POSITIVE_INFINITY,Dw=se/180,qe=se/2,Xs=se/4,Uu=se*2/3,sp=Math.log10,Jn=Math.sign;function Ni(e,t,s){return Math.abs(e-t)<s}function Bu(e){const t=Math.round(e);e=Ni(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(sp(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Lw(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,r)=>i-r).pop(),t}function $w(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function er(e){return!$w(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function jw(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Fw(e,t,s){let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n][s],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function on(e){return e*(se/180)}function Nw(e){return e*(180/se)}function zu(e){if(!Ne(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Uw(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*se&&(r+=os),{angle:r,distance:i}}function Ya(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Bw(e,t){return(e-t+Iw)%os-se}function Is(e){return(e%os+os)%os}function np(e,t,s,n){const i=Is(e),r=Is(t),o=Is(s),a=Is(r-i),l=Is(o-i),c=Is(i-r),u=Is(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function Le(e,t,s){return Math.max(t,Math.min(s,e))}function zw(e){return Le(e,-32768,32767)}function wi(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Nl(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const an=(e,t,s,n)=>Nl(e,s,n?i=>{const r=e[i][t];return r<s||r===s&&e[i+1][t]===s}:i=>e[i][t]<s),Hw=(e,t,s)=>Nl(e,s,n=>e[n][t]>=s);function Ww(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const ip=["push","pop","shift","splice","unshift"];function Vw(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ip.forEach(s=>{const n="_onData"+Fl(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function Hu(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(ip.forEach(r=>{delete e[r]}),delete e._chartjs)}function qw(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const rp=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function op(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,rp.call(window,()=>{n=!1,e.apply(t,s)}))}}function Kw(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const Ul=e=>e==="start"?"left":e==="end"?"right":"center",ue=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,Gw=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function Yw(e,t,s){const n=t.length;let i=0,r=n;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(an(l,u,h).lo,s?n:an(t,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(_=>!Dt(_[a.axis]));i-=Math.max(0,m)}i=Le(i,0,n-1)}if(g){let m=Math.max(an(l,o.axis,d,!0).hi+1,s?0:an(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const _=l.slice(m-1).findIndex(v=>!Dt(v[a.axis]));m+=Math.max(0,_)}r=Le(m,i,n)-i}else r=n-i}return{start:i,count:r}}function Jw(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const Pr=e=>e===0||e===1,Wu=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*os/s)),Vu=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*os/s)+1,Ui={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*qe)+1,easeOutSine:e=>Math.sin(e*qe),easeInOutSine:e=>-.5*(Math.cos(se*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Pr(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pr(e)?e:Wu(e,.075,.3),easeOutElastic:e=>Pr(e)?e:Vu(e,.075,.3),easeInOutElastic(e){return Pr(e)?e:e<.5?.5*Wu(e*2,.1125,.45):.5+.5*Vu(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ui.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ui.easeInBounce(e*2)*.5:Ui.easeOutBounce(e*2-1)*.5+.5};function Bl(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function qu(e){return Bl(e)?e:new Qi(e)}function ua(e){return Bl(e)?e:new Qi(e).saturate(.5).darken(.1).hexString()}const Xw=["x","y","borderWidth","radius","tension"],Zw=["color","borderColor","backgroundColor"];function Qw(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Zw},numbers:{type:"number",properties:Xw}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tx(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ku=new Map;function ex(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Ku.get(s);return n||(n=new Intl.NumberFormat(e,t),Ku.set(s,n)),n}function ap(e,t,s){return ex(t,s).format(e)}const sx={values(e){return ee(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,r=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=nx(e,s)}const o=sp(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ap(e,n,l)}};function nx(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var lp={formatters:sx};function ix(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const fn=Object.create(null),Ja=Object.create(null);function Bi(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];e=e[r]||(e[r]=Object.create(null))}return e}function ha(e,t,s){return typeof t=="string"?tr(Bi(e,t),s):tr(Bi(e,""),t)}class rx{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ua(i.backgroundColor),this.hoverBorderColor=(n,i)=>ua(i.borderColor),this.hoverColor=(n,i)=>ua(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return ha(this,t,s)}get(t){return Bi(this,t)}describe(t,s){return ha(Ja,t,s)}override(t,s){return ha(fn,t,s)}route(t,s,n,i){const r=Bi(this,t),o=Bi(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return xt(l)?Object.assign({},c,l):mt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var zt=new rx({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qw,tx,ix]);function ox(e){return!e||Dt(e.size)||Dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Gu(e,t,s,n,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,s.push(i)),r>n&&(n=r),n}function Zs(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Yu(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Xa(e,t,s,n){cp(e,t,s,n,null)}function cp(e,t,s,n,i){let r,o,a,l,c,u,h,d;const f=t.pointStyle,g=t.rotation,m=t.radius;let _=(g||0)*Dw;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(_),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(s,n,i/2,m,0,0,os):e.arc(s,n,m,0,os),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(s+Math.sin(_)*u,n-Math.cos(_)*m),_+=Uu,e.lineTo(s+Math.sin(_)*u,n-Math.cos(_)*m),_+=Uu,e.lineTo(s+Math.sin(_)*u,n-Math.cos(_)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(_+Xs)*l,h=Math.cos(_+Xs)*(i?i/2-c:l),a=Math.sin(_+Xs)*l,d=Math.sin(_+Xs)*(i?i/2-c:l),e.arc(s-h,n-a,c,_-se,_-qe),e.arc(s+d,n-o,c,_-qe,_),e.arc(s+h,n+a,c,_,_+qe),e.arc(s-d,n+o,c,_+qe,_+se),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(s-u,n-l,2*u,2*l);break}_+=Xs;case"rectRot":h=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,d=Math.sin(_)*(i?i/2:m),e.moveTo(s-h,n-a),e.lineTo(s+d,n-o),e.lineTo(s+h,n+a),e.lineTo(s-d,n+o),e.closePath();break;case"crossRot":_+=Xs;case"cross":h=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,d=Math.sin(_)*(i?i/2:m),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+d,n-o),e.lineTo(s-d,n+o);break;case"star":h=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,d=Math.sin(_)*(i?i/2:m),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+d,n-o),e.lineTo(s-d,n+o),_+=Xs,h=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,d=Math.sin(_)*(i?i/2:m),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+d,n-o),e.lineTo(s-d,n+o);break;case"line":o=i?i/2:Math.cos(_)*m,a=Math.sin(_)*m,e.moveTo(s-o,n-a),e.lineTo(s+o,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(_)*(i?i/2:m),n+Math.sin(_)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function sr(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function zl(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Hl(e){e.restore()}function ax(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const r=(t.x+s.x)/2;e.lineTo(r,t.y),e.lineTo(r,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function lx(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function cx(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ux(e,t,s,n,i){if(i.strikethrough||i.underline){const r=e.measureText(n),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function hx(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function nr(e,t,s,n,i,r={}){const o=ee(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,cx(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&hx(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Dt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,s,n,r.maxWidth)),e.fillText(c,s,n,r.maxWidth),ux(e,s,n,c,r),n+=Number(i.lineHeight);e.restore()}function Za(e,t){const{x:s,y:n,w:i,h:r,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*se,se,!0),e.lineTo(s,n+r-o.bottomLeft),e.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,se,qe,!0),e.lineTo(s+i-o.bottomRight,n+r),e.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,qe,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-qe,!0),e.lineTo(s+o.topLeft,n)}const dx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function px(e,t){const s=(""+e).match(dx);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const gx=e=>+e||0;function up(e,t){const s={},n=xt(t),i=n?Object.keys(t):t,r=xt(e)?n?o=>mt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=gx(r(o));return s}function mx(e){return up(e,{top:"y",right:"x",bottom:"y",left:"x"})}function zi(e){return up(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ue(e){const t=mx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fe(e,t){e=e||{},t=t||zt.font;let s=mt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=mt(e.style,t.style);n&&!(""+n).match(fx)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:mt(e.family,t.family),lineHeight:px(mt(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:mt(e.weight,t.weight),string:""};return i.string=ox(i),i}function Or(e,t,s,n){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function _x(e,t,s){const{min:n,max:i}=e,r=Aw(t,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function mn(e,t){return Object.assign(Object.create(e),t)}function Wl(e,t=[""],s,n,i=()=>e[0]){const r=s||e;typeof n>"u"&&(n=pp("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>Wl([a,...e],t,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return dp(a,l,()=>Tx(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Xu(a).includes(l)},ownKeys(a){return Xu(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Xn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:hp(e,n),setContext:r=>Xn(e,r,s,n),override:r=>Xn(e.override(r),t,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return dp(r,o,()=>yx(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function hp(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:qs(s)?s:()=>s,isIndexable:qs(n)?n:()=>n}}const bx=(e,t)=>e?e+Fl(t):t,Vl=(e,t)=>xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function dp(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function yx(e,t,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=e;let a=n[t];return qs(a)&&o.isScriptable(t)&&(a=vx(t,a,e,s)),ee(a)&&a.length&&(a=wx(t,a,e,o.isIndexable)),Vl(t,a)&&(a=Xn(a,i,r&&r[t],o)),a}function vx(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||n);return a.delete(e),Vl(e,l)&&(l=ql(i._scopes,i,e,l)),l}function wx(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(e))return t[r.index%t.length];if(xt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=ql(c,i,e,u);t.push(Xn(h,r,o&&o[e],a))}}return t}function fp(e,t,s){return qs(e)?e(t,s):e}const xx=(e,t)=>e===!0?t:typeof e=="string"?uo(t,e):void 0;function Sx(e,t,s,n,i){for(const r of t){const o=xx(s,r);if(o){e.add(o);const a=fp(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function ql(e,t,s,n){const i=t._rootScopes,r=fp(t._fallback,s,n),o=[...e,...i],a=new Set;a.add(n);let l=Ju(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=Ju(a,o,r,l,n),l===null)?!1:Wl(Array.from(a),[""],i,r,()=>kx(t,s,n))}function Ju(e,t,s,n,i){for(;s;)s=Sx(e,t,s,n,i);return s}function kx(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return ee(i)&&xt(s)?s:i||{}}function Tx(e,t,s,n){let i;for(const r of t)if(i=pp(bx(r,e),s),typeof i<"u")return Vl(e,i)?ql(s,n,e,i):i}function pp(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function Xu(e){let t=e._keys;return t||(t=e._keys=Ex(e._scopes)),t}function Ex(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const Ax=Number.EPSILON||1e-14,Zn=(e,t)=>t<e.length&&!e[t].skip&&e[t],gp=e=>e==="x"?"y":"x";function Px(e,t,s,n){const i=e.skip?t:e,r=t,o=s.skip?t:s,a=Ya(r,i),l=Ya(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,d=n*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function Ox(e,t,s){const n=e.length;let i,r,o,a,l,c=Zn(e,0);for(let u=0;u<n-1;++u)if(l=c,c=Zn(e,u+1),!(!l||!c)){if(Ni(t[u],0,Ax)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],r=s[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=i*o*t[u],s[u+1]=r*o*t[u])}}function Cx(e,t,s="x"){const n=gp(s),i=e.length;let r,o,a,l=Zn(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Zn(e,c+1),!a)continue;const u=a[s],h=a[n];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${n}`]=h-r*t[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${n}`]=h+r*t[c])}}function Rx(e,t="x"){const s=gp(t),n=e.length,i=Array(n).fill(0),r=Array(n);let o,a,l,c=Zn(e,0);for(o=0;o<n;++o)if(a=l,l=c,c=Zn(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?Jn(i[o-1])!==Jn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}Ox(e,i,r),Cx(e,r,t)}function Cr(e,t,s){return Math.max(Math.min(e,s),t)}function Mx(e,t){let s,n,i,r,o,a=sr(e[0],t);for(s=0,n=e.length;s<n;++s)o=r,r=a,a=s<n-1&&sr(e[s+1],t),r&&(i=e[s],o&&(i.cp1x=Cr(i.cp1x,t.left,t.right),i.cp1y=Cr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Cr(i.cp2x,t.left,t.right),i.cp2y=Cr(i.cp2y,t.top,t.bottom)))}function Ix(e,t,s,n,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Rx(e,i);else{let c=n?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=Px(c,a,e[Math.min(r+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Mx(e,s)}function Kl(){return typeof window<"u"&&typeof document<"u"}function Gl(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function po(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const jo=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Dx(e,t){return jo(e).getPropertyValue(t)}const Lx=["top","right","bottom","left"];function hn(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=Lx[i];n[r]=parseFloat(e[t+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const $x=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function jx(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if($x(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function sn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=jo(s),r=i.boxSizing==="border-box",o=hn(i,"padding"),a=hn(i,"border","width"),{x:l,y:c,box:u}=jx(e,s),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*s.width/n),y:Math.round((c-d)/g*s.height/n)}}function Fx(e,t,s){let n,i;if(t===void 0||s===void 0){const r=e&&Gl(e);if(!r)t=e.clientWidth,s=e.clientHeight;else{const o=r.getBoundingClientRect(),a=jo(r),l=hn(a,"border","width"),c=hn(a,"padding");t=o.width-c.width-l.width,s=o.height-c.height-l.height,n=po(a.maxWidth,r,"clientWidth"),i=po(a.maxHeight,r,"clientHeight")}}return{width:t,height:s,maxWidth:n||fo,maxHeight:i||fo}}const Rr=e=>Math.round(e*10)/10;function Nx(e,t,s,n){const i=jo(e),r=hn(i,"margin"),o=po(i.maxWidth,e,"clientWidth")||fo,a=po(i.maxHeight,e,"clientHeight")||fo,l=Fx(e,t,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=hn(i,"border","width"),f=hn(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=Rr(Math.min(c,o,l.maxWidth)),u=Rr(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Rr(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Rr(Math.floor(u*n))),{width:c,height:u}}function Zu(e,t,s){const n=t||1,i=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=n,o.height=i,o.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Ux=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Kl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Qu(e,t){const s=Dx(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function nn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Bx(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function zx(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=nn(e,i,s),a=nn(i,r,s),l=nn(r,t,s),c=nn(o,a,s),u=nn(a,l,s);return nn(c,u,s)}const Hx=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Wx=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function zn(e,t,s){return e?Hx(t,s):Wx()}function mp(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function _p(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function bp(e){return e==="angle"?{between:np,compare:Bw,normalize:Is}:{between:wi,compare:(t,s)=>t-s,normalize:t=>t}}function th({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Vx(e,t,s){const{property:n,start:i,end:r}=s,{between:o,normalize:a}=bp(n),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][n]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function qx(e,t,s){if(!s)return[e];const{property:n,start:i,end:r}=s,o=t.length,{compare:a,between:l,normalize:c}=bp(n),{start:u,end:h,loop:d,style:f}=Vx(e,t,s),g=[];let m=!1,_=null,v,T,x;const S=()=>l(i,x,v)&&a(i,x)!==0,E=()=>a(r,v)===0||l(r,x,v),I=()=>m||S(),O=()=>!m||E();for(let M=u,U=u;M<=h;++M)T=t[M%o],!T.skip&&(v=c(T[n]),v!==x&&(m=l(v,i,r),_===null&&I()&&(_=a(v,i)===0?M:U),_!==null&&O()&&(g.push(th({start:_,end:M,loop:d,count:o,style:f})),_=null),U=M,x=v));return _!==null&&g.push(th({start:_,end:h,loop:d,count:o,style:f})),g}function Kx(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const r=qx(n[i],e.points,t);r.length&&s.push(...r)}return s}function Gx(e,t,s,n){let i=0,r=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function Yx(e,t,s,n){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,r.push({start:t%i,end:(l-1)%i,loop:n}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:n}),r}function Jx(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=Gx(s,i,r,n);if(n===!0)return eh(e,[{start:o,end:a,loop:r}],s,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return eh(e,Yx(s,o,l,c),s,t)}function eh(e,t,s,n){return!n||!n.setContext||!s?t:Xx(e,t,s,n)}function Xx(e,t,s,n){const i=e._chart.getContext(),r=sh(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=s.length,c=[];let u=r,h=t[0].start,d=h;function f(g,m,_,v){const T=a?-1:1;if(g!==m){for(g+=l;s[g%l].skip;)g-=T;for(;s[m%l].skip;)m+=T;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:_,style:v}),u=v,h=m%l)}}for(const g of t){h=a?h:g.start;let m=s[h%l],_;for(d=h+1;d<=g.end;d++){const v=s[d%l];_=sh(n.setContext(mn(i,{type:"segment",p0:m,p1:v,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Zx(_,u)&&f(h,d-1,g.loop,u),m=v,u=_}h<d-1&&f(h,d-1,g.loop,u)}return c}function sh(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Zx(e,t){if(!t)return!1;const s=[],n=function(i,r){return Bl(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Mr(e,t,s){return e.options.clip?e[s]:t[s]}function Qx(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Mr(s,t,"left"),right:Mr(s,t,"right"),top:Mr(n,t,"top"),bottom:Mr(n,t,"bottom")}:t}function t1(e,t){const s=t._clip;if(s.disabled)return!1;const n=Qx(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=rp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=r.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var gs=new e1;const nh="transparent",s1={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=qu(e||nh),i=n.valid&&qu(t||nh);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class n1{constructor(t,s,n,i){const r=s[n];i=Or([t.to,i,r,t.from]);const o=Or([t.from,r,i]);this._active=!0,this._fn=t.fn||s1[t.type||typeof o],this._easing=Ui[t.easing]||Ui.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Or([t.to,s,i,t.from]),this._from=Or([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class yp{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!xt(t))return;const s=Object.keys(zt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!xt(r))return;const o={};for(const a of s)o[a]=r[a];(ee(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,s){const n=s.options,i=r1(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&i1(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,s){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[c];let h=r[c];const d=n.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new n1(d,t,c,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return gs.add(this._chart,n),!0}}function i1(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=e[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function r1(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function ih(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,r=s.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function o1(e,t,s){if(s===!1)return!1;const n=ih(e,s),i=ih(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function a1(e){let t,s,n,i;return xt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function vp(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function rh(e,t,s,n={}){const i=e.keys,r=n.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=e.values[l],Ne(c)&&(r||t===0||Jn(t)===Jn(c))&&(t+=c)}return!u&&!n.all?0:t}function l1(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function da(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function c1(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function u1(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function h1(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function oh(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=e[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function ah(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=c1(r,o,n),h=t.length;let d;for(let f=0;f<h;++f){const g=t[f],{[l]:m,[c]:_}=g,v=g._stacks||(g._stacks={});d=v[c]=h1(i,u,m),d[a]=_,d._top=oh(d,o,!0,n.type),d._bottom=oh(d,o,!1,n.type);const T=d._visualValues||(d._visualValues={});T[a]=_}}function fa(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function d1(e,t){return mn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function f1(e,t,s){return mn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function li(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const pa=e=>e==="reset"||e==="none",lh=(e,t)=>t?e:Object.assign({},e),p1=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:vp(s,!0),values:null};class Hi{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=da(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&li(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=s.xAxisID=mt(n.xAxisID,fa(t,"x")),o=s.yAxisID=mt(n.yAxisID,fa(t,"y")),a=s.rAxisID=mt(n.rAxisID,fa(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Hu(this._data,this),t._stacked&&li(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(xt(s)){const i=this._cachedMeta;this._data=l1(s,i)}else if(n!==s){if(n){Hu(n,this);const i=this._cachedMeta;li(i),i._parsed=[]}s&&Object.isExtensible(s)&&Vw(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=da(s.vScale,s),s.stack!==n.stack&&(i=!0,li(s),s.stack=n.stack),this._resyncElements(t),(i||r!==s._stacked)&&(ah(this,s._parsed),s._stacked=da(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,h,d;if(this._parsing===!1)n._parsed=i,n._sorted=!0,d=i;else{ee(i[t])?d=this.parseArrayData(n,i,t,s):xt(i[t])?d=this.parseObjectData(n,i,t,s):d=this.parsePrimitiveData(n,i,t,s);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<s;++u)n._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);n._sorted=l}o&&ah(this,d)}parsePrimitiveData(t,s,n,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+n,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(s[g],g)};return h}parseArrayData(t,s,n,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=s[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,s,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+n,f=s[d],c[u]={x:r.parse(uo(f,a),d),y:o.parse(uo(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,r=this._cachedMeta,o=s[t.axis],a={keys:vp(i,!0),values:s._stacks[t.axis]._visualValues};return rh(a,o,r.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=rh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,a=this._getOtherScale(t),l=p1(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=u1(a);let d,f;function g(){f=i[d];const m=f[a.axis];return!Ne(f[t.axis])||u>m||h<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][t.axis],Ne(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=a1(mt(this.options.clip,o1(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=f1(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=d1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=t+"-"+s,a=r[o],l=this.enableOptionSharing&&ho(n);if(a)return lh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(zt.elements[t]),g=()=>this.getContext(n,i,s),m=c.resolveNamedOptions(d,f,g,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(lh(m,l))),m}_resolveAnimations(t,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,n,s))}const c=new yp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||pa(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(t,s,n,i){pa(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!pa(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,s,n=!0){const i=this._cachedMeta,r=i.data,o=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(r,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&li(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(Hi,"defaults",{}),ct(Hi,"datasetElementType",null),ct(Hi,"dataElementType",null);class Kr extends Hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=Yw(s,i,o);this._drawStart=a,this._drawCount=l,Jw(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),d=o.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,_=er(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",T=s+n,x=t.length;let S=s>0&&this.getParsed(s-1);for(let E=0;E<x;++E){const I=t[E],O=v?I:{};if(E<s||E>=T){O.skip=!0;continue}const M=this.getParsed(E),U=Dt(M[f]),Z=O[d]=o.getPixelForValue(M[d],E),q=O[f]=r||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[f],E);O.skip=isNaN(Z)||isNaN(q)||U,O.stop=E>0&&Math.abs(M[d]-S[d])>_,m&&(O.parsed=M,O.raw=c.data[E]),h&&(O.options=u||this.resolveDataElementOptions(E,I.active?"active":i)),v||this.updateElement(I,E,O,i),S=M}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ct(Kr,"id","line"),ct(Kr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ct(Kr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Qs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yl{constructor(t){ct(this,"options");this.options=t||{}}static override(t){Object.assign(Yl.prototype,t)}init(){}formats(){return Qs()}parse(){return Qs()}format(){return Qs()}add(){return Qs()}diff(){return Qs()}startOf(){return Qs()}endOf(){return Qs()}}var g1={_date:Yl};function m1(e,t,s,n){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Hw:an;if(n){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,s-h),f=c(r,t,s+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,t,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=e,f=d.slice(0,u.lo+1).reverse().findIndex(m=>!Dt(m[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(m=>!Dt(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function Fo(e,t,s,n,i){const r=e.getSortedVisibleDatasetMetas(),o=s[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=m1(r[a],t,o,i);for(let f=h;f<=d;++f){const g=u[f];g.skip||n(g,c,f)}}}function _1(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const r=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ga(e,t,s,n,i){const r=[];return!i&&!e.isPointInArea(t)||Fo(e,s,t,function(a,l,c){!i&&!sr(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function b1(e,t,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Uw(o,{x:t.x,y:t.y});np(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Fo(e,s,t,r),i}function y1(e,t,s,n,i,r){let o=[];const a=_1(s);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!f)return;const _=a(t,g);_<l?(o=[{element:u,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:d})}return Fo(e,s,t,c),o}function ma(e,t,s,n,i,r){return!r&&!e.isPointInArea(t)?[]:s==="r"&&!n?b1(e,t,s,i):y1(e,t,s,n,i,r)}function ch(e,t,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return Fo(e,s,t,(l,c,u)=>{l[o]&&l[o](t[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:r}var v1={modes:{index(e,t,s,n){const i=sn(t,e),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?ga(e,i,r,n,o):ma(e,i,r,!1,n,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,n){const i=sn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?ga(e,i,r,n,o):ma(e,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,n){const i=sn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return ga(e,i,r,n,o)},nearest(e,t,s,n){const i=sn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return ma(e,i,r,s.intersect,n,o)},x(e,t,s,n){const i=sn(t,e);return ch(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=sn(t,e);return ch(e,i,"y",s.intersect,n)}}};const wp=["left","top","right","bottom"];function ci(e,t){return e.filter(s=>s.pos===t)}function uh(e,t){return e.filter(s=>wp.indexOf(s.pos)===-1&&s.box.axis===t)}function ui(e,t){return e.sort((s,n)=>{const i=t?n:s,r=t?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function w1(e){const t=[];let s,n,i,r,o,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function x1(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!wp.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function S1(e,t){const s=x1(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return s}function k1(e){const t=w1(e),s=ui(t.filter(c=>c.box.fullSize),!0),n=ui(ci(t,"left"),!0),i=ui(ci(t,"right")),r=ui(ci(t,"top"),!0),o=ui(ci(t,"bottom")),a=uh(t,"x"),l=uh(t,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ci(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function hh(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function xp(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function T1(e,t,s,n){const{pos:i,box:r}=s,o=e.maxPadding;if(!xt(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?r.height:r.width),s.size=h.size/h.count,e[i]+=s.size}r.getPadding&&xp(o,r.getPadding());const a=Math.max(0,t.outerWidth-hh(o,e,"left","right")),l=Math.max(0,t.outerHeight-hh(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function E1(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function A1(e,t){const s=t.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],s[o])}),r}return n(e?["left","right"]:["top","bottom"])}function xi(e,t,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,A1(a.horizontal,t));const{same:h,other:d}=T1(t,s,a,n);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&xi(i,t,s,n)||u}function Ir(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function dh(e,t,s,n){const i=s.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;ho(c.start)&&(o=c.start),l.fullSize?Ir(l,i.left,o,s.outerWidth-i.right-i.left,d):Ir(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;ho(c.start)&&(r=c.start),l.fullSize?Ir(l,r,i.top,d,s.outerHeight-i.bottom-i.top):Ir(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var $e={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Ue(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(s-i.height,0),a=k1(e.boxes),l=a.vertical,c=a.horizontal;Pt(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,_)=>_.box.options&&_.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);xp(d,Ue(n));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),g=S1(l.concat(c),h);xi(a.fullSize,f,h,g),xi(l,f,h,g),xi(c,f,h,g)&&xi(l,f,h,g),E1(f),dh(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,dh(a.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Pt(a.chartArea,m=>{const _=m.box;Object.assign(_,e.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Sp{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class P1 extends Sp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Gr="$chartjs",O1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fh=e=>e===null||e==="";function C1(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Gr]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",fh(i)){const r=Qu(e,"width");r!==void 0&&(e.width=r)}if(fh(n))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Qu(e,"height");r!==void 0&&(e.height=r)}return e}const kp=Ux?{passive:!0}:!1;function R1(e,t,s){e&&e.addEventListener(t,s,kp)}function M1(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,kp)}function I1(e,t){const s=O1[e.type]||e.type,{x:n,y:i}=sn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function go(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function D1(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||go(a.addedNodes,n),o=o&&!go(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function L1(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||go(a.removedNodes,n),o=o&&!go(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const ir=new Map;let ph=0;function Tp(){const e=window.devicePixelRatio;e!==ph&&(ph=e,ir.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function $1(e,t){ir.size||window.addEventListener("resize",Tp),ir.set(e,t)}function j1(e){ir.delete(e),ir.size||window.removeEventListener("resize",Tp)}function F1(e,t,s){const n=e.canvas,i=n&&Gl(n);if(!i)return;const r=op((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),$1(e,r),o}function _a(e,t,s){s&&s.disconnect(),t==="resize"&&j1(e)}function N1(e,t,s){const n=e.canvas,i=op(r=>{e.ctx!==null&&s(I1(r,e))},e);return R1(n,t,i),i}class U1 extends Sp{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(C1(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Gr])return!1;const n=s[Gr].initial;["height","width"].forEach(r=>{const o=n[r];Dt(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[Gr],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:D1,detach:L1,resize:F1}[s]||N1;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:_a,detach:_a,resize:_a}[s]||M1)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return Nx(t,s,n,i)}isAttached(t){const s=t&&Gl(t);return!!(s&&s.isConnected)}}function B1(e){return!Kl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?P1:U1}var Br;let _n=(Br=class{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return er(this.x)&&er(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},ct(Br,"defaults",{}),ct(Br,"defaultRoutes"),Br);function z1(e,t){const s=e.options.ticks,n=H1(e),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?V1(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return q1(t,c,r,o/i),c;const u=W1(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Dr(t,c,u,Dt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Dr(t,c,u,r[h],r[h+1]);return Dr(t,c,u,l,Dt(f)?t.length:l+f),c}return Dr(t,c,u),c}function H1(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function W1(e,t,s){const n=K1(e),i=t.length/s;if(!n)return Math.max(i,1);const r=Lw(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function V1(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function q1(e,t,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=s[i*n])}function Dr(e,t,s,n,i){const r=mt(n,0),o=Math.min(mt(i,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*s))}function K1(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const G1=e=>e==="left"?"right":e==="right"?"left":e,gh=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,mh=(e,t)=>Math.min(t||e,e);function _h(e,t){const s=[],n=e.length/t,i=e.length;let r=0;for(;r<i;r+=n)s.push(e[Math.floor(r)]);return s}function Y1(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function J1(e,t){Pt(e,s=>{const n=s.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function hi(e){return e.drawTicks?e.tickLength:0}function bh(e,t){if(!e.display)return 0;const s=fe(e.font,t),n=Ue(e.padding);return(ee(e.text)?e.text.length:1)*s.lineHeight+n.height}function X1(e,t){return mn(e,{scale:t,type:"scale"})}function Z1(e,t,s){return mn(e,{tick:s,index:t,type:"tick"})}function Q1(e,t,s){let n=Ul(e);return(s&&t!=="right"||!s&&t==="right")&&(n=G1(n)),n}function tS(e,t,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,g;const m=o-i,_=a-r;if(e.isHorizontal()){if(f=ue(n,r,a),xt(s)){const v=Object.keys(s)[0],T=s[v];g=u[v].getPixelForValue(T)+m-t}else s==="center"?g=(c.bottom+c.top)/2+m-t:g=gh(e,s,t);d=a-r}else{if(xt(s)){const v=Object.keys(s)[0],T=s[v];f=u[v].getPixelForValue(T)-_+t}else s==="center"?f=(c.left+c.right)/2-_+t:f=gh(e,s,t);g=ue(n,o,i),h=s==="left"?-qe:qe}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class ti extends _n{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=Qe(t,Number.POSITIVE_INFINITY),s=Qe(s,Number.NEGATIVE_INFINITY),n=Qe(n,Number.POSITIVE_INFINITY),i=Qe(i,Number.NEGATIVE_INFINITY),{min:Qe(t,n),max:Qe(s,i),minDefined:Ne(t),maxDefined:Ne(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:Qe(s,Qe(n,s)),max:Qe(n,Qe(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$t(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_x(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_h(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=z1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$t(this.options.afterUpdate,[this])}beforeSetDimensions(){$t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$t(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),$t(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=$t(s.callback,[r.value,n,t],this)}afterTickToLabelConversion(){$t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=mh(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Le(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:f/(n-1),h+6>a&&(a=f/(n-(t.offset?.5:1)),l=this.maxHeight-hi(t.grid)-s.padding-bh(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Nw(Math.min(Math.asin(Le((u.highest.height+6)/a,-1,1)),Math.asin(Le(l/c,-1,1))-Math.asin(Le(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){$t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$t(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=bh(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=hi(r)+l):(t.height=this.maxHeight,t.width=hi(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=n.padding*2,g=on(this.labelRotation),m=Math.cos(g),_=Math.sin(g);if(a){const v=n.mirror?0:_*h.width+m*d.height;t.height=Math.min(this.maxHeight,t.height+v+f)}else{const v=n.mirror?0:m*h.width+_*d.height;t.width=Math.min(this.maxWidth,t.width+v+f)}this._calculatePadding(c,u,_,m)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*t.width,f=n*s.height):(d=n*t.height,f=i*s.width):r==="start"?f=s.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=s.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$t(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)Dt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=_h(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/mh(s,n));let c=0,u=0,h,d,f,g,m,_,v,T,x,S,E;for(h=0;h<s;h+=l){if(g=t[h].label,m=this._resolveTickFontOptions(h),i.font=_=m.string,v=r[_]=r[_]||{data:{},gc:[]},T=m.lineHeight,x=S=0,!Dt(g)&&!ee(g))x=Gu(i,v.data,v.gc,x,g),S=T;else if(ee(g))for(d=0,f=g.length;d<f;++d)E=g[d],!Dt(E)&&!ee(E)&&(x=Gu(i,v.data,v.gc,x,E),S+=T);o.push(x),a.push(S),c=Math.max(x,c),u=Math.max(S,u)}J1(r,s);const I=o.indexOf(c),O=a.indexOf(u),M=U=>({width:o[U]||0,height:a[U]||0});return{first:M(0),last:M(s-1),widest:M(I),highest:M(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return zw(this._alignToPixels?Zs(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=Z1(this.getContext(),t,n))}return this.$context||(this.$context=X1(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=on(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=hi(r),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,_=m/2,v=function(rt){return Zs(n,rt,m)};let T,x,S,E,I,O,M,U,Z,q,it,_t;if(o==="top")T=v(this.bottom),O=this.bottom-d,U=T-_,q=v(t.top)+_,_t=t.bottom;else if(o==="bottom")T=v(this.top),q=t.top,_t=v(t.bottom)-_,O=T+_,U=this.top+d;else if(o==="left")T=v(this.right),I=this.right-d,M=T-_,Z=v(t.left)+_,it=t.right;else if(o==="right")T=v(this.left),Z=t.left,it=v(t.right)-_,I=T+_,M=this.left+d;else if(s==="x"){if(o==="center")T=v((t.top+t.bottom)/2+.5);else if(xt(o)){const rt=Object.keys(o)[0],Q=o[rt];T=v(this.chart.scales[rt].getPixelForValue(Q))}q=t.top,_t=t.bottom,O=T+_,U=O+d}else if(s==="y"){if(o==="center")T=v((t.left+t.right)/2);else if(xt(o)){const rt=Object.keys(o)[0],Q=o[rt];T=v(this.chart.scales[rt].getPixelForValue(Q))}I=T-_,M=I-d,Z=t.left,it=t.right}const Bt=mt(i.ticks.maxTicksLimit,h),yt=Math.max(1,Math.ceil(h/Bt));for(x=0;x<h;x+=yt){const rt=this.getContext(x),Q=r.setContext(rt),ut=a.setContext(rt),ae=Q.lineWidth,Yt=Q.color,gt=ut.dash||[],Nt=ut.dashOffset,St=Q.tickWidth,ne=Q.tickColor,vt=Q.tickBorderDash||[],Rt=Q.tickBorderDashOffset;S=Y1(this,x,l),S!==void 0&&(E=Zs(n,S,ae),c?I=M=Z=it=E:O=U=q=_t=E,f.push({tx1:I,ty1:O,tx2:M,ty2:U,x1:Z,y1:q,x2:it,y2:_t,width:ae,color:Yt,borderDash:gt,borderDashOffset:Nt,tickWidth:St,tickColor:ne,tickBorderDash:vt,tickBorderDashOffset:Rt}))}return this._ticksLength=h,this._borderValue=T,f}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=hi(n.grid),f=d+u,g=h?-u:f,m=-on(this.labelRotation),_=[];let v,T,x,S,E,I,O,M,U,Z,q,it,_t="middle";if(i==="top")I=this.bottom-g,O=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+g,O=this._getXAxisLabelAlignment();else if(i==="left"){const yt=this._getYAxisLabelAlignment(d);O=yt.textAlign,E=yt.x}else if(i==="right"){const yt=this._getYAxisLabelAlignment(d);O=yt.textAlign,E=yt.x}else if(s==="x"){if(i==="center")I=(t.top+t.bottom)/2+f;else if(xt(i)){const yt=Object.keys(i)[0],rt=i[yt];I=this.chart.scales[yt].getPixelForValue(rt)+f}O=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")E=(t.left+t.right)/2-f;else if(xt(i)){const yt=Object.keys(i)[0],rt=i[yt];E=this.chart.scales[yt].getPixelForValue(rt)}O=this._getYAxisLabelAlignment(d).textAlign}s==="y"&&(l==="start"?_t="top":l==="end"&&(_t="bottom"));const Bt=this._getLabelSizes();for(v=0,T=a.length;v<T;++v){x=a[v],S=x.label;const yt=r.setContext(this.getContext(v));M=this.getPixelForTick(v)+r.labelOffset,U=this._resolveTickFontOptions(v),Z=U.lineHeight,q=ee(S)?S.length:1;const rt=q/2,Q=yt.color,ut=yt.textStrokeColor,ae=yt.textStrokeWidth;let Yt=O;o?(E=M,O==="inner"&&(v===T-1?Yt=this.options.reverse?"left":"right":v===0?Yt=this.options.reverse?"right":"left":Yt="center"),i==="top"?c==="near"||m!==0?it=-q*Z+Z/2:c==="center"?it=-Bt.highest.height/2-rt*Z+Z:it=-Bt.highest.height+Z/2:c==="near"||m!==0?it=Z/2:c==="center"?it=Bt.highest.height/2-rt*Z:it=Bt.highest.height-q*Z,h&&(it*=-1),m!==0&&!yt.showLabelBackdrop&&(E+=Z/2*Math.sin(m))):(I=M,it=(1-q)*Z/2);let gt;if(yt.showLabelBackdrop){const Nt=Ue(yt.backdropPadding),St=Bt.heights[v],ne=Bt.widths[v];let vt=it-Nt.top,Rt=0-Nt.left;switch(_t){case"middle":vt-=St/2;break;case"bottom":vt-=St;break}switch(O){case"center":Rt-=ne/2;break;case"right":Rt-=ne;break;case"inner":v===T-1?Rt-=ne:v>0&&(Rt-=ne/2);break}gt={left:Rt,top:vt,width:ne+Nt.width,height:St+Nt.height,color:yt.backdropColor}}_.push({label:S,font:U,textOffset:it,options:{rotation:m,color:Q,strokeColor:ut,strokeWidth:ae,textAlign:Yt,textBaseline:_t,translation:[E,I],backdrop:gt}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-on(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Zs(t,this.left,o)-o/2,u=Zs(t,this.right,a)+a/2,h=d=l):(h=Zs(t,this.top,o)-o/2,d=Zs(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,h),s.lineTo(u,d),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&zl(n,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;nr(n,c,0,u,l,a)}i&&Hl(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=fe(n.font),o=Ue(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||xt(s)?(l+=o.bottom,ee(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=tS(this,l,s,a);nr(t,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:d,textAlign:Q1(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=mt(t.grid&&t.grid.z,-1),i=mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ti.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return fe(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lr{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;nS(s)&&(n=this.register(s));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,eS(t,o,n),this.override&&zt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in zt[i]&&(delete zt[i][n],this.override&&delete fn[n])}}function eS(e,t,s){const n=tr(Object.create(null),[s?zt.get(s):{},zt.get(t),e.defaults]);zt.set(t,n),e.defaultRoutes&&sS(t,e.defaultRoutes),e.descriptors&&zt.describe(t,e.descriptors)}function sS(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),r=[e].concat(n).join("."),o=t[s].split("."),a=o.pop(),l=o.join(".");zt.route(r,i,l,a)})}function nS(e){return"id"in e&&"defaults"in e}class iS{constructor(){this.controllers=new Lr(Hi,"datasets",!0),this.elements=new Lr(_n,"elements"),this.plugins=new Lr(Object,"plugins"),this.scales=new Lr(ti,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):Pt(i,o=>{const a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,s,n){const i=Fl(t);$t(n["before"+i],[],n),s[t](n),$t(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var ss=new iS;class rS{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,s,n);return s==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,s,n,i){i=i||{};for(const r of t){const o=r.plugin,a=o[n],l=[s,i,r.options];if($t(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=mt(n.options&&n.options.plugins,{}),r=oS(n);return i===!1&&!s?[]:lS(t,r,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function oS(e){const t={},s=[],n=Object.keys(ss.plugins.items);for(let r=0;r<n.length;r++)s.push(ss.getPlugin(n[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function aS(e,t){return!t&&e===!1?null:e===!0?{}:e}function lS(e,{plugins:t,localIds:s},n,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=aS(n[l],i);c!==null&&r.push({plugin:a,options:cS(e.config,{plugin:a,local:s[l]},c,o)})}return r}function cS(e,{plugin:t,local:s},n,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qa(e,t){const s=zt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function uS(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function hS(e,t){return e===t?"_index_":"_value_"}function yh(e){if(e==="x"||e==="y"||e==="r")return e}function dS(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function tl(e,...t){if(yh(e))return e;for(const s of t){const n=s.axis||dS(s.position)||e.length>1&&yh(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function vh(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function fS(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return vh(e,"x",s[0])||vh(e,"y",s[0])}return{}}function pS(e,t){const s=fn[e.type]||{scales:{}},n=t.scales||{},i=Qa(e.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!xt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=tl(o,a,fS(o,e),zt.scales[a.type]),c=hS(l,i),u=s.scales||{};r[o]=Fi(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Qa(a,t),u=(fn[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=uS(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Fi(r[f],[{axis:d},n[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Fi(a,[zt.scales[a.type],zt.scale])}),r}function Ep(e){const t=e.options||(e.options={});t.plugins=mt(t.plugins,{}),t.scales=pS(e,t)}function Ap(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function gS(e){return e=e||{},e.data=Ap(e.data),Ep(e),e}const wh=new Map,Pp=new Set;function $r(e,t){let s=wh.get(e);return s||(s=t(),wh.set(e,s),Pp.add(s)),s}const di=(e,t,s)=>{const n=uo(t,s);n!==void 0&&e.add(n)};class mS{constructor(t){this._config=gS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ap(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ep(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $r(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return $r(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return $r(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return $r(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(h=>di(l,t,h))),u.forEach(h=>di(l,i,h)),u.forEach(h=>di(l,fn[r]||{},h)),u.forEach(h=>di(l,zt,h)),u.forEach(h=>di(l,Ja,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Pp.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,fn[s]||{},zt.datasets[s]||{},{type:s},zt,Ja]}resolveNamedOptions(t,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=xh(this._resolverCache,t,i);let l=o;if(bS(o,s)){r.$shared=!1,n=qs(n)?n():n;const c=this.createResolver(t,n,a);l=Xn(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(t,s,n=[""],i){const{resolver:r}=xh(this._resolverCache,t,n);return xt(s)?Xn(r,s,void 0,i):r}}function xh(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let r=n.get(i);return r||(r={resolver:Wl(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const _S=e=>xt(e)&&Object.getOwnPropertyNames(e).some(t=>qs(e[t]));function bS(e,t){const{isScriptable:s,isIndexable:n}=hp(e);for(const i of t){const r=s(i),o=n(i),a=(o||r)&&e[i];if(r&&(qs(a)||_S(a))||o&&ee(a))return!0}return!1}var yS="4.5.0";const vS=["top","bottom","left","right","chartArea"];function Sh(e,t){return e==="top"||e==="bottom"||vS.indexOf(e)===-1&&t==="x"}function kh(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Th(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),$t(s&&s.onComplete,[e],t)}function wS(e){const t=e.chart,s=t.options.animation;$t(s&&s.onProgress,[e],t)}function Op(e){return Kl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yr={},Eh=e=>{const t=Op(e);return Object.values(Yr).filter(s=>s.canvas===t).pop()};function xS(e,t,s){const n=Object.keys(e);for(const i of n){const r=+i;if(r>=t){const o=e[i];delete e[i],(s>0||r>t)&&(e[r+s]=o)}}}function SS(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Cs;let No=(Cs=class{static register(...t){ss.add(...t),Ah()}static unregister(...t){ss.remove(...t),Ah()}constructor(t,s){const n=this.config=new mS(s),i=Op(t),r=Eh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||B1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ew(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Kw(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Yr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}gs.listen(this,"complete",Th),gs.listen(this,"progress",wS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return Dt(t)?s&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ss}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yu(this.canvas,this.ctx),this}stop(){return gs.stop(this),this}resize(t,s){gs.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zu(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),$t(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Pt(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=tl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Pt(r,o=>{const a=o.options,l=a.id,c=tl(l,a),u=mt(a.type,o.dtype);(a.position===void 0||Sh(a.position,c)!==Sh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const d=ss.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,t)}),Pt(i,(o,a)=>{o||delete n[a]}),Pt(n,o=>{$e.configure(this,o,o.options),$e.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(kh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||Qa(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=ss.getController(a),{datasetElementType:c,dataElementType:u}=zt.datasets[a];Object.assign(l,{dataElementType:ss.getElement(u),datasetElementType:c&&ss.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Pt(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Pt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(kh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pt(this.scales,t=>{$e.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Nu(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;xS(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!Nu(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$e.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Pt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,qs(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gs.has(this)?this.attached&&!gs.running(this)&&gs.start(this):(this.draw(),Th({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=t1(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&zl(s,i),t.controller.draw(),i&&Hl(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return sr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const r=v1.modes[s];return typeof r=="function"?r(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=mn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);ho(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),gs.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Yu(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Yr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Pt(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){Pt(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Pt(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!lo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(s,t),a=n?t:r(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(t,i,n,o),l=Mw(t),c=SS(t,this._lastEvent,n,l);n&&(this._lastEvent=null,$t(r.onHover,[t,a,this],this),l&&$t(r.onClick,[t,a,this],this));const u=!lo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}},ct(Cs,"defaults",zt),ct(Cs,"instances",Yr),ct(Cs,"overrides",fn),ct(Cs,"registry",ss),ct(Cs,"version",yS),ct(Cs,"getChart",Eh),Cs);function Ah(){return Pt(No.instances,e=>e._plugins.invalidate())}function Cp(e,t,s=t){e.lineCap=mt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(mt(s.borderDash,t.borderDash)),e.lineDashOffset=mt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=mt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=mt(s.borderWidth,t.borderWidth),e.strokeStyle=mt(s.borderColor,t.borderColor)}function kS(e,t,s){e.lineTo(s.x,s.y)}function TS(e){return e.stepped?ax:e.tension||e.cubicInterpolationMode==="monotone"?lx:kS}function Rp(e,t,s={}){const n=e.length,{start:i=0,end:r=n-1}=s,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function ES(e,t,s,n){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Rp(i,s,n),u=TS(r);let{move:h=!0,reverse:d}=n||{},f,g,m;for(f=0;f<=c;++f)g=i[(a+(d?c-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,m,g,d,r.stepped),m=g);return l&&(g=i[(a+(d?c:0))%o],u(e,m,g,d,r.stepped)),!!l}function AS(e,t,s,n){const i=t.points,{count:r,start:o,ilen:a}=Rp(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,d,f,g,m,_,v;const T=S=>(o+(c?a-S:S))%r,x=()=>{m!==_&&(e.lineTo(u,_),e.lineTo(u,m),e.lineTo(u,v))};for(l&&(f=i[T(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[T(d)],f.skip)continue;const S=f.x,E=f.y,I=S|0;I===g?(E<m?m=E:E>_&&(_=E),u=(h*u+S)/++h):(x(),e.lineTo(S,E),g=I,h=0,m=_=E),v=E}x()}function el(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?AS:ES}function PS(e){return e.stepped?Bx:e.tension||e.cubicInterpolationMode==="monotone"?zx:nn}function OS(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Cp(e,t.options),e.stroke(i)}function CS(e,t,s,n){const{segments:i,options:r}=t,o=el(t);for(const a of i)Cp(e,r,a.style),e.beginPath(),o(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const RS=typeof Path2D=="function";function MS(e,t,s,n){RS&&!t.options.segment?OS(e,t,s,n):CS(e,t,s,n)}class Si extends _n{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Ix(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Jx(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],r=this.points,o=Kx(this,{property:s,start:i,end:i});if(!o.length)return;const a=[],l=PS(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const m=Math.abs((i-f[s])/(g[s]-f[s])),_=l(f,g,m,n.stepped);_[s]=t[s],a.push(_)}return a.length===1?a[0]:a}pathSegment(t,s,n){return el(this)(t,this,s,n)}path(t,s,n){const i=this.segments,r=el(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)o&=r(t,this,a,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),MS(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ct(Si,"id","line"),ct(Si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ct(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ct(Si,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ph(e,t,s,n){const i=e.options,{[s]:r}=e.getProps([s],n);return Math.abs(t-r)<i.radius+i.hitRadius}class Jr extends _n{constructor(s){super();ct(this,"parsed");ct(this,"skip");ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,n){return Ph(this,s,"x",n)}inYRange(s,n){return Ph(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!sr(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Xa(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ct(Jr,"id","point"),ct(Jr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ct(Jr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Oh=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},IS=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ch extends _n{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=$t(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=fe(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Oh(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,m)=>{const _=n+s/2+r.measureText(g.text).width;(m===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,f+=u,d++),l[m]={left:0,top:f,row:d,width:_,height:i},c[c.length-1]+=_+a}),h}_fitCols(t,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((_,v)=>{const{itemWidth:T,itemHeight:x}=DS(n,s,r,_,i);v>0&&f+x+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[v]={left:g,top:f,col:m,width:T,height:x},d=Math.max(d,T),f+=x+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=zn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ue(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=ue(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ue(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=ue(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zl(t,this),this._draw(),Hl(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,a=zt.color,l=zn(t.rtl,this.left,this.width),c=fe(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:_}=Oh(o,h),v=function(I,O,M){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const U=mt(M.lineWidth,1);if(i.fillStyle=mt(M.fillStyle,a),i.lineCap=mt(M.lineCap,"butt"),i.lineDashOffset=mt(M.lineDashOffset,0),i.lineJoin=mt(M.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=mt(M.strokeStyle,a),i.setLineDash(mt(M.lineDash,[])),o.usePointStyle){const Z={radius:m*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:U},q=l.xPlus(I,g/2),it=O+d;cp(i,Z,q,it,o.pointStyleWidth&&g)}else{const Z=O+Math.max((h-m)/2,0),q=l.leftForLtr(I,g),it=zi(M.borderRadius);i.beginPath(),Object.values(it).some(_t=>_t!==0)?Za(i,{x:q,y:Z,w:g,h:m,radius:it}):i.rect(q,Z,g,m),i.fill(),U!==0&&i.stroke()}i.restore()},T=function(I,O,M){nr(i,M.text,I,O+_/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},x=this.isHorizontal(),S=this._computeTitleHeight();x?f={x:ue(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:ue(r,this.top+S+u,this.bottom-s[0].height),line:0},mp(this.ctx,t.textDirection);const E=_+u;this.legendItems.forEach((I,O)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const M=i.measureText(I.text).width,U=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),Z=g+d+M;let q=f.x,it=f.y;l.setWidth(this.width),x?O>0&&q+Z+u>this.right&&(it=f.y+=E,f.line++,q=f.x=ue(r,this.left+u,this.right-n[f.line])):O>0&&it+E>this.bottom&&(q=f.x=q+s[f.line].width+u,f.line++,it=f.y=ue(r,this.top+S+u,this.bottom-s[f.line].height));const _t=l.x(q);if(v(_t,it,I),q=Gw(U,q+g+d,x?q+Z:this.right,t.rtl),T(l.x(q),it,I),x)f.x+=Z+u;else if(typeof I.text!="string"){const Bt=c.lineHeight;f.y+=Mp(I,Bt)+u}else f.y+=E}),_p(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=fe(s.font),i=Ue(s.padding);if(!s.display)return;const r=zn(t.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ue(t.align,h,this.right-d);else{const g=this.columnSizes.reduce((m,_)=>Math.max(m,_.height),0);u=c+ue(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=ue(a,h,h+d);o.textAlign=r.textAlign(Ul(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,nr(o,s.text,f,u,n)}_computeTitleHeight(){const t=this.options.title,s=fe(t.font),n=Ue(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,r;if(wi(t,this.left,this.right)&&wi(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],wi(t,i.left,i.left+i.width)&&wi(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!jS(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=IS(i,n);i&&!r&&$t(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&$t(s.onHover,[t,n,this],this)}else n&&$t(s.onClick,[t,n,this],this)}}function DS(e,t,s,n,i){const r=LS(n,e,t,s),o=$S(i,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function LS(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+s.size/2+n.measureText(i).width}function $S(e,t,s){let n=e;return typeof t.text!="string"&&(n=Mp(t,s)),n}function Mp(e,t){const s=e.text?e.text.length:0;return t*s}function jS(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var FS={id:"legend",_element:Ch,start(e,t,s){const n=e.legend=new Ch({ctx:e.ctx,options:s,chart:e});$e.configure(e,n,s),$e.addBox(e,n)},stop(e){$e.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;$e.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=Ue(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ip extends _n{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=ee(n.text)?n.text.length:1;this._padding=Ue(n.padding);const r=i*fe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ue(a,n,r),h=s+t,c=r-n):(o.position==="left"?(u=n+t,h=ue(a,i,s),l=se*-.5):(u=r-t,h=ue(a,s,i),l=se*.5),c=i-s),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=fe(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);nr(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:Ul(s.align),textBaseline:"middle",translation:[o,a]})}}function NS(e,t){const s=new Ip({ctx:e.ctx,options:t,chart:e});$e.configure(e,s,t),$e.addBox(e,s),e.titleBlock=s}var US={id:"title",_element:Ip,start(e,t,s){NS(e,s)},stop(e){const t=e.titleBlock;$e.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;$e.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ki={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,r=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ya(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function ts(e,t){return t&&(ee(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ms(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function BS(e,t){const{element:s,datasetIndex:n,index:i}=t,r=e.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Rh(e,t){const s=e.chart.ctx,{body:n,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=fe(t.bodyFont),c=fe(t.titleFont),u=fe(t.footerFont),h=r.length,d=i.length,f=n.length,g=Ue(t.padding);let m=g.height,_=0,v=n.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*S+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let T=0;const x=function(S){_=Math.max(_,s.measureText(S).width+T)};return s.save(),s.font=c.string,Pt(e.title,x),s.font=l.string,Pt(e.beforeBody.concat(e.afterBody),x),T=t.displayColors?o+2+t.boxPadding:0,Pt(n,S=>{Pt(S.before,x),Pt(S.lines,x),Pt(S.after,x)}),T=0,s.font=u.string,Pt(e.footer,x),s.restore(),_+=g.width,{width:_,height:m}}function zS(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function HS(e,t,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function WS(e,t,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),HS(c,e,t,s)&&(c="center"),c}function Mh(e,t,s){const n=s.yAlign||t.yAlign||zS(e,s);return{xAlign:s.xAlign||t.xAlign||WS(e,t,s,n),yAlign:n}}function VS(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function qS(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Ih(e,t,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=zi(o);let g=VS(t,a);const m=qS(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:Le(g,0,n.width-t.width),y:Le(m,0,n.height-t.height)}}function jr(e,t,s){const n=Ue(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Dh(e){return ts([],ms(e))}function KS(e,t,s){return mn(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Lh(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Dp={beforeTitle:fs,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:fs,beforeBody:fs,beforeLabel:fs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Dt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:fs,afterBody:fs,beforeFooter:fs,footer:fs,afterFooter:fs};function Te(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Dp[t].call(s,n):i}class sl extends _n{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new yp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=KS(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=Te(n,"beforeTitle",this,t),r=Te(n,"title",this,t),o=Te(n,"afterTitle",this,t);let a=[];return a=ts(a,ms(i)),a=ts(a,ms(r)),a=ts(a,ms(o)),a}getBeforeBody(t,s){return Dh(Te(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Pt(t,r=>{const o={before:[],lines:[],after:[]},a=Lh(n,r);ts(o.before,ms(Te(a,"beforeLabel",this,r))),ts(o.lines,Te(a,"label",this,r)),ts(o.after,ms(Te(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,s){return Dh(Te(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=Te(n,"beforeFooter",this,t),r=Te(n,"footer",this,t),o=Te(n,"afterFooter",this,t);let a=[];return a=ts(a,ms(i)),a=ts(a,ms(r)),a=ts(a,ms(o)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(BS(this.chart,s[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,n))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,n))),Pt(a,u=>{const h=Lh(t.callbacks,u);i.push(Te(h,"labelColor",this,u)),r.push(Te(h,"labelPointStyle",this,u)),o.push(Te(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=ki[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Rh(this,n),c=Object.assign({},a,l),u=Mh(this.chart,n,c),h=Ih(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const r=this.getCaretPosition(t,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=zi(a),{x:d,y:f}=t,{width:g,height:m}=s;let _,v,T,x,S,E;return r==="center"?(S=f+m/2,i==="left"?(_=d,v=_-o,x=S+o,E=S-o):(_=d+g,v=_+o,x=S-o,E=S+o),T=_):(i==="left"?v=d+Math.max(l,u)+o:i==="right"?v=d+g-Math.max(c,h)-o:v=this.caretX,r==="top"?(x=f,S=x-o,_=v-o,T=v+o):(x=f+m,S=x+o,_=v+o,T=v-o),E=x),{x1:_,x2:v,x3:T,y1:x,y2:S,y3:E}}drawTitle(t,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=zn(n.rtl,this.x,this.width);for(t.x=jr(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=fe(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=fe(r.bodyFont),h=jr(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+f;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(d,c)+c/2,v=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Xa(t,m,_,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Xa(t,m,_,v)}else{t.lineWidth=xt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(d,c),_=i.leftForLtr(i.xPlus(d,1),c-2),v=zi(o.borderRadius);Object.values(v).some(T=>T!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Za(t,{x:m,y:g,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Za(t,{x:_,y:g+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(_,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=fe(n.bodyFont);let d=h.lineHeight,f=0;const g=zn(n.rtl,this.x,this.width),m=function(M){s.fillText(M,g.x(t.x+f),t.y+d/2),t.y+=d+r},_=g.textAlign(o);let v,T,x,S,E,I,O;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=jr(this,_,n),s.fillStyle=n.bodyColor,Pt(this.beforeBody,m),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,I=i.length;S<I;++S){for(v=i[S],T=this.labelTextColors[S],s.fillStyle=T,Pt(v.before,m),x=v.lines,a&&x.length&&(this._drawColorBox(s,t,S,g,n),d=Math.max(h.lineHeight,l)),E=0,O=x.length;E<O;++E)m(x[E]),d=h.lineHeight;Pt(v.after,m)}f=0,d=h.lineHeight,Pt(this.afterBody,m),t.y-=r}drawFooter(t,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=zn(n.rtl,this.x,this.width);for(t.x=jr(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=fe(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=zi(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-d,l),s.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+u-g),s.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+f,l+u),s.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=ki[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Rh(this,t),l=Object.assign({},o,this._size),c=Mh(s,t,l),u=Ih(t,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ue(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,s),mp(t,s.textDirection),r.y+=o.top,this.drawTitle(r,t,s),this.drawBody(r,t,s),this.drawFooter(r,t,s),_p(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!lo(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,s,n),a=this._positionChanged(o,t),l=s||!lo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:r}=this,o=ki[r.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}ct(sl,"positioners",ki);var GS={id:"tooltip",_element:sl,positioners:ki,afterInit(e,t,s){s&&(e.tooltip=new sl({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const YS=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function JS(e,t,s,n){const i=e.indexOf(t);if(i===-1)return YS(e,t,s,n);const r=e.lastIndexOf(t);return i!==r?s:i}const XS=(e,t)=>e===null?null:Le(Math.round(e),0,t);function $h(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class nl extends ti{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Dt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:JS(n,t,mt(s,t),this._addedLabels),XS(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=t===0&&s===r.length-1?r:r.slice(t,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return $h.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ct(nl,"id","category"),ct(nl,"defaults",{ticks:{callback:$h}});function ZS(e,t){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,g=u-1,{min:m,max:_}=t,v=!Dt(o),T=!Dt(a),x=!Dt(c),S=(_-m)/(h+1);let E=Bu((_-m)/g/f)*f,I,O,M,U;if(E<1e-14&&!v&&!T)return[{value:m},{value:_}];U=Math.ceil(_/E)-Math.floor(m/E),U>g&&(E=Bu(U*E/g/f)*f),Dt(l)||(I=Math.pow(10,l),E=Math.ceil(E*I)/I),i==="ticks"?(O=Math.floor(m/E)*E,M=Math.ceil(_/E)*E):(O=m,M=_),v&&T&&r&&jw((a-o)/r,E/1e3)?(U=Math.round(Math.min((a-o)/E,u)),E=(a-o)/U,O=o,M=a):x?(O=v?o:O,M=T?a:M,U=c-1,E=(M-O)/U):(U=(M-O)/E,Ni(U,Math.round(U),E/1e3)?U=Math.round(U):U=Math.ceil(U));const Z=Math.max(zu(E),zu(O));I=Math.pow(10,Dt(l)?Z:l),O=Math.round(O*I)/I,M=Math.round(M*I)/I;let q=0;for(v&&(d&&O!==o?(s.push({value:o}),O<o&&q++,Ni(Math.round((O+q*E)*I)/I,o,jh(o,S,e))&&q++):O<o&&q++);q<U;++q){const it=Math.round((O+q*E)*I)/I;if(T&&it>a)break;s.push({value:it})}return T&&d&&M!==a?s.length&&Ni(s[s.length-1].value,a,jh(a,S,e))?s[s.length-1].value=a:s.push({value:a}):(!T||M===a)&&s.push({value:M}),s}function jh(e,t,{horizontal:s,minRotation:n}){const i=on(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class QS extends ti{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(t){const l=Jn(i),c=Jn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=ZS(i,r);return t.bounds==="ticks"&&Fw(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return ap(t,this.chart.options.locale,this.options.ticks.format)}}class il extends QS{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ne(t)?t:0,this.max=Ne(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=on(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ct(il,"id","linear"),ct(il,"defaults",{ticks:{callback:lp.formatters.numeric}});const Uo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ae=Object.keys(Uo);function Fh(e,t){return e-t}function Nh(e,t){if(Dt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Ne(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(er(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function Uh(e,t,s,n){const i=Ae.length;for(let r=Ae.indexOf(e);r<i-1;++r){const o=Uo[Ae[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(a*o.size))<=n)return Ae[r]}return Ae[i-1]}function tk(e,t,s,n,i){for(let r=Ae.length-1;r>=Ae.indexOf(s);r--){const o=Ae[r];if(Uo[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return Ae[s?Ae.indexOf(s):0]}function ek(e){for(let t=Ae.indexOf(e)+1,s=Ae.length;t<s;++t)if(Uo[Ae[t]].common)return Ae[t]}function Bh(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Nl(s,t),r=s[n]>=t?s[n]:s[i];e[r]=!0}}function sk(e,t,s,n){const i=e._adapter,r=+i.startOf(t[0].value,n),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function zh(e,t,s){const n=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:sk(e,n,i,s)}class mo extends ti{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new g1._date(t.adapters.date);i.init(s),Fi(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Nh(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ne(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=Ne(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Ww(i,r,o);return this._unit=s.unit||(n.autoSkip?Uh(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):tk(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:ek(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),zh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Le(s,0,o),n=Le(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Uh(r.minUnit,s,n,this._getLabelCapacity(s)),a=mt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=er(l)||l===!0,u={};let h=s,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<n;d=+t.add(d,a,o),f++)Bh(u,d,g);return(d===n||i.bounds==="ticks"||f===1)&&Bh(u,d,g),Object.keys(u).sort(Fh).map(m=>+m)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return $t(o,[t,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=n[s],f=c&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=on(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(t,0,zh(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(Nh(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qw(t.sort(Fh))}}ct(mo,"id","time"),ct(mo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fr(e,t,s){let n=0,i=e.length-1,r,o,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=an(e,"pos",t)),{pos:r,time:a}=e[n],{pos:o,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=an(e,"time",t)),{time:r,pos:a}=e[n],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Hh extends mo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Fr(s,this.min),this._tableRange=Fr(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Fr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Fr(this._table,n*this._tableRange+this._minPos,!0)}}ct(Hh,"id","timeseries"),ct(Hh,"defaults",mo.defaults);const Lp={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},nk={ariaLabel:{type:String},ariaDescribedby:{type:String}},ik={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Lp,...nk},rk=nf[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function In(e){return lr(e)?pt(e):e}function ok(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return lr(t)?new Proxy(e,{}):e}function ak(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function $p(e,t){e.labels=t}function jp(e,t,s){const n=[];e.datasets=t.map(i=>{const r=e.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function lk(e,t){const s={labels:[],datasets:[]};return $p(s,e.labels),jp(s,e.datasets,t),s}const ck=Eo({props:ik,setup(e,t){let{expose:s,slots:n}=t;const i=Ve(null),r=yl(null);s({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:h,plugins:d,datasetIdKey:f}=e,g=lk(u,f),m=ok(g,u);r.value=new No(i.value,{type:c,data:m,options:{...h},plugins:d})},a=()=>{const c=pt(r.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},e.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(e.updateMode)};return Po(o),xl(a),Un([()=>e.options,()=>e.data],(c,u)=>{let[h,d]=c,[f,g]=u;const m=pt(r.value);if(!m)return;let _=!1;if(h){const v=In(h),T=In(f);v&&v!==T&&(ak(m,v),_=!0)}if(d){const v=In(d.labels),T=In(g.labels),x=In(d.datasets),S=In(g.datasets);v!==T&&($p(m.config.data,v),_=!0),x&&x!==S&&(jp(m.config.data,x,e.datasetIdKey),_=!0)}_&&To(()=>{l(m)})},{deep:!0}),()=>Yi("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:i},[Yi("p",{},[n.default?n.default():""])])}});function uk(e,t){return No.register(t),Eo({props:Lp,setup(s,n){let{expose:i}=n;const r=yl(null),o=a=>{r.value=a==null?void 0:a.chart};return i({chart:r}),()=>Yi(ck,rk({ref:o},{type:e,...s}))}})}const hk=uk("line",Kr),dk={class:"chart-container"},fk={__name:"LineChart",props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1})}},setup(e){return No.register(nl,il,Jr,Si,US,GS,FS),(t,s)=>(D(),L("div",dk,[V(cn(hk),{data:e.chartData,options:e.options},null,8,["data","options"])]))}},pk=Ft(fk,[["__scopeId","data-v-4b76fa70"]]),gk={class:"min-h-screen flex flex-col"},mk={class:"container mx-auto px-4 py-8"},_k={class:"card bg-base-100 shadow-lg mb-6"},bk={class:"card-body"},yk={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},vk={class:"form-control"},wk={class:"form-control"},xk=["min"],Sk={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},kk={class:"stats bg-primary text-primary-content shadow"},Tk={class:"stat"},Ek={class:"stat-value"},Ak={class:"stats bg-secondary text-secondary-content shadow"},Pk={class:"stat"},Ok={class:"stat-value"},Ck={class:"stats bg-accent text-accent-content shadow"},Rk={class:"stat"},Mk={class:"stat-value"},Ik={class:"stats bg-success text-success-content shadow"},Dk={class:"stat"},Lk={class:"stat-value"},$k={class:"card bg-base-100 shadow-lg mb-8"},jk={class:"card-body"},Fk={class:"h-60 w-full"},Nk={key:1,class:"bg-base-200 h-full w-full flex items-center justify-center"},Uk={__name:"AdminDashboard",setup(e){const t=Ol(),s=Ve(!1),n=Ve(!1),i=Ve({activeSubscriptions:0,newSubscriptions:0,monthlyRevenue:0,reactivations:0,subscriptionGrowth:0}),r=Ve(null),o=Ve({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Subscription Growth Trend"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Subscriptions"}}}}),l=Ve((()=>{const f=new Date,g=new Date;return g.setDate(g.getDate()-30),{start:g.toISOString().substring(0,10),end:f.toISOString().substring(0,10)}})()),c=async()=>{try{const{data:f,error:g}=await X.auth.getUser();if(g||!(f!=null&&f.user))return s.value=!1,!1;const{data:m,error:_}=await X.from("profiles").select("is_admin").eq("id",f.user.id).single();return _||!m?(s.value=!1,!1):(s.value=m.is_admin===!0,m.is_admin===!0)}catch(f){return console.error("Error checking admin status:",f),s.value=!1,!1}},u=async()=>{try{const{data:f,error:g}=await X.from("subscriptions").select("created_at").gte("created_at",`${l.value.start}T00:00:00`).lte("created_at",`${l.value.end}T23:59:59`).order("created_at");if(g)throw g;const m={},_=[],v=[],T=new Date(l.value.start),x=new Date(l.value.end),S=[];for(let O=new Date(T);O<=x;O.setDate(O.getDate()+1)){const M=O.toISOString().split("T")[0];S.push(M),m[M]=0}f.forEach(O=>{const M=O.created_at.split("T")[0];m[M]=(m[M]||0)+1}),Object.keys(m).sort().forEach(O=>{_.push(O),v.push(m[O])});const E=[];let I=0;v.forEach(O=>{I+=O,E.push(I)}),r.value={labels:_,datasets:[{label:"New Subscriptions",backgroundColor:"rgba(71, 85, 105, 0.2)",borderColor:"rgba(71, 85, 105, 1)",borderWidth:2,data:v,tension:.4},{label:"Cumulative Growth",backgroundColor:"rgba(14, 165, 233, 0.2)",borderColor:"rgba(14, 165, 233, 1)",borderWidth:2,data:E,tension:.4}]}}catch(f){console.error("Error loading growth data:",f)}},h=async()=>{n.value=!0;try{i.value=await Ev(l.value.start,l.value.end),await u()}catch(f){console.error("Error loading dashboard data:",f)}finally{n.value=!1}},d=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(f);return Po(async()=>{if(!await c()){t.push("/");return}await h()}),(f,g)=>(D(),L("div",gk,[V(As),p("div",mk,[g[16]||(g[16]=p("h1",{class:"text-3xl font-bold mb-8"},"Admin Dashboard",-1)),g[17]||(g[17]=p("div",{class:"alert alert-info mb-6"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),p("span",null,"This dashboard is restricted to administrators only")],-1)),p("div",_k,[p("div",bk,[g[5]||(g[5]=p("h2",{class:"card-title"},"Filter Data by Date Range",-1)),p("div",yk,[p("div",vk,[g[2]||(g[2]=p("label",{class:"label"},[p("span",{class:"label-text"},"Start Date")],-1)),te(p("input",{type:"date","onUpdate:modelValue":g[0]||(g[0]=m=>l.value.start=m),class:"input input-bordered",onChange:h},null,544),[[Oe,l.value.start]])]),p("div",wk,[g[3]||(g[3]=p("label",{class:"label"},[p("span",{class:"label-text"},"End Date")],-1)),te(p("input",{type:"date","onUpdate:modelValue":g[1]||(g[1]=m=>l.value.end=m),class:"input input-bordered",onChange:h,min:l.value.start},null,40,xk),[[Oe,l.value.end]])]),p("div",{class:"form-control items-end justify-end"},[g[4]||(g[4]=p("label",{class:"label"},[p("span",{class:"label-text invisible"},"Apply")],-1)),p("button",{class:"btn btn-primary",onClick:h},"Apply Filter")])])])]),p("div",Sk,[p("div",kk,[p("div",Tk,[g[6]||(g[6]=p("div",{class:"stat-title"},"Active Subscriptions",-1)),p("div",Ek,K(i.value.activeSubscriptions),1),g[7]||(g[7]=p("div",{class:"stat-desc"},"Total active subscriptions",-1))])]),p("div",Ak,[p("div",Pk,[g[8]||(g[8]=p("div",{class:"stat-title"},"New Subscriptions",-1)),p("div",Ok,K(i.value.newSubscriptions),1),g[9]||(g[9]=p("div",{class:"stat-desc"},"Within selected period",-1))])]),p("div",Ck,[p("div",Rk,[g[10]||(g[10]=p("div",{class:"stat-title"},"Monthly Recurring Revenue",-1)),p("div",Mk,K(d(i.value.monthlyRevenue)),1),g[11]||(g[11]=p("div",{class:"stat-desc"},"MRR for selected period",-1))])]),p("div",Ik,[p("div",Dk,[g[12]||(g[12]=p("div",{class:"stat-title"},"Reactivations",-1)),p("div",Lk,K(i.value.reactivations),1),g[13]||(g[13]=p("div",{class:"stat-desc"},"Cancelled → Active",-1))])])]),p("div",$k,[p("div",jk,[g[15]||(g[15]=p("h2",{class:"card-title"},"Subscription Growth",-1)),p("div",Fk,[r.value&&!n.value?(D(),Tl(pk,{key:0,chartData:r.value,options:o.value},null,8,["chartData","options"])):(D(),L("div",Nk,g[14]||(g[14]=[p("p",{class:"text-lg opacity-70"},"Loading chart data...",-1)])))])])]),V(nw)]),V(Ps)]))}},Fp={async signUp(e,t,s){const{data:n,error:i}=await X.auth.signUp({email:e,password:t,options:{data:{full_name:s,role:"user"}}});if(i)throw i;return n},async signIn(e,t){const{data:s,error:n}=await X.auth.signInWithPassword({email:e,password:t});if(n)throw n;return s},async signOut(){const{error:e}=await X.auth.signOut();if(e)throw e},async getUser(){const{data:e}=await X.auth.getUser();return e==null?void 0:e.user},async getSession(){const{data:e}=await X.auth.getSession();return e==null?void 0:e.session},async updateUser(e){const{data:t,error:s}=await X.auth.updateUser(e);if(s)throw s;return t},async resetPassword(e){const{data:t,error:s}=await X.auth.resetPasswordForEmail(e);if(s)throw s;return t}},Bk={name:"LoginForm",data(){return{form:{email:"",password:""},isSubmitting:!1,errorMessage:""}},methods:{async submitForm(){this.isSubmitting=!0,this.errorMessage="";try{await Fp.signIn(this.form.email,this.form.password),await Yf().loadUser(),this.$router.push("/")}catch(e){console.error("Login error:",e),this.errorMessage=e.message||"Failed to login. Please check your credentials."}finally{this.isSubmitting=!1}}}},zk={class:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"},Hk={class:"mb-4"},Wk={class:"mb-6"},Vk={key:0,class:"mb-4 text-error text-sm"},qk=["disabled"],Kk={key:0,class:"loading loading-spinner"},Gk={class:"mt-4 text-center"};function Yk(e,t,s,n,i,r){const o=ft("router-link");return D(),L("div",zk,[t[7]||(t[7]=p("h2",{class:"text-2xl font-bold mb-6 text-center"},"Sign In to Your Account",-1)),p("form",{onSubmit:t[2]||(t[2]=Mo((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[p("div",Hk,[t[3]||(t[3]=p("label",{class:"block text-sm font-medium mb-1"},"Email *",-1)),te(p("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.email=a),class:"input input-bordered w-full",required:"",placeholder:"your@email.com",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",title:"Masukkan email valid (contoh: user@example.com)"},null,512),[[Oe,i.form.email]])]),p("div",Wk,[t[4]||(t[4]=p("label",{class:"block text-sm font-medium mb-1"},"Password *",-1)),te(p("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.password=a),class:"input input-bordered w-full",required:"",placeholder:"••••••••"},null,512),[[Oe,i.form.password]])]),i.errorMessage?(D(),L("div",Vk,K(i.errorMessage),1)):jt("",!0),p("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.isSubmitting},[i.isSubmitting?(D(),L("span",Kk)):jt("",!0),bt(" "+K(i.isSubmitting?"Signing in...":"Sign In"),1)],8,qk),p("div",Gk,[p("p",null,[t[6]||(t[6]=bt(" Don't have an account? ")),V(o,{to:"/register",class:"text-primary hover:underline"},{default:Vt(()=>t[5]||(t[5]=[bt("Sign Up")])),_:1,__:[5]})])])],32)])}const Jk=Ft(Bk,[["render",Yk]]),Xk={name:"LoginView",components:{AppHeader:As,AppFooter:Ps,LoginForm:Jk}},Zk={class:"min-h-screen flex flex-col"},Qk={class:"flex-1 flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10"},tT={class:"w-full max-w-md p-4"};function eT(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("LoginForm"),l=ft("AppFooter");return D(),L("div",Zk,[V(o),p("div",Qk,[p("div",tT,[V(a),t[0]||(t[0]=ur('<div class="divider my-6" data-v-2629f26b>Or continue with</div><div class="flex justify-center gap-4" data-v-2629f26b><button class="btn btn-outline gap-2" data-v-2629f26b><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" data-v-2629f26b><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-v-2629f26b></path></svg> GitHub </button><button class="btn btn-outline gap-2" data-v-2629f26b><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" data-v-2629f26b><path d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" fill-rule="evenodd" clip-rule="evenodd" data-v-2629f26b></path></svg> Google </button></div>',2))])]),V(l)])}const sT=Ft(Xk,[["render",eT],["__scopeId","data-v-2629f26b"]]),Wh=(e,t="text")=>{if(!e&&e!==0)throw new Error("Input tidak boleh kosong");let s=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").trim();switch(t){case"email":{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s))throw new Error("Format email tidak valid");break}case"password":{if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s))throw new Error("Password harus mengandung huruf besar, kecil, angka, dan simbol");break}case"phone":{if(!/^[0-9]{10,15}$/.test(s))throw new Error("Nomor telepon harus 10-15 digit angka");break}}return s},nT={name:"RegisterForm",data(){return{form:{fullName:"",email:"",password:"",confirmPassword:""},isSubmitting:!1,errorMessage:""}},methods:{validatePassword(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)},async submitForm(){if(this.errorMessage="",this.form.password!==this.form.confirmPassword){this.errorMessage="Passwords do not match";return}if(!this.validatePassword(this.form.password)){this.errorMessage="Password must contain uppercase, lowercase, number, and special character";return}this.isSubmitting=!0;try{const e=Wh(this.form.fullName,"text"),t=Wh(this.form.email,"email"),s=this.form.password;await Fp.signUp(t,s,e),alert("Account created successfully! Please check your email to verify your account."),this.$router.push("/login")}catch(e){console.error("Registration error:",e),this.errorMessage=e.message||"Failed to create account"}finally{this.isSubmitting=!1}}}},iT={class:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"},rT={class:"mb-4"},oT={class:"mb-4"},aT={class:"mb-4"},lT={class:"mb-6"},cT={key:0,class:"alert alert-error mb-4 text-sm"},uT=["disabled"],hT={key:0,class:"loading loading-spinner"},dT={class:"mt-4 text-center"};function fT(e,t,s,n,i,r){const o=ft("router-link");return D(),L("div",iT,[t[12]||(t[12]=p("h2",{class:"text-2xl font-bold mb-6 text-center"},"Create Account",-1)),p("form",{onSubmit:t[4]||(t[4]=Mo((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[p("div",rT,[t[5]||(t[5]=p("label",{class:"block text-sm font-medium mb-1"},"Full Name *",-1)),te(p("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.fullName=a),class:"input input-bordered w-full",required:""},null,512),[[Oe,i.form.fullName]])]),p("div",oT,[t[6]||(t[6]=p("label",{class:"block text-sm font-medium mb-1"},"Email *",-1)),te(p("input",{title:"Masukkan email valid (contoh: user@example.com)",type:"email","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.email=a),class:"input input-bordered w-full",required:"",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"},null,512),[[Oe,i.form.email]])]),p("div",aT,[t[7]||(t[7]=p("label",{class:"block text-sm font-medium mb-1"},"Password *",-1)),te(p("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=a=>i.form.password=a),class:"input input-bordered w-full",required:"",minlength:"8"},null,512),[[Oe,i.form.password]]),t[8]||(t[8]=p("p",{class:"text-xs text-gray-500 mt-1"}," Must contain uppercase, lowercase, number, and special character ",-1))]),p("div",lT,[t[9]||(t[9]=p("label",{class:"block text-sm font-medium mb-1"},"Confirm Password *",-1)),te(p("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=a=>i.form.confirmPassword=a),class:"input input-bordered w-full",required:""},null,512),[[Oe,i.form.confirmPassword]])]),i.errorMessage?(D(),L("div",cT,K(i.errorMessage),1)):jt("",!0),p("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.isSubmitting},[i.isSubmitting?(D(),L("span",hT)):jt("",!0),bt(" "+K(i.isSubmitting?"Creating Account...":"Sign Up"),1)],8,uT),p("div",dT,[p("p",null,[t[11]||(t[11]=bt(" Already have an account? ")),V(o,{to:"/login",class:"text-primary hover:underline"},{default:Vt(()=>t[10]||(t[10]=[bt("Sign In")])),_:1,__:[10]})])])],32)])}const pT=Ft(nT,[["render",fT]]),gT={name:"RegisterView",components:{AppHeader:As,AppFooter:Ps,RegisterForm:pT}},mT={class:"min-h-screen flex flex-col"},_T={class:"flex-1 flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 py-12"},bT={class:"w-full max-w-md p-4"};function yT(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("RegisterForm"),l=ft("AppFooter");return D(),L("div",mT,[V(o),p("div",_T,[p("div",bT,[V(a),t[0]||(t[0]=p("div",{class:"mt-8 text-center"},[p("p",{class:"text-sm text-gray-600"},[bt(" By signing up, you agree to our "),p("a",{href:"#",class:"text-primary hover:underline"},"Terms of Service"),bt(" and "),p("a",{href:"#",class:"text-primary hover:underline"},"Privacy Policy")])],-1))])]),V(l)])}const vT=Ft(gT,[["render",yT]]),wT={name:"HeroSection"},xT={class:"hero min-h-[70vh] bg-gradient-to-br from-primary/10 to-secondary/10"};function ST(e,t,s,n,i,r){return D(),L("section",xT,t[0]||(t[0]=[ur('<div class="hero-content text-center py-20" data-v-a496eae6><div class="max-w-4xl" data-v-a496eae6><h1 class="text-5xl md:text-7xl font-bold mb-4" data-v-a496eae6>SEA Catering</h1><p class="text-xl md:text-2xl text-gray-600 mb-6" data-v-a496eae6>Healthy Meals, Anytime, Anywhere</p><div class="badge badge-primary badge-lg text-white mb-6 px-6 py-3" data-v-a496eae6> Nationwide Delivery </div><p class="text-lg md:text-xl text-gray-700 mb-10 max-w-2xl mx-auto" data-v-a496eae6> Customizable healthy meals delivered to your doorstep across Indonesia </p><div class="flex flex-col sm:flex-row gap-4 justify-center" data-v-a496eae6><button class="btn btn-primary btn-lg text-white px-8" data-v-a496eae6>Explore Menu</button><button class="btn btn-outline btn-primary btn-lg px-8" data-v-a496eae6>How It Works</button></div></div></div>',1)]))}const kT=Ft(wT,[["render",ST],["__scopeId","data-v-a496eae6"]]),TT={name:"AboutSection"},ET={class:"py-16 bg-base-100"};function AT(e,t,s,n,i,r){return D(),L("section",ET,t[0]||(t[0]=[ur('<div class="container mx-auto px-4"><div class="flex flex-col items-center text-center"><div class="badge badge-outline badge-primary mb-4">About Us</div><h2 class="text-4xl font-bold text-gray-800 mb-6"> Transforming Healthy Eating in Indonesia </h2><p class="text-lg text-gray-600 mb-6 max-w-3xl"> SEA Catering started as a small kitchen in Jakarta and has quickly become Indonesia&#39;s favorite healthy meal delivery service. Our mission is to make nutritious eating accessible and convenient for everyone. </p><div class="stats stats-vertical md:stats-horizontal shadow w-full max-w-2xl"><div class="stat"><div class="stat-title">Cities Served</div><div class="stat-value text-primary">25+</div><div class="stat-desc">Across Indonesia</div></div><div class="stat"><div class="stat-title">Happy Customers</div><div class="stat-value text-secondary">10K+</div><div class="stat-desc">Since 2022</div></div><div class="stat"><div class="stat-title">Meal Options</div><div class="stat-value text-accent">50+</div><div class="stat-desc">Weekly Rotation</div></div></div></div></div>',1)]))}const PT=Ft(TT,[["render",AT]]),OT={name:"FeatureCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,default:"✅"}}},CT={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 h-full"},RT={class:"card-body items-center text-center p-8"},MT={class:"text-5xl mb-4"},IT={class:"card-title text-2xl text-primary mb-3"},DT={class:"text-gray-600"};function LT(e,t,s,n,i,r){return D(),L("div",CT,[p("div",RT,[p("div",MT,K(s.icon),1),p("h3",IT,K(s.title),1),p("p",DT,K(s.description),1)])])}const $T=Ft(OT,[["render",LT]]),jT={name:"FeaturesSection",components:{FeatureCard:$T}},FT={class:"py-16 bg-gradient-to-br from-base-100 to-primary/5"},NT={class:"container mx-auto px-4"},UT={class:"grid md:grid-cols-3 gap-8"};function BT(e,t,s,n,i,r){const o=ft("FeatureCard");return D(),L("section",FT,[p("div",NT,[t[0]||(t[0]=p("div",{class:"text-center mb-16"},[p("div",{class:"badge badge-primary badge-lg text-white mb-4 px-6 py-3"},"Our Services"),p("h2",{class:"text-4xl font-bold text-gray-800 mb-6"},"Why Choose SEA Catering"),p("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Discover the key features that make our service stand out ")],-1)),p("div",UT,[V(o,{title:"Meal Customization",description:"Create meals tailored to your dietary preferences and needs",icon:"🍽️"}),V(o,{title:"Nationwide Delivery",description:"Delivered to all major cities across Indonesia",icon:"🚚"}),V(o,{title:"Nutritional Transparency",description:"Detailed nutritional information for every meal",icon:"📊"})])])])}const zT=Ft(jT,[["render",BT]]);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Np,setPrototypeOf:Vh,isFrozen:HT,getPrototypeOf:WT,getOwnPropertyDescriptor:VT}=Object;let{freeze:ve,seal:Be,create:Up}=Object,{apply:rl,construct:ol}=typeof Reflect<"u"&&Reflect;ve||(ve=function(t){return t});Be||(Be=function(t){return t});rl||(rl=function(t,s,n){return t.apply(s,n)});ol||(ol=function(t,s){return new t(...s)});const Nr=we(Array.prototype.forEach),qT=we(Array.prototype.lastIndexOf),qh=we(Array.prototype.pop),fi=we(Array.prototype.push),KT=we(Array.prototype.splice),Xr=we(String.prototype.toLowerCase),ba=we(String.prototype.toString),Kh=we(String.prototype.match),pi=we(String.prototype.replace),GT=we(String.prototype.indexOf),YT=we(String.prototype.trim),He=we(Object.prototype.hasOwnProperty),me=we(RegExp.prototype.test),gi=JT(TypeError);function we(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];return rl(e,t,n)}}function JT(e){return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return ol(e,s)}}function ht(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xr;Vh&&Vh(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const r=s(i);r!==i&&(HT(t)||(t[n]=r),i=r)}e[i]=!0}return e}function XT(e){for(let t=0;t<e.length;t++)He(e,t)||(e[t]=null);return e}function _s(e){const t=Up(null);for(const[s,n]of Np(e))He(e,s)&&(Array.isArray(n)?t[s]=XT(n):n&&typeof n=="object"&&n.constructor===Object?t[s]=_s(n):t[s]=n);return t}function mi(e,t){for(;e!==null;){const n=VT(e,t);if(n){if(n.get)return we(n.get);if(typeof n.value=="function")return we(n.value)}e=WT(e)}function s(){return null}return s}const Gh=ve(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ya=ve(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),va=ve(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZT=ve(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wa=ve(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),QT=ve(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yh=ve(["#text"]),Jh=ve(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xa=ve(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xh=ve(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ur=ve(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tE=Be(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eE=Be(/<%[\w\W]*|[\w\W]*%>/gm),sE=Be(/\$\{[\w\W]*/gm),nE=Be(/^data-[\-\w.\u00B7-\uFFFF]+$/),iE=Be(/^aria-[\-\w]+$/),Bp=Be(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rE=Be(/^(?:\w+script|data):/i),oE=Be(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zp=Be(/^html$/i),aE=Be(/^[a-z][.\w]*(-[.\w]+)+$/i);var Zh=Object.freeze({__proto__:null,ARIA_ATTR:iE,ATTR_WHITESPACE:oE,CUSTOM_ELEMENT:aE,DATA_ATTR:nE,DOCTYPE_NAME:zp,ERB_EXPR:eE,IS_ALLOWED_URI:Bp,IS_SCRIPT_OR_DATA:rE,MUSTACHE_EXPR:tE,TMPLIT_EXPR:sE});const _i={element:1,text:3,progressingInstruction:7,comment:8,document:9},lE=function(){return typeof window>"u"?null:window},cE=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";s&&s.hasAttribute(i)&&(n=s.getAttribute(i));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Qh=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Hp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lE();const t=et=>Hp(et);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==_i.document||!e.Element)return t.isSupported=!1,t;let{document:s}=e;const n=s,i=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=e,g=l.prototype,m=mi(g,"cloneNode"),_=mi(g,"remove"),v=mi(g,"nextSibling"),T=mi(g,"childNodes"),x=mi(g,"parentNode");if(typeof o=="function"){const et=s.createElement("template");et.content&&et.content.ownerDocument&&(s=et.content.ownerDocument)}let S,E="";const{implementation:I,createNodeIterator:O,createDocumentFragment:M,getElementsByTagName:U}=s,{importNode:Z}=n;let q=Qh();t.isSupported=typeof Np=="function"&&typeof x=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:_t,TMPLIT_EXPR:Bt,DATA_ATTR:yt,ARIA_ATTR:rt,IS_SCRIPT_OR_DATA:Q,ATTR_WHITESPACE:ut,CUSTOM_ELEMENT:ae}=Zh;let{IS_ALLOWED_URI:Yt}=Zh,gt=null;const Nt=ht({},[...Gh,...ya,...va,...wa,...Yh]);let St=null;const ne=ht({},[...Jh,...xa,...Xh,...Ur]);let vt=Object.seal(Up(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Rt=null,C=null,W=!0,z=!0,G=!1,kt=!0,b=!1,y=!0,k=!1,P=!1,R=!1,A=!1,B=!1,F=!1,N=!0,$=!1;const tt="user-content-";let H=!0,Y=!1,st={},lt=null;const At=ht({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wt=null;const ie=ht({},["audio","video","img","source","image","track"]);let Jt=null;const Ce=ht({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ie="http://www.w3.org/1999/xhtml";let Wt=Ie,xe=!1,bn=null;const Gp=ht({},[ge,Je,Ie],ba);let pr=ht({},["mi","mo","mn","ms","mtext"]),gr=ht({},["annotation-xml"]);const Yp=ht({},["title","style","font","a","script"]);let ei=null;const Jp=["application/xhtml+xml","text/html"],Xp="text/html";let Xt=null,yn=null;const Zp=s.createElement("form"),Xl=function(w){return w instanceof RegExp||w instanceof Function},Bo=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yn&&yn===w)){if((!w||typeof w!="object")&&(w={}),w=_s(w),ei=Jp.indexOf(w.PARSER_MEDIA_TYPE)===-1?Xp:w.PARSER_MEDIA_TYPE,Xt=ei==="application/xhtml+xml"?ba:Xr,gt=He(w,"ALLOWED_TAGS")?ht({},w.ALLOWED_TAGS,Xt):Nt,St=He(w,"ALLOWED_ATTR")?ht({},w.ALLOWED_ATTR,Xt):ne,bn=He(w,"ALLOWED_NAMESPACES")?ht({},w.ALLOWED_NAMESPACES,ba):Gp,Jt=He(w,"ADD_URI_SAFE_ATTR")?ht(_s(Ce),w.ADD_URI_SAFE_ATTR,Xt):Ce,wt=He(w,"ADD_DATA_URI_TAGS")?ht(_s(ie),w.ADD_DATA_URI_TAGS,Xt):ie,lt=He(w,"FORBID_CONTENTS")?ht({},w.FORBID_CONTENTS,Xt):At,Rt=He(w,"FORBID_TAGS")?ht({},w.FORBID_TAGS,Xt):_s({}),C=He(w,"FORBID_ATTR")?ht({},w.FORBID_ATTR,Xt):_s({}),st=He(w,"USE_PROFILES")?w.USE_PROFILES:!1,W=w.ALLOW_ARIA_ATTR!==!1,z=w.ALLOW_DATA_ATTR!==!1,G=w.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,b=w.SAFE_FOR_TEMPLATES||!1,y=w.SAFE_FOR_XML!==!1,k=w.WHOLE_DOCUMENT||!1,A=w.RETURN_DOM||!1,B=w.RETURN_DOM_FRAGMENT||!1,F=w.RETURN_TRUSTED_TYPE||!1,R=w.FORCE_BODY||!1,N=w.SANITIZE_DOM!==!1,$=w.SANITIZE_NAMED_PROPS||!1,H=w.KEEP_CONTENT!==!1,Y=w.IN_PLACE||!1,Yt=w.ALLOWED_URI_REGEXP||Bp,Wt=w.NAMESPACE||Ie,pr=w.MATHML_TEXT_INTEGRATION_POINTS||pr,gr=w.HTML_INTEGRATION_POINTS||gr,vt=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&Xl(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vt.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Xl(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vt.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vt.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),b&&(z=!1),B&&(A=!0),st&&(gt=ht({},Yh),St=[],st.html===!0&&(ht(gt,Gh),ht(St,Jh)),st.svg===!0&&(ht(gt,ya),ht(St,xa),ht(St,Ur)),st.svgFilters===!0&&(ht(gt,va),ht(St,xa),ht(St,Ur)),st.mathMl===!0&&(ht(gt,wa),ht(St,Xh),ht(St,Ur))),w.ADD_TAGS&&(gt===Nt&&(gt=_s(gt)),ht(gt,w.ADD_TAGS,Xt)),w.ADD_ATTR&&(St===ne&&(St=_s(St)),ht(St,w.ADD_ATTR,Xt)),w.ADD_URI_SAFE_ATTR&&ht(Jt,w.ADD_URI_SAFE_ATTR,Xt),w.FORBID_CONTENTS&&(lt===At&&(lt=_s(lt)),ht(lt,w.FORBID_CONTENTS,Xt)),H&&(gt["#text"]=!0),k&&ht(gt,["html","head","body"]),gt.table&&(ht(gt,["tbody"]),delete Rt.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw gi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=w.TRUSTED_TYPES_POLICY,E=S.createHTML("")}else S===void 0&&(S=cE(f,i)),S!==null&&typeof E=="string"&&(E=S.createHTML(""));ve&&ve(w),yn=w}},Zl=ht({},[...ya,...va,...ZT]),Ql=ht({},[...wa,...QT]),Qp=function(w){let j=x(w);(!j||!j.tagName)&&(j={namespaceURI:Wt,tagName:"template"});const J=Xr(w.tagName),Ut=Xr(j.tagName);return bn[w.namespaceURI]?w.namespaceURI===Je?j.namespaceURI===Ie?J==="svg":j.namespaceURI===ge?J==="svg"&&(Ut==="annotation-xml"||pr[Ut]):!!Zl[J]:w.namespaceURI===ge?j.namespaceURI===Ie?J==="math":j.namespaceURI===Je?J==="math"&&gr[Ut]:!!Ql[J]:w.namespaceURI===Ie?j.namespaceURI===Je&&!gr[Ut]||j.namespaceURI===ge&&!pr[Ut]?!1:!Ql[J]&&(Yp[J]||!Zl[J]):!!(ei==="application/xhtml+xml"&&bn[w.namespaceURI]):!1},Xe=function(w){fi(t.removed,{element:w});try{x(w).removeChild(w)}catch{_(w)}},vn=function(w,j){try{fi(t.removed,{attribute:j.getAttributeNode(w),from:j})}catch{fi(t.removed,{attribute:null,from:j})}if(j.removeAttribute(w),w==="is")if(A||B)try{Xe(j)}catch{}else try{j.setAttribute(w,"")}catch{}},tc=function(w){let j=null,J=null;if(R)w="<remove></remove>"+w;else{const Kt=Kh(w,/^[\r\n\t ]+/);J=Kt&&Kt[0]}ei==="application/xhtml+xml"&&Wt===Ie&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");const Ut=S?S.createHTML(w):w;if(Wt===Ie)try{j=new d().parseFromString(Ut,ei)}catch{}if(!j||!j.documentElement){j=I.createDocument(Wt,"template",null);try{j.documentElement.innerHTML=xe?E:Ut}catch{}}const le=j.body||j.documentElement;return w&&J&&le.insertBefore(s.createTextNode(J),le.childNodes[0]||null),Wt===Ie?U.call(j,k?"html":"body")[0]:k?j.documentElement:le},ec=function(w){return O.call(w.ownerDocument||w,w,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},zo=function(w){return w instanceof h&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof u)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},sc=function(w){return typeof a=="function"&&w instanceof a};function cs(et,w,j){Nr(et,J=>{J.call(t,w,j,yn)})}const nc=function(w){let j=null;if(cs(q.beforeSanitizeElements,w,null),zo(w))return Xe(w),!0;const J=Xt(w.nodeName);if(cs(q.uponSanitizeElement,w,{tagName:J,allowedTags:gt}),y&&w.hasChildNodes()&&!sc(w.firstElementChild)&&me(/<[/\w!]/g,w.innerHTML)&&me(/<[/\w!]/g,w.textContent)||w.nodeType===_i.progressingInstruction||y&&w.nodeType===_i.comment&&me(/<[/\w]/g,w.data))return Xe(w),!0;if(!gt[J]||Rt[J]){if(!Rt[J]&&rc(J)&&(vt.tagNameCheck instanceof RegExp&&me(vt.tagNameCheck,J)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(J)))return!1;if(H&&!lt[J]){const Ut=x(w)||w.parentNode,le=T(w)||w.childNodes;if(le&&Ut){const Kt=le.length;for(let Se=Kt-1;Se>=0;--Se){const us=m(le[Se],!0);us.__removalCount=(w.__removalCount||0)+1,Ut.insertBefore(us,v(w))}}}return Xe(w),!0}return w instanceof l&&!Qp(w)||(J==="noscript"||J==="noembed"||J==="noframes")&&me(/<\/no(script|embed|frames)/i,w.innerHTML)?(Xe(w),!0):(b&&w.nodeType===_i.text&&(j=w.textContent,Nr([it,_t,Bt],Ut=>{j=pi(j,Ut," ")}),w.textContent!==j&&(fi(t.removed,{element:w.cloneNode()}),w.textContent=j)),cs(q.afterSanitizeElements,w,null),!1)},ic=function(w,j,J){if(N&&(j==="id"||j==="name")&&(J in s||J in Zp))return!1;if(!(z&&!C[j]&&me(yt,j))){if(!(W&&me(rt,j))){if(!St[j]||C[j]){if(!(rc(w)&&(vt.tagNameCheck instanceof RegExp&&me(vt.tagNameCheck,w)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(w))&&(vt.attributeNameCheck instanceof RegExp&&me(vt.attributeNameCheck,j)||vt.attributeNameCheck instanceof Function&&vt.attributeNameCheck(j))||j==="is"&&vt.allowCustomizedBuiltInElements&&(vt.tagNameCheck instanceof RegExp&&me(vt.tagNameCheck,J)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(J))))return!1}else if(!Jt[j]){if(!me(Yt,pi(J,ut,""))){if(!((j==="src"||j==="xlink:href"||j==="href")&&w!=="script"&&GT(J,"data:")===0&&wt[w])){if(!(G&&!me(Q,pi(J,ut,"")))){if(J)return!1}}}}}}return!0},rc=function(w){return w!=="annotation-xml"&&Kh(w,ae)},oc=function(w){cs(q.beforeSanitizeAttributes,w,null);const{attributes:j}=w;if(!j||zo(w))return;const J={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:St,forceKeepAttr:void 0};let Ut=j.length;for(;Ut--;){const le=j[Ut],{name:Kt,namespaceURI:Se,value:us}=le,si=Xt(Kt),Ho=us;let ce=Kt==="value"?Ho:YT(Ho);if(J.attrName=si,J.attrValue=ce,J.keepAttr=!0,J.forceKeepAttr=void 0,cs(q.uponSanitizeAttribute,w,J),ce=J.attrValue,$&&(si==="id"||si==="name")&&(vn(Kt,w),ce=tt+ce),y&&me(/((--!?|])>)|<\/(style|title)/i,ce)){vn(Kt,w);continue}if(J.forceKeepAttr)continue;if(!J.keepAttr){vn(Kt,w);continue}if(!kt&&me(/\/>/i,ce)){vn(Kt,w);continue}b&&Nr([it,_t,Bt],lc=>{ce=pi(ce,lc," ")});const ac=Xt(w.nodeName);if(!ic(ac,si,ce)){vn(Kt,w);continue}if(S&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Se)switch(f.getAttributeType(ac,si)){case"TrustedHTML":{ce=S.createHTML(ce);break}case"TrustedScriptURL":{ce=S.createScriptURL(ce);break}}if(ce!==Ho)try{Se?w.setAttributeNS(Se,Kt,ce):w.setAttribute(Kt,ce),zo(w)?Xe(w):qh(t.removed)}catch{vn(Kt,w)}}cs(q.afterSanitizeAttributes,w,null)},tg=function et(w){let j=null;const J=ec(w);for(cs(q.beforeSanitizeShadowDOM,w,null);j=J.nextNode();)cs(q.uponSanitizeShadowNode,j,null),nc(j),oc(j),j.content instanceof r&&et(j.content);cs(q.afterSanitizeShadowDOM,w,null)};return t.sanitize=function(et){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,J=null,Ut=null,le=null;if(xe=!et,xe&&(et="<!-->"),typeof et!="string"&&!sc(et))if(typeof et.toString=="function"){if(et=et.toString(),typeof et!="string")throw gi("dirty is not a string, aborting")}else throw gi("toString is not a function");if(!t.isSupported)return et;if(P||Bo(w),t.removed=[],typeof et=="string"&&(Y=!1),Y){if(et.nodeName){const us=Xt(et.nodeName);if(!gt[us]||Rt[us])throw gi("root node is forbidden and cannot be sanitized in-place")}}else if(et instanceof a)j=tc("<!---->"),J=j.ownerDocument.importNode(et,!0),J.nodeType===_i.element&&J.nodeName==="BODY"||J.nodeName==="HTML"?j=J:j.appendChild(J);else{if(!A&&!b&&!k&&et.indexOf("<")===-1)return S&&F?S.createHTML(et):et;if(j=tc(et),!j)return A?null:F?E:""}j&&R&&Xe(j.firstChild);const Kt=ec(Y?et:j);for(;Ut=Kt.nextNode();)nc(Ut),oc(Ut),Ut.content instanceof r&&tg(Ut.content);if(Y)return et;if(A){if(B)for(le=M.call(j.ownerDocument);j.firstChild;)le.appendChild(j.firstChild);else le=j;return(St.shadowroot||St.shadowrootmode)&&(le=Z.call(n,le,!0)),le}let Se=k?j.outerHTML:j.innerHTML;return k&&gt["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&me(zp,j.ownerDocument.doctype.name)&&(Se="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+Se),b&&Nr([it,_t,Bt],us=>{Se=pi(Se,us," ")}),S&&F?S.createHTML(Se):Se},t.setConfig=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bo(et),P=!0},t.clearConfig=function(){yn=null,P=!1},t.isValidAttribute=function(et,w,j){yn||Bo({});const J=Xt(et),Ut=Xt(w);return ic(J,Ut,j)},t.addHook=function(et,w){typeof w=="function"&&fi(q[et],w)},t.removeHook=function(et,w){if(w!==void 0){const j=qT(q[et],w);return j===-1?void 0:KT(q[et],j,1)[0]}return qh(q[et])},t.removeHooks=function(et){q[et]=[]},t.removeAllHooks=function(){q=Qh()},t}var rr=Hp();const uE={name:"TestimonialForm",setup(){return{router:Ol()}},data(){return{form:{name:"",review:"",rating:0},submitting:!1,success:!1,error:null,user:null}},async created(){const{data:e}=await X.auth.getUser();this.user=e.user,this.user&&this.user.user_metadata&&this.user.user_metadata.full_name&&(this.form.name=this.user.user_metadata.full_name)},methods:{async submitForm(){try{if(!this.form.rating||this.form.rating<1||this.form.rating>5){this.error="Please select a rating from 1 to 5";return}this.submitting=!0,this.error=null,this.success=!1;const e={name:rr.sanitize(this.form.name),review:rr.sanitize(this.form.review),rating:this.form.rating,user_id:this.user?this.user.id:null};this.$emit("submit-testimonial",e),this.form={name:this.user&&this.user.user_metadata?this.user.user_metadata.full_name:"",review:"",rating:0},this.success=!0,setTimeout(()=>this.success=!1,5e3)}catch(e){this.error="Error submitting review: "+e.message}finally{this.submitting=!1}}}},hE={class:"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md"},dE={key:0,class:"alert alert-success mb-4"},fE={key:1,class:"alert alert-error mb-4"},pE={key:2,class:"text-center py-4"},gE={class:"flex justify-center space-x-4"},mE={class:"rating"},_E=["value"],bE={key:0,class:"text-xs text-error mt-1"},yE=["disabled"],vE={key:0,class:"loading loading-spinner loading-xs mr-2"};function wE(e,t,s,n,i,r){const o=ft("router-link");return D(),L("div",hE,[t[12]||(t[12]=p("h3",{class:"text-2xl font-bold mb-6 text-center"},"Share Your Experience",-1)),i.success?(D(),L("div",dE,t[4]||(t[4]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p("span",null,"Thank you for your review! Your feedback helps us improve.",-1)]))):jt("",!0),i.error?(D(),L("div",fE,[t[5]||(t[5]=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("span",null,K(i.error),1)])):jt("",!0),i.user?(D(),L("form",{key:3,onSubmit:t[3]||(t[3]=Mo((...a)=>r.submitForm&&r.submitForm(...a),["prevent"])),class:"space-y-4"},[p("div",null,[t[9]||(t[9]=p("label",{class:"label"},[p("span",{class:"label-text"},"Your Name")],-1)),te(p("input",{type:"text",class:"input input-bordered w-full","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.name=a),required:""},null,512),[[Oe,i.form.name]])]),p("div",null,[t[10]||(t[10]=p("label",{class:"label"},[p("span",{class:"label-text"},"Your Review")],-1)),te(p("textarea",{class:"textarea textarea-bordered w-full h-32","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.review=a),required:""},null,512),[[Oe,i.form.review]])]),p("div",null,[t[11]||(t[11]=p("label",{class:"label"},[p("span",{class:"label-text"},"Rating")],-1)),p("div",mE,[(D(),L(Ot,null,Gt(5,a=>te(p("input",{key:a,type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",value:a,"onUpdate:modelValue":t[2]||(t[2]=l=>i.form.rating=l)},null,8,_E),[[of,i.form.rating]])),64))]),i.form.rating?jt("",!0):(D(),L("div",bE," Please select a rating from 1 to 5 "))]),p("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.submitting||!i.form.rating},[i.submitting?(D(),L("span",vE)):jt("",!0),bt(" "+K(i.submitting?"Submitting...":"Submit Review"),1)],8,yE)],32)):(D(),L("div",pE,[t[8]||(t[8]=p("p",{class:"mb-4 text-lg"},"Please login to share your experience with us.",-1)),p("div",gE,[V(o,{to:"/login",class:"btn btn-primary"},{default:Vt(()=>t[6]||(t[6]=[bt("Login")])),_:1,__:[6]}),V(o,{to:"/register",class:"btn btn-outline"},{default:Vt(()=>t[7]||(t[7]=[bt("Register")])),_:1,__:[7]})])]))])}const Wp=Ft(uE,[["render",wE]]),_o={async getAllTestimonials(){const{data:e,error:t}=await X.from("testimonials").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},async addTestimonial(e){if(!e.rating||e.rating<1||e.rating>5)throw new Error("Rating must be between 1 and 5");const{data:t,error:s}=await X.from("testimonials").insert([{name:e.name,review:e.review,rating:e.rating,user_id:e.user_id||null}]).select();if(s)throw s;return t[0]},async getLatestTestimonials(e=5){const{data:t,error:s}=await X.from("testimonials").select("*").order("created_at",{ascending:!1}).limit(e);if(s)throw s;return t},async deleteTestimonial(e){const{error:t}=await X.from("testimonials").delete().eq("id",e);if(t)throw t;return!0},async updateTestimonial(e,t){if(!t.rating||t.rating<1||t.rating>5)throw new Error("Rating must be between 1 and 5");const{data:s,error:n}=await X.from("testimonials").update({name:t.name,review:t.review,rating:t.rating}).eq("id",e).select();if(n)throw n;return s[0]},async getUserTestimonials(e){const{data:t,error:s}=await X.from("testimonials").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}},xE={name:"TestimonialsSection",components:{TestimonialForm:Wp},data(){return{testimonials:[],loading:!0,error:null}},async created(){try{this.loading=!0,this.testimonials=await _o.getLatestTestimonials(5),this.loading=!1}catch(e){this.error="Failed to load testimonials: "+e.message,this.loading=!1}},methods:{safeHtml(e){return rr.sanitize(e)},async addTestimonial(e){try{const t=await _o.addTestimonial(e);this.testimonials.unshift(t)}catch(t){this.error="Failed to add testimonial: "+t.message}}}},SE={class:"py-16 bg-base-100"},kE={class:"container mx-auto px-4"},TE={key:0,class:"flex justify-center items-center py-12"},EE={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},AE={key:2,class:"max-w-4xl mx-auto mt-12"},PE={key:0,class:"text-center py-8"},OE={key:1,class:"carousel w-full"},CE=["id"],RE={class:"card bg-base-100 shadow-xl"},ME={class:"card-body items-center text-center"},IE={class:"rating mb-4"},DE=["name","checked"],LE={class:"text-gray-600 italic mb-6"},$E={class:"flex items-center"},jE={class:"avatar"},FE={class:"w-12 rounded-full bg-gray-200 flex items-center justify-center"},NE={class:"text-gray-700 font-bold"},UE={class:"ml-4"},BE={class:"font-bold text-lg"},zE={class:"flex justify-center w-full py-2 gap-2"},HE=["href"];function WE(e,t,s,n,i,r){const o=ft("TestimonialForm");return D(),L("section",SE,[p("div",kE,[t[3]||(t[3]=p("div",{class:"text-center mb-12"},[p("div",{class:"badge badge-outline badge-primary mb-4"},"Testimonials"),p("h2",{class:"text-4xl font-bold text-gray-800 mb-6"},"What Our Customers Say")],-1)),V(o,{onSubmitTestimonial:r.addTestimonial},null,8,["onSubmitTestimonial"]),i.loading?(D(),L("div",TE,t[0]||(t[0]=[p("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),p("span",{class:"ml-4 text-lg"},"Loading testimonials...",-1)]))):i.error?(D(),L("div",EE,[p("div",null,[t[1]||(t[1]=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("span",null,K(i.error),1)])])):(D(),L("div",AE,[i.testimonials.length===0?(D(),L("div",PE,t[2]||(t[2]=[p("p",{class:"text-lg text-gray-600"}," No testimonials yet. Be the first to share your experience! ",-1)]))):(D(),L("div",OE,[(D(!0),L(Ot,null,Gt(i.testimonials,(a,l)=>(D(),L("div",{id:`testimonial-${l}`,key:a.id,class:"carousel-item w-full"},[p("div",RE,[p("div",ME,[p("div",IE,[(D(),L(Ot,null,Gt(5,c=>p("input",{key:c,type:"radio",name:`rating-${a.id}`,class:"mask mask-star-2 bg-orange-400",checked:c<=a.rating},null,8,DE)),64))]),p("p",LE,'"'+K(r.safeHtml(a.review))+'"',1),p("div",$E,[p("div",jE,[p("div",FE,[p("span",NE,K(a.name.charAt(0)),1)])]),p("div",UE,[p("h4",BE,K(a.name),1)])])])])],8,CE))),128))])),p("div",zE,[(D(!0),L(Ot,null,Gt(i.testimonials,(a,l)=>(D(),L("a",{key:a.id+"-nav",href:`#testimonial-${l}`,class:"btn btn-xs"},K(l+1),9,HE))),128))])]))])])}const VE=Ft(xE,[["render",WE]]),qE={name:"ContactSection"},KE={class:"py-16 bg-gradient-to-br from-primary/10 to-secondary/10"};function GE(e,t,s,n,i,r){return D(),L("section",KE,t[0]||(t[0]=[ur('<div class="container mx-auto px-4"><div class="text-center mb-12"><div class="badge badge-primary badge-lg text-white mb-4">Contact Us</div><h2 class="text-4xl font-bold text-gray-800 mb-6">We&#39;re Here to Help</h2></div><div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"><div class="flex items-center mb-8"><div class="bg-primary p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div><h3 class="text-xl font-semibold">Manager</h3><p class="text-lg">Brian</p></div></div><div class="flex items-center"><div class="bg-primary p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg></div><div><h3 class="text-xl font-semibold">Phone Number</h3><p class="text-lg text-primary">0812-3456-789</p></div></div></div></div>',1)]))}const Vp=Ft(qE,[["render",GE]]),YE={name:"HomeView",components:{AppHeader:As,AppFooter:Ps,HeroSection:kT,AboutSection:PT,FeaturesSection:zT,TestimonialsSection:VE,ContactSection:Vp}},JE={class:"min-h-screen flex flex-col"};function XE(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("HeroSection"),l=ft("AboutSection"),c=ft("FeaturesSection"),u=ft("TestimonialsSection"),h=ft("ContactSection"),d=ft("AppFooter");return D(),L("div",JE,[V(o),V(a),V(l),V(c),V(u),V(h),V(d)])}const ZE=Ft(YE,[["render",XE]]),QE={name:"MealPlanCard",props:{plan:{type:Object,required:!0}}},tA={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 h-full"},eA=["src"],sA={class:"card-body"},nA={class:"card-title text-primary break-words"},iA={class:"text-xl font-bold text-secondary"},rA={class:"line-clamp-3"},oA={class:"card-actions mt-4"};function aA(e,t,s,n,i,r){return D(),L("div",tA,[p("figure",null,[p("img",{src:s.plan.image,alt:"Meal Plan",class:"w-full h-48 object-cover"},null,8,eA)]),p("div",sA,[p("h2",nA,K(s.plan.name),1),p("p",iA,K(s.plan.price),1),p("p",rA,K(s.plan.description),1),p("div",oA,[p("button",{class:"btn btn-primary text-white",onClick:t[0]||(t[0]=o=>e.$emit("show-details"))}," See Details ")])])])}const lA=Ft(QE,[["render",aA]]),cA={async getAllMealPlans(){const{data:e,error:t}=await X.from("meal_plans").select("*, meal_plan_details(*)");if(t)throw t;return e.map(n=>({id:n.id,name:n.name,price:`Rp${n.price_per_meal.toLocaleString()} / meal`,priceValue:n.price_per_meal,description:n.description,image:n.image_url,details:n.meal_plan_details?n.meal_plan_details.map(i=>i.detail):[]}))},async getMealPlanById(e){const{data:t,error:s}=await X.from("meal_plans").select("*, meal_plan_details(*)").eq("id",e).single();if(s)throw s;return{id:t.id,name:t.name,price:`Rp${t.price_per_meal.toLocaleString()} / meal`,priceValue:t.price_per_meal,description:t.description,image:t.image_url,details:t.meal_plan_details?t.meal_plan_details.map(n=>n.detail):[]}},async addMealPlan(e){const{data:t,error:s}=await X.from("meal_plans").insert([{name:e.name,price_per_meal:e.priceValue,description:e.description,image_url:e.image}]).select();if(s)throw s;if(e.details&&e.details.length>0){const n=e.details.map(r=>({meal_plan_id:t[0].id,detail:r})),{error:i}=await X.from("meal_plan_details").insert(n);if(i)throw i}return t[0]},async updateMealPlan(e,t){const{data:s,error:n}=await X.from("meal_plans").update({name:t.name,price_per_meal:t.priceValue,description:t.description,image_url:t.image}).eq("id",e).select();if(n)throw n;const{error:i}=await X.from("meal_plan_details").delete().eq("meal_plan_id",e);if(i)throw i;if(t.details&&t.details.length>0){const r=t.details.map(a=>({meal_plan_id:e,detail:a})),{error:o}=await X.from("meal_plan_details").insert(r);if(o)throw o}return s[0]},async deleteMealPlan(e){const{error:t}=await X.from("meal_plan_details").delete().eq("meal_plan_id",e);if(t)throw t;const{error:s}=await X.from("meal_plans").delete().eq("id",e);if(s)throw s;return!0}},uA={name:"MenuView",components:{AppHeader:As,AppFooter:Ps,MealPlanCard:lA},data(){return{mealPlans:[],loading:!0,error:null,showModal:!1,selectedPlan:null}},async created(){try{this.loading=!0,this.mealPlans=await cA.getAllMealPlans(),this.loading=!1}catch(e){this.error="Failed to load meal plans: "+e.message,this.loading=!1,console.error("Error loading meal plans:",e)}},methods:{openModal(e){this.selectedPlan=e,this.showModal=!0},closeModal(){this.showModal=!1}}},hA={class:"min-h-screen flex flex-col"},dA={class:"container mx-auto px-4 py-16"},fA={key:0,class:"flex justify-center items-center py-12"},pA={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},gA={key:2,class:"grid md:grid-cols-3 gap-8"},mA={key:3,class:"text-center py-12"},_A={class:"modal-box max-w-2xl"},bA={class:"font-bold text-2xl mb-4"},yA={class:"flex flex-col md:flex-row gap-6"},vA={class:"md:w-1/2"},wA=["src"],xA={class:"md:w-1/2"},SA={class:"text-lg mb-2"},kA={class:"text-lg mb-4"},TA={key:0},EA={class:"list-disc pl-5"},AA={class:"modal-action"};function PA(e,t,s,n,i,r){var c,u,h,d,f;const o=ft("AppHeader"),a=ft("MealPlanCard"),l=ft("AppFooter");return D(),L("div",hA,[V(o),p("div",dA,[t[4]||(t[4]=p("h1",{class:"text-4xl font-bold text-center mb-6"},"Our Meal Plans",-1)),t[5]||(t[5]=p("p",{class:"text-center text-gray-600 mb-12 max-w-2xl mx-auto"}," Choose from our selection of carefully crafted meal plans designed to meet your nutritional needs and taste preferences. ",-1)),i.loading?(D(),L("div",fA,t[1]||(t[1]=[p("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),p("span",{class:"ml-4 text-lg"},"Loading meal plans...",-1)]))):i.error?(D(),L("div",pA,[p("div",null,[t[2]||(t[2]=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("span",null,K(i.error),1)])])):(D(),L("div",gA,[(D(!0),L(Ot,null,Gt(i.mealPlans,(g,m)=>(D(),Tl(a,{key:g.id||m,plan:g,onShowDetails:_=>r.openModal(g)},null,8,["plan","onShowDetails"]))),128))])),!i.loading&&!i.error&&i.mealPlans.length===0?(D(),L("div",mA,t[3]||(t[3]=[p("p",{class:"text-xl text-gray-600"},"No meal plans found.",-1)]))):jt("",!0)]),V(l),p("div",{class:rs(["modal",{"modal-open":i.showModal}])},[p("div",_A,[p("h3",bA,K((c=i.selectedPlan)==null?void 0:c.name),1),p("div",yA,[p("div",vA,[p("img",{src:(u=i.selectedPlan)==null?void 0:u.image,alt:"Meal Plan",class:"rounded-lg w-full h-64 object-cover"},null,8,wA)]),p("div",xA,[p("p",SA,[t[6]||(t[6]=p("strong",null,"Price:",-1)),bt(" "+K((h=i.selectedPlan)==null?void 0:h.price),1)]),p("p",kA,K((d=i.selectedPlan)==null?void 0:d.description),1),(f=i.selectedPlan)!=null&&f.details?(D(),L("div",TA,[t[7]||(t[7]=p("h4",{class:"font-bold text-xl mb-2"},"What's Included:",-1)),p("ul",EA,[(D(!0),L(Ot,null,Gt(i.selectedPlan.details,(g,m)=>(D(),L("li",{key:m},K(g),1))),128))])])):jt("",!0)])]),p("div",AA,[p("button",{class:"btn",onClick:t[0]||(t[0]=(...g)=>r.closeModal&&r.closeModal(...g))},"Close")])])],2)])}const OA=Ft(uA,[["render",PA]]),Hn=(e,t="text")=>{if(e==null){if(t==="optional")return"";throw new Error("Input tidak boleh kosong")}let s=String(e);switch(t!=="password"&&(s=rr.sanitize(s).trim()),t){case"email":{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s))throw new Error("Format email tidak valid");break}case"password":{if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e))throw new Error("Password harus memiliki minimal 8 karakter dengan huruf besar, kecil, angka, dan simbol");return e}case"phone":{if(!/^[0-9]{10,15}$/.test(s))throw new Error("Nomor telepon harus 10-15 digit angka");break}case"name":{if(s.length<2)throw new Error("Nama harus memiliki minimal 2 karakter");s=s.replace(/[^a-zA-Z0-9 .'_-]/g,"");break}}return s},CA={async getTableInfo(){try{const{data:e,error:t}=await X.from("subscriptions").select("*").limit(1);return t?(console.error("Error fetching table info:",t),null):e&&e.length>0?Object.keys(e[0]):null}catch(e){return console.error("Error checking table structure:",e),null}},async createSubscription(e){if(!e.csrf_token||!Gf(e.csrf_token))throw new Error("CSRF verification failed. Please refresh the page and try again.");const{data:t}=await X.auth.getUser();if(!(t!=null&&t.user))throw new Error("You must be logged in to create a subscription");let s="user_id";const n=await this.getTableInfo();if(n){const a=["user_id","created_by","userId","user","customer_id"];for(const l of a)if(n.includes(l)){s=l;break}}const i={name:Hn(e.name,"name"),phone:Hn(e.phone,"phone"),plan:e.plan,meal_types:e.mealTypes,days:e.days,allergies:Hn(e.allergies,"optional"),total_price:e.totalPrice,created_at:new Date().toISOString(),status:"active"};i[s]=t.user.id,console.log(`Using column name: ${s} for user ID`,i);const{data:r,error:o}=await X.from("subscriptions").insert([i]).select();if(o)throw console.error("Subscription creation error:",o),o.code==="PGRST204"&&o.message.includes("user_id")?new Error("Database schema error: The user_id column is missing in the subscriptions table. Please check SUBSCRIPTION_ERROR_FIX.md for solutions."):o.code==="23503"?new Error("User reference error: Unable to link subscription to user account. Please ensure you are properly logged in."):o.code==="42P01"?new Error("Table not found: The subscriptions table does not exist in the database. Please run the database setup script."):new Error(o.message||"Failed to create subscription");return r},async getSubscriptions(){const{data:e}=await X.auth.getUser();if(!(e!=null&&e.user))throw new Error("You must be logged in to view subscriptions");const t=await this.checkIfUserIsAdmin(e.user.id);let s=X.from("subscriptions").select("*");t||(s=s.eq("user_id",e.user.id)),s=s.order("created_at",{ascending:!1});const{data:n,error:i}=await s;if(i)throw console.error("Error fetching subscriptions:",i),new Error(i.message||"Failed to load subscriptions");return n},async checkIfUserIsAdmin(e){const{data:t,error:s}=await X.from("profiles").select("is_admin").eq("id",e).single();return s||!t?!1:t.is_admin===!0},async pauseSubscription(e,t,s){const{data:n}=await X.auth.getUser();if(!(n!=null&&n.user))throw new Error("You must be logged in to pause a subscription");const{data:i,error:r}=await X.from("subscriptions").select("*").eq("id",e).single();if(r)throw console.error("Error fetching subscription:",r),new Error("Unable to find subscription");if(i.user_id!==n.user.id&&!await this.checkIfUserIsAdmin(n.user.id))throw new Error("You can only pause your own subscriptions");const{data:o,error:a}=await X.from("subscriptions").update({status:"paused",pause_start:t,pause_end:s,updated_at:new Date().toISOString()}).eq("id",e).select();if(a)throw console.error("Error pausing subscription:",a),new Error(a.message||"Failed to pause subscription");return o},async cancelSubscription(e,t=""){const{data:s}=await X.auth.getUser();if(!(s!=null&&s.user))throw new Error("You must be logged in to cancel a subscription");const{data:n,error:i}=await X.from("subscriptions").select("*").eq("id",e).single();if(i)throw console.error("Error fetching subscription:",i),new Error("Unable to find subscription");if(n.user_id!==s.user.id&&!await this.checkIfUserIsAdmin(s.user.id))throw new Error("You can only cancel your own subscriptions");const{data:r,error:o}=await X.from("subscriptions").update({status:"cancelled",cancellation_reason:t,cancelled_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select();if(o)throw console.error("Error cancelling subscription:",o),new Error(o.message||"Failed to cancel subscription");return r},async reactivateSubscription(e){const{data:t}=await X.auth.getUser();if(!(t!=null&&t.user))throw new Error("You must be logged in to reactivate a subscription");const{data:s,error:n}=await X.from("subscriptions").select("*").eq("id",e).single();if(n)throw console.error("Error fetching subscription:",n),new Error("Unable to find subscription");if(s.user_id!==t.user.id&&!await this.checkIfUserIsAdmin(t.user.id))throw new Error("You can only reactivate your own subscriptions");const i={status:"active",updated_at:new Date().toISOString()};s.status==="paused"&&(i.pause_start=null,i.pause_end=null),s.status==="cancelled"&&(i.reactivated_at=new Date().toISOString());const{data:r,error:o}=await X.from("subscriptions").update(i).eq("id",e).select();if(o)throw console.error("Error reactivating subscription:",o),new Error(o.message||"Failed to reactivate subscription");return r}},RA={name:"SubscriptionForm",data(){return{csrfToken:"",form:{name:"",phone:"",plan:"",mealTypes:[],days:[],allergies:""},isSubmitting:!1,errorMessage:"",formSubmitted:!1,plans:[{name:"Diet Plan",price:"Rp30.000 / meal",description:"Low calorie meals"},{name:"Protein Plan",price:"Rp40.000 / meal",description:"High protein meals"},{name:"Royal Plan",price:"Rp60.000 / meal",description:"Premium gourmet meals"}],mealTypes:[{label:"Breakfast",value:"breakfast"},{label:"Lunch",value:"lunch"},{label:"Dinner",value:"dinner"}],days:[{label:"Monday",value:"monday"},{label:"Tuesday",value:"tuesday"},{label:"Wednesday",value:"wednesday"},{label:"Thursday",value:"thursday"},{label:"Friday",value:"friday"},{label:"Saturday",value:"saturday"},{label:"Sunday",value:"sunday"}]}},created(){this.csrfToken=Iu()},computed:{calculatedPrice(){if(!this.form.plan||this.form.mealTypes.length===0||this.form.days.length===0)return 0;const t={"Diet Plan":3e4,"Protein Plan":4e4,"Royal Plan":6e4}[this.form.plan],s=this.form.mealTypes.length,n=this.form.days.length;return t*s*n*4.3}},methods:{formatPrice(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)},async submitForm(){if(this.formSubmitted=!0,this.errorMessage="",this.form.mealTypes.length===0||this.form.days.length===0){this.errorMessage="Please fill in all required fields";return}this.isSubmitting=!0;try{const e={name:Hn(this.form.name,"name"),phone:Hn(this.form.phone,"phone"),plan:this.form.plan,mealTypes:this.form.mealTypes,days:this.form.days,allergies:Hn(this.form.allergies,"optional"),totalPrice:this.calculatedPrice,csrf_token:sv()};await CA.createSubscription(e),alert("Subscription created successfully!"),this.resetForm()}catch(e){console.error("Submission error:",e),this.errorMessage=e.message||"An error occurred while creating your subscription"}finally{this.isSubmitting=!1}},resetForm(){this.form={name:"",phone:"",plan:"",mealTypes:[],days:[],allergies:""},this.formSubmitted=!1,this.csrfToken=Iu()}}},MA={class:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md"},IA=["value"],DA={class:"mb-6"},LA={class:"mb-6"},$A={class:"mb-6"},jA={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},FA={class:"card-body"},NA=["onUpdate:modelValue","value"],UA={class:"card-title"},BA={class:"text-xl font-bold text-secondary"},zA={class:"mb-6"},HA={class:"flex flex-wrap gap-4"},WA=["value"],VA={key:0,class:"text-error text-sm mt-1"},qA={class:"mb-6"},KA={class:"flex flex-wrap gap-4"},GA=["value"],YA={key:0,class:"text-error text-sm mt-1"},JA={class:"mb-6"},XA={class:"bg-base-200 p-6 rounded-lg mb-6"},ZA={class:"flex justify-between items-center"},QA={class:"text-2xl font-bold text-primary"},tP={key:0,class:"alert alert-error mb-4"},eP=["disabled"],sP={key:0,class:"loading loading-spinner"};function nP(e,t,s,n,i,r){return D(),L("div",MA,[t[14]||(t[14]=p("h2",{class:"text-3xl font-bold mb-8 text-center"},"Subscribe to a Meal Plan",-1)),p("form",{onSubmit:t[5]||(t[5]=Mo((...o)=>r.submitForm&&r.submitForm(...o),["prevent"]))},[p("input",{type:"hidden",name:"csrf_token",value:i.csrfToken},null,8,IA),p("div",DA,[t[6]||(t[6]=p("label",{class:"block text-lg font-medium mb-2"},"Full Name *",-1)),te(p("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>i.form.name=o),class:"input input-bordered w-full",required:"",pattern:"[A-Za-z .'-]+",title:"Name should only contain letters, spaces, and characters like ., ', -"},null,512),[[Oe,i.form.name]])]),p("div",LA,[t[7]||(t[7]=p("label",{class:"block text-lg font-medium mb-2"},"Phone Number *",-1)),te(p("input",{type:"tel","onUpdate:modelValue":t[1]||(t[1]=o=>i.form.phone=o),class:"input input-bordered w-full",required:"",pattern:"[0-9]{10,15}",title:"Phone number should be 10-15 digits"},null,512),[[Oe,i.form.phone]])]),p("div",$A,[t[8]||(t[8]=p("label",{class:"block text-lg font-medium mb-2"},"Select a Plan *",-1)),p("div",jA,[(D(!0),L(Ot,null,Gt(i.plans,(o,a)=>(D(),L("label",{key:a,class:rs(["card bg-base-100 border-2 cursor-pointer",{"border-primary":i.form.plan===o.name}])},[p("div",FA,[te(p("input",{type:"radio","onUpdate:modelValue":l=>i.form.plan=l,value:o.name,class:"radio radio-primary absolute top-4 right-4",required:""},null,8,NA),[[of,i.form.plan]]),p("h3",UA,K(o.name),1),p("p",BA,K(o.price),1),p("p",null,K(o.description),1)])],2))),128))])]),p("div",zA,[t[9]||(t[9]=p("label",{class:"block text-lg font-medium mb-2"},"Meal Types *",-1)),p("div",HA,[(D(!0),L(Ot,null,Gt(i.mealTypes,(o,a)=>(D(),L("label",{key:a,class:"flex items-center space-x-2 cursor-pointer"},[te(p("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>i.form.mealTypes=l),value:o.value,class:"checkbox checkbox-primary"},null,8,WA),[[Fc,i.form.mealTypes]]),p("span",null,K(o.label),1)]))),128))]),i.form.mealTypes.length===0&&i.formSubmitted?(D(),L("p",VA," Please select at least one meal type ")):jt("",!0)]),p("div",qA,[t[10]||(t[10]=p("label",{class:"block text-lg font-medium mb-2"},"Delivery Days *",-1)),p("div",KA,[(D(!0),L(Ot,null,Gt(i.days,(o,a)=>(D(),L("label",{key:a,class:"flex items-center space-x-2 cursor-pointer"},[te(p("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>i.form.days=l),value:o.value,class:"checkbox checkbox-primary"},null,8,GA),[[Fc,i.form.days]]),p("span",null,K(o.label),1)]))),128))]),i.form.days.length===0&&i.formSubmitted?(D(),L("p",YA," Please select at least one delivery day ")):jt("",!0)]),p("div",JA,[t[11]||(t[11]=p("label",{class:"block text-lg font-medium mb-2"},"Allergies / Dietary Restrictions",-1)),te(p("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.form.allergies=o),class:"textarea textarea-bordered w-full",placeholder:"List any allergies or dietary restrictions..."},null,512),[[Oe,i.form.allergies]])]),p("div",XA,[t[13]||(t[13]=p("h3",{class:"text-xl font-bold mb-4"},"Order Summary",-1)),p("div",ZA,[t[12]||(t[12]=p("span",null,"Total:",-1)),p("span",QA,K(r.formatPrice(r.calculatedPrice)),1)])]),i.errorMessage?(D(),L("div",tP,K(i.errorMessage),1)):jt("",!0),p("button",{type:"submit",class:"btn btn-primary btn-lg w-full",disabled:i.isSubmitting},[i.isSubmitting?(D(),L("span",sP)):jt("",!0),bt(" "+K(i.isSubmitting?"Processing...":"Subscribe Now"),1)],8,eP)],32)])}const iP=Ft(RA,[["render",nP]]),rP={name:"SubscriptionView",components:{AppHeader:As,AppFooter:Ps,SubscriptionForm:iP}},oP={class:"min-h-screen flex flex-col"},aP={class:"container mx-auto px-4 py-16"};function lP(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("SubscriptionForm"),l=ft("AppFooter");return D(),L("div",oP,[V(o),p("div",aP,[t[0]||(t[0]=p("h1",{class:"text-4xl font-bold text-center mb-12"},"Subscribe to Our Meal Plans",-1)),V(a)]),V(l)])}const cP=Ft(rP,[["render",lP]]),uP={},hP={class:"container mx-auto py-8"},dP={class:"mt-8 bg-base-100 p-6 rounded-lg shadow-md"},fP={class:"flex flex-wrap gap-4"};function pP(e,t){const s=ft("router-link");return D(),L("div",hP,[p("div",dP,[t[2]||(t[2]=p("h2",{class:"text-2xl font-bold mb-4"},"How's your experience?",-1)),t[3]||(t[3]=p("p",{class:"mb-4 text-gray-600"},"We'd love to hear your feedback about our service!",-1)),p("div",fP,[V(s,{to:"/testimonials",class:"btn btn-outline btn-primary"},{default:Vt(()=>t[0]||(t[0]=[bt("Give Feedback")])),_:1,__:[0]}),V(s,{to:"/contact",class:"btn btn-outline"},{default:Vt(()=>t[1]||(t[1]=[bt("Contact Support")])),_:1,__:[1]})])])])}const gP=Ft(uP,[["render",pP]]),mP={name:"ContactView",components:{AppHeader:As,AppFooter:Ps,ContactSection:Vp,FeedbackCard:gP}},_P={class:"min-h-screen flex flex-col"};function bP(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("ContactSection"),l=ft("FeedbackCard"),c=ft("AppFooter");return D(),L("div",_P,[V(o),V(a),V(l),V(c)])}const yP=Ft(mP,[["render",bP]]),vP={name:"TestimonialsView",components:{AppHeader:As,AppFooter:Ps,TestimonialForm:Wp},data(){return{testimonials:[],loading:!0,error:null}},async created(){try{this.loading=!0,this.testimonials=await _o.getAllTestimonials(),this.loading=!1}catch(e){this.error="Failed to load testimonials: "+e.message,this.loading=!1}},methods:{safeHtml(e){return rr.sanitize(e)},formatDate(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},async addTestimonial(e){try{const t=await _o.addTestimonial(e);this.testimonials.unshift(t)}catch(t){this.error="Failed to add testimonial: "+t.message}}}},wP={class:"min-h-screen flex flex-col"},xP={class:"container mx-auto px-4 py-16"},SP={key:0,class:"flex justify-center items-center py-12"},kP={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},TP={key:2},EP={class:"mb-16"},AP={key:0,class:"text-center py-8"},PP={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},OP={class:"card-body"},CP={class:"rating mb-4"},RP=["name","checked"],MP={class:"text-gray-600 italic mb-6"},IP={class:"flex items-center mt-auto"},DP={class:"avatar"},LP={class:"w-12 rounded-full bg-gray-200 flex items-center justify-center"},$P={class:"text-gray-700 font-bold"},jP={class:"ml-4"},FP={class:"font-bold text-lg"},NP={class:"text-sm text-gray-500"};function UP(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("TestimonialForm"),l=ft("AppFooter");return D(),L("div",wP,[V(o),p("div",xP,[t[4]||(t[4]=p("h1",{class:"text-4xl font-bold text-center mb-2"},"Customer Testimonials",-1)),t[5]||(t[5]=p("p",{class:"text-center text-gray-600 mb-12 max-w-2xl mx-auto"}," See what our customers have to say about our meal plans and service. ",-1)),i.loading?(D(),L("div",SP,t[0]||(t[0]=[p("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),p("span",{class:"ml-4 text-lg"},"Loading testimonials...",-1)]))):i.error?(D(),L("div",kP,[p("div",null,[t[1]||(t[1]=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p("span",null,K(i.error),1)])])):(D(),L("div",TP,[p("div",EP,[V(a,{onSubmitTestimonial:r.addTestimonial},null,8,["onSubmitTestimonial"])]),p("div",null,[t[3]||(t[3]=p("h2",{class:"text-2xl font-bold mb-6 text-center"},"What Our Customers Say",-1)),i.testimonials.length===0?(D(),L("div",AP,t[2]||(t[2]=[p("p",{class:"text-lg text-gray-600"}," No testimonials yet. Be the first to share your experience! ",-1)]))):(D(),L("div",PP,[(D(!0),L(Ot,null,Gt(i.testimonials,c=>(D(),L("div",{key:c.id,class:"card bg-base-100 shadow-xl"},[p("div",OP,[p("div",CP,[(D(),L(Ot,null,Gt(5,u=>p("input",{key:u,type:"radio",name:`rating-${c.id}`,class:"mask mask-star-2 bg-orange-400",checked:u<=c.rating,disabled:""},null,8,RP)),64))]),p("p",MP,'"'+K(r.safeHtml(c.review))+'"',1),p("div",IP,[p("div",DP,[p("div",LP,[p("span",$P,K(c.name.charAt(0)),1)])]),p("div",jP,[p("h4",FP,K(c.name),1),p("p",NP,K(r.formatDate(c.created_at)),1)])])])]))),128))]))])]))]),V(l)])}const BP=Ft(vP,[["render",UP],["__scopeId","data-v-01edc2fb"]]),zP={name:"SchemaCheckerView",components:{AppHeader:As,AppFooter:Ps},data(){return{loading:!1,error:null,results:[]}},methods:{async checkSchema(){this.loading=!0,this.error=null,this.results=[];try{const{data:{user:e}}=await X.auth.getUser();if(!e){this.error="You must be logged in to check the schema",this.loading=!1;return}const{data:t,error:s}=await X.from("subscriptions").select("*").limit(1);if(s)this.results.push({title:"Error Fetching Subscriptions",data:s});else if(t&&t.length>0)this.results.push({title:"Subscription Table Columns",data:Object.keys(t[0])});else{this.results.push({title:"No Subscription Records Found",data:"Creating a new record to check the schema..."});const n={name:"Test User",phone:"1234567890",plan:"Diet Plan",meal_types:["breakfast"],days:["monday"],allergies:"None",total_price:100,created_at:new Date().toISOString()},i=["user_id","created_by","userId","user","customer_id"];for(const r of i){const o={...n};o[r]=e.id;try{const{error:a}=await X.from("subscriptions").insert([o]);if(a)this.results.push({title:`Error with column: ${r}`,data:a});else{this.results.push({title:"Success With Column",data:r});break}}catch(a){console.error(`Error testing column ${r}:`,a)}}}this.results.push({title:"Current User",data:{id:e.id,email:e.email,metadata:e.user_metadata}})}catch(e){this.error=e.message||"An error occurred while checking the schema",console.error("Schema check error:",e)}finally{this.loading=!1}}}},HP={class:"min-h-screen flex flex-col"},WP={class:"container mx-auto px-4 py-8"},VP={class:"card bg-base-100 shadow-xl mb-8"},qP={class:"card-body"},KP={class:"card-actions justify-end mt-4"},GP={key:0,class:"flex justify-center my-8"},YP={key:1,class:"alert alert-error mb-6"},JP={key:2,class:"space-y-6"},XP={class:"card-body"},ZP={class:"card-title"},QP={class:"bg-base-300 p-4 rounded overflow-x-auto"};function tO(e,t,s,n,i,r){const o=ft("AppHeader"),a=ft("AppFooter");return D(),L("div",HP,[V(o),p("div",WP,[t[4]||(t[4]=p("h1",{class:"text-3xl font-bold mb-8"},"Database Schema Checker",-1)),p("div",VP,[p("div",qP,[t[1]||(t[1]=p("h2",{class:"card-title"},"Check Supabase Schema",-1)),t[2]||(t[2]=p("p",null,"Use this utility to identify issues with your database schema.",-1)),p("div",KP,[p("button",{onClick:t[0]||(t[0]=(...l)=>r.checkSchema&&r.checkSchema(...l)),class:"btn btn-primary"},"Check Schema")])])]),i.loading?(D(),L("div",GP,t[3]||(t[3]=[p("span",{class:"loading loading-spinner loading-lg"},null,-1)]))):jt("",!0),i.error?(D(),L("div",YP,[p("span",null,K(i.error),1)])):jt("",!0),i.results.length>0?(D(),L("div",JP,[(D(!0),L(Ot,null,Gt(i.results,(l,c)=>(D(),L("div",{key:c,class:"card bg-base-100 shadow-xl"},[p("div",XP,[p("h3",ZP,K(l.title),1),p("pre",QP,K(JSON.stringify(l.data,null,2)),1)])]))),128))])):jt("",!0),t[5]||(t[5]=p("div",{class:"card bg-base-100 shadow-xl mt-8"},[p("div",{class:"card-body"},[p("h2",{class:"card-title"},"Create/Update Schema"),p("p",null," If you're missing the user_id column in the subscriptions table, run this SQL in Supabase SQL Editor: "),p("pre",{class:"bg-base-300 p-4 rounded overflow-x-auto"},`-- Add user_id column if it doesn't exist
ALTER TABLE IF EXISTS "public"."subscriptions"
ADD COLUMN IF NOT EXISTS "user_id" UUID REFERENCES auth.users(id);

-- If you already have a different column for user ID, you can rename it:
-- ALTER TABLE IF EXISTS "public"."subscriptions"
-- RENAME COLUMN "your_existing_column" TO "user_id";
          `)])],-1))]),V(a)])}const eO=Ft(zP,[["render",tO]]),sO=[{path:"/",name:"Home",component:ZE},{path:"/menu",name:"Menu",component:OA},{path:"/contact",name:"Contact",component:yP},{path:"/testimonials",name:"Testimonials",component:BP},{path:"/subscription",name:"Subscription",component:cP,meta:{requiresAuth:!0}},{path:"/admin",name:"AdminDashboard",component:Uk,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/schema-checker",name:"SchemaChecker",component:eO,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/login",name:"Login",component:sT},{path:"/register",name:"Register",component:vT},{path:"/profile",name:"Profile",component:()=>dn(()=>import("./ProfileView-BPEt4h3M.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/dashboard",name:"UserDashboard",component:()=>dn(()=>import("./UserDashboardView-DfQqg3W0.js"),[]),meta:{requiresAuth:!0}}],qp=Gb({history:Sb("/"),routes:sO});qp.beforeEach(nv);const Kp=k_();Kp.use(U_);const Jl=w_(W_);Jl.use(Kp);Jl.use(qp);Jl.mount("#app");export{As as A,Ot as F,CA as S,Ft as _,p as a,V as b,L as c,bt as d,Ee as e,jt as f,ur as g,Ps as h,Ol as i,Gt as j,te as k,Ve as l,Po as m,rs as n,D as o,ft as r,X as s,K as t,Yf as u,Oe as v,Vt as w};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProfileView-C61zXqj4.js","assets/ProfileView-DBuqfqkD.css"])))=>i.map(i=>d[i]);
var rg=Object.defineProperty;var og=(e,t,s)=>t in e?rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ut=(e,t,s)=>og(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ul(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Mt={},Nn=[],rs=()=>{},ag=()=>!1,xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dl=e=>e.startsWith("onUpdate:"),ge=Object.assign,hl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},lg=Object.prototype.hasOwnProperty,At=(e,t)=>lg.call(e,t),nt=Array.isArray,Un=e=>ar(e)==="[object Map]",So=e=>ar(e)==="[object Set]",fc=e=>ar(e)==="[object Date]",ot=e=>typeof e=="function",Gt=e=>typeof e=="string",as=e=>typeof e=="symbol",Ft=e=>e!==null&&typeof e=="object",oh=e=>(Ft(e)||ot(e))&&ot(e.then)&&ot(e.catch),ah=Object.prototype.toString,ar=e=>ah.call(e),cg=e=>ar(e).slice(8,-1),lh=e=>ar(e)==="[object Object]",fl=e=>Gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ei=ul(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ko=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ug=/-(\w)/g,Ne=ko(e=>e.replace(ug,(t,s)=>s?s.toUpperCase():"")),dg=/\B([A-Z])/g,mn=ko(e=>e.replace(dg,"-$1").toLowerCase()),To=ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ko=ko(e=>e?`on${To(e)}`:""),Bs=(e,t)=>!Object.is(e,t),Vr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ea=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Aa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let pc;const Eo=()=>pc||(pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pl(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Gt(n)?gg(n):pl(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(Gt(e)||Ft(e))return e}const hg=/;(?![^(]*\))/g,fg=/:([^]+)/,pg=/\/\*[^]*?\*\//g;function gg(e){const t={};return e.replace(pg,"").split(hg).forEach(s=>{if(s){const n=s.split(fg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function we(e){let t="";if(Gt(e))t=e;else if(nt(e))for(let s=0;s<e.length;s++){const n=we(e[s]);n&&(t+=n+" ")}else if(Ft(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const mg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bg=ul(mg);function ch(e){return!!e||e===""}function _g(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Vn(e[n],t[n]);return s}function Vn(e,t){if(e===t)return!0;let s=fc(e),n=fc(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=as(e),n=as(t),s||n)return e===t;if(s=nt(e),n=nt(t),s||n)return s&&n?_g(e,t):!1;if(s=Ft(e),n=Ft(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Vn(e[o],t[o]))return!1}}return String(e)===String(t)}function uh(e,t){return e.findIndex(s=>Vn(s,t))}const dh=e=>!!(e&&e.__v_isRef===!0),q=e=>Gt(e)?e:e==null?"":nt(e)||Ft(e)&&(e.toString===ah||!ot(e.toString))?dh(e)?q(e.value):JSON.stringify(e,hh,2):String(e),hh=(e,t)=>dh(t)?hh(e,t.value):Un(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],r)=>(s[Go(n,r)+" =>"]=i,s),{})}:So(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Go(s))}:as(t)?Go(t):Ft(t)&&!nt(t)&&!lh(t)?String(t):t,Go=(e,t="")=>{var s;return as(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let he;class fh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=he,!t&&he&&(this.index=(he.scopes||(he.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=he;try{return he=this,t()}finally{he=s}}}on(){++this._on===1&&(this.prevScope=he,he=this)}off(){this._on>0&&--this._on===0&&(he=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ph(e){return new fh(e)}function gh(){return he}function yg(e,t=!1){he&&he.cleanups.push(e)}let Lt;const Yo=new WeakSet;class mh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,he&&he.active&&he.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yo.has(this)&&(Yo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_h(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gc(this),yh(this);const t=Lt,s=Ge;Lt=this,Ge=!0;try{return this.fn()}finally{vh(this),Lt=t,Ge=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)bl(t);this.deps=this.depsTail=void 0,gc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pa(this)&&this.run()}get dirty(){return Pa(this)}}let bh=0,Ai,Pi;function _h(e,t=!1){if(e.flags|=8,t){e.next=Pi,Pi=e;return}e.next=Ai,Ai=e}function gl(){bh++}function ml(){if(--bh>0)return;if(Pi){let t=Pi;for(Pi=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ai;){let t=Ai;for(Ai=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function yh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vh(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),bl(n),vg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Pa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vi)||(e.globalVersion=Vi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Pa(e))))return;e.flags|=2;const t=e.dep,s=Lt,n=Ge;Lt=e,Ge=!0;try{yh(e);const i=e.fn(e._value);(t.version===0||Bs(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Lt=s,Ge=n,vh(e),e.flags&=-3}}function bl(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)bl(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function vg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ge=!0;const xh=[];function ks(){xh.push(Ge),Ge=!1}function Ts(){const e=xh.pop();Ge=e===void 0?!0:e}function gc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Lt;Lt=void 0;try{t()}finally{Lt=s}}}let Vi=0;class wg{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _l{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Lt||!Ge||Lt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Lt)s=this.activeLink=new wg(Lt,this),Lt.deps?(s.prevDep=Lt.depsTail,Lt.depsTail.nextDep=s,Lt.depsTail=s):Lt.deps=Lt.depsTail=s,Sh(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Lt.depsTail,s.nextDep=void 0,Lt.depsTail.nextDep=s,Lt.depsTail=s,Lt.deps===s&&(Lt.deps=n)}return s}trigger(t){this.version++,Vi++,this.notify(t)}notify(t){gl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ml()}}}function Sh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Sh(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const eo=new WeakMap,un=Symbol(""),Ca=Symbol(""),qi=Symbol("");function fe(e,t,s){if(Ge&&Lt){let n=eo.get(e);n||eo.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new _l),i.map=n,i.key=s),i.track()}}function ws(e,t,s,n,i,r){const o=eo.get(e);if(!o){Vi++;return}const a=l=>{l&&l.trigger()};if(gl(),t==="clear")o.forEach(a);else{const l=nt(e),c=l&&fl(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,h)=>{(h==="length"||h===qi||!as(h)&&h>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(qi)),t){case"add":l?c&&a(o.get("length")):(a(o.get(un)),Un(e)&&a(o.get(Ca)));break;case"delete":l||(a(o.get(un)),Un(e)&&a(o.get(Ca)));break;case"set":Un(e)&&a(o.get(un));break}}ml()}function xg(e,t){const s=eo.get(e);return s&&s.get(t)}function Sn(e){const t=gt(e);return t===e?t:(fe(t,"iterate",qi),Fe(e)?t:t.map(oe))}function Ao(e){return fe(e=gt(e),"iterate",qi),e}const Sg={__proto__:null,[Symbol.iterator](){return Xo(this,Symbol.iterator,oe)},concat(...e){return Sn(this).concat(...e.map(t=>nt(t)?Sn(t):t))},entries(){return Xo(this,"entries",e=>(e[1]=oe(e[1]),e))},every(e,t){return ds(this,"every",e,t,void 0,arguments)},filter(e,t){return ds(this,"filter",e,t,s=>s.map(oe),arguments)},find(e,t){return ds(this,"find",e,t,oe,arguments)},findIndex(e,t){return ds(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ds(this,"findLast",e,t,oe,arguments)},findLastIndex(e,t){return ds(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ds(this,"forEach",e,t,void 0,arguments)},includes(...e){return Jo(this,"includes",e)},indexOf(...e){return Jo(this,"indexOf",e)},join(e){return Sn(this).join(e)},lastIndexOf(...e){return Jo(this,"lastIndexOf",e)},map(e,t){return ds(this,"map",e,t,void 0,arguments)},pop(){return ii(this,"pop")},push(...e){return ii(this,"push",e)},reduce(e,...t){return mc(this,"reduce",e,t)},reduceRight(e,...t){return mc(this,"reduceRight",e,t)},shift(){return ii(this,"shift")},some(e,t){return ds(this,"some",e,t,void 0,arguments)},splice(...e){return ii(this,"splice",e)},toReversed(){return Sn(this).toReversed()},toSorted(e){return Sn(this).toSorted(e)},toSpliced(...e){return Sn(this).toSpliced(...e)},unshift(...e){return ii(this,"unshift",e)},values(){return Xo(this,"values",oe)}};function Xo(e,t,s){const n=Ao(e),i=n[t]();return n!==e&&!Fe(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const kg=Array.prototype;function ds(e,t,s,n,i,r){const o=Ao(e),a=o!==e&&!Fe(e),l=o[t];if(l!==kg[t]){const d=l.apply(e,r);return a?oe(d):d}let c=s;o!==e&&(a?c=function(d,h){return s.call(this,oe(d),h,e)}:s.length>2&&(c=function(d,h){return s.call(this,d,h,e)}));const u=l.call(o,c,n);return a&&i?i(u):u}function mc(e,t,s,n){const i=Ao(e);let r=s;return i!==e&&(Fe(e)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,e)}):r=function(o,a,l){return s.call(this,o,oe(a),l,e)}),i[t](r,...n)}function Jo(e,t,s){const n=gt(e);fe(n,"iterate",qi);const i=n[t](...s);return(i===-1||i===!1)&&cr(s[0])?(s[0]=gt(s[0]),n[t](...s)):i}function ii(e,t,s=[]){ks(),gl();const n=gt(e)[t].apply(e,s);return ml(),Ts(),n}const Tg=ul("__proto__,__v_isRef,__isVue"),kh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(as));function Eg(e){as(e)||(e=String(e));const t=gt(this);return fe(t,"has",e),t.hasOwnProperty(e)}class Th{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?$g:Ch:r?Ph:Ah).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=nt(t);if(!i){let l;if(o&&(l=Sg[s]))return l;if(s==="hasOwnProperty")return Eg}const a=Reflect.get(t,s,qt(t)?t:n);return(as(s)?kh.has(s):Tg(s))||(i||fe(t,"get",s),r)?a:qt(a)?o&&fl(s)?a:a.value:Ft(a)?i?Rh(a):lr(a):a}}class Eh extends Th{constructor(t=!1){super(!1,t)}set(t,s,n,i){let r=t[s];if(!this._isShallow){const l=Vs(r);if(!Fe(n)&&!Vs(n)&&(r=gt(r),n=gt(n)),!nt(t)&&qt(r)&&!qt(n))return l?!1:(r.value=n,!0)}const o=nt(t)&&fl(s)?Number(s)<t.length:At(t,s),a=Reflect.set(t,s,n,qt(t)?t:i);return t===gt(i)&&(o?Bs(n,r)&&ws(t,"set",s,n):ws(t,"add",s,n)),a}deleteProperty(t,s){const n=At(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&ws(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!as(s)||!kh.has(s))&&fe(t,"has",s),n}ownKeys(t){return fe(t,"iterate",nt(t)?"length":un),Reflect.ownKeys(t)}}class Ag extends Th{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Pg=new Eh,Cg=new Ag,Og=new Eh(!0);const Oa=e=>e,_r=e=>Reflect.getPrototypeOf(e);function Rg(e,t,s){return function(...n){const i=this.__v_raw,r=gt(i),o=Un(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...n),u=s?Oa:t?so:oe;return!t&&fe(r,"iterate",l?Ca:un),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function yr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mg(e,t){const s={get(i){const r=this.__v_raw,o=gt(r),a=gt(i);e||(Bs(i,a)&&fe(o,"get",i),fe(o,"get",a));const{has:l}=_r(o),c=t?Oa:e?so:oe;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&fe(gt(i),"iterate",un),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=gt(r),a=gt(i);return e||(Bs(i,a)&&fe(o,"has",i),fe(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=gt(a),c=t?Oa:e?so:oe;return!e&&fe(l,"iterate",un),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return ge(s,e?{add:yr("add"),set:yr("set"),delete:yr("delete"),clear:yr("clear")}:{add(i){!t&&!Fe(i)&&!Vs(i)&&(i=gt(i));const r=gt(this);return _r(r).has.call(r,i)||(r.add(i),ws(r,"add",i,i)),this},set(i,r){!t&&!Fe(r)&&!Vs(r)&&(r=gt(r));const o=gt(this),{has:a,get:l}=_r(o);let c=a.call(o,i);c||(i=gt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Bs(r,u)&&ws(o,"set",i,r):ws(o,"add",i,r),this},delete(i){const r=gt(this),{has:o,get:a}=_r(r);let l=o.call(r,i);l||(i=gt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&ws(r,"delete",i,void 0),c},clear(){const i=gt(this),r=i.size!==0,o=i.clear();return r&&ws(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Rg(i,e,t)}),s}function yl(e,t){const s=Mg(e,t);return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(At(s,i)&&i in n?s:n,i,r)}const Ig={get:yl(!1,!1)},Dg={get:yl(!1,!0)},Lg={get:yl(!0,!1)};const Ah=new WeakMap,Ph=new WeakMap,Ch=new WeakMap,$g=new WeakMap;function jg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fg(e){return e.__v_skip||!Object.isExtensible(e)?0:jg(cg(e))}function lr(e){return Vs(e)?e:vl(e,!1,Pg,Ig,Ah)}function Oh(e){return vl(e,!1,Og,Dg,Ph)}function Rh(e){return vl(e,!0,Cg,Lg,Ch)}function vl(e,t,s,n,i){if(!Ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Fg(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?n:s);return i.set(e,a),a}function Hs(e){return Vs(e)?Hs(e.__v_raw):!!(e&&e.__v_isReactive)}function Vs(e){return!!(e&&e.__v_isReadonly)}function Fe(e){return!!(e&&e.__v_isShallow)}function cr(e){return e?!!e.__v_raw:!1}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}function wl(e){return!At(e,"__v_skip")&&Object.isExtensible(e)&&Ea(e,"__v_skip",!0),e}const oe=e=>Ft(e)?lr(e):e,so=e=>Ft(e)?Rh(e):e;function qt(e){return e?e.__v_isRef===!0:!1}function qe(e){return Mh(e,!1)}function xl(e){return Mh(e,!0)}function Mh(e,t){return qt(e)?e:new Ng(e,t)}class Ng{constructor(t,s){this.dep=new _l,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:gt(t),this._value=s?t:oe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Fe(t)||Vs(t);t=n?t:gt(t),Bs(t,s)&&(this._rawValue=t,this._value=n?t:oe(t),this.dep.trigger())}}function dn(e){return qt(e)?e.value:e}const Ug={get:(e,t,s)=>t==="__v_raw"?e:dn(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return qt(i)&&!qt(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Ih(e){return Hs(e)?e:new Proxy(e,Ug)}function zg(e){const t=nt(e)?new Array(e.length):{};for(const s in e)t[s]=Hg(e,s);return t}class Bg{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xg(gt(this._object),this._key)}}function Hg(e,t,s){const n=e[t];return qt(n)?n:new Bg(e,t,s)}class Wg{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new _l(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return _h(this,!0),!0}get value(){const t=this.dep.track();return wh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Vg(e,t,s=!1){let n,i;return ot(e)?n=e:(n=e.get,i=e.set),new Wg(n,i,s)}const vr={},no=new WeakMap;let sn;function qg(e,t=!1,s=sn){if(s){let n=no.get(s);n||no.set(s,n=[]),n.push(e)}}function Kg(e,t,s=Mt){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=s,c=S=>i?S:Fe(S)||i===!1||i===0?xs(S,1):xs(S);let u,d,h,p,g=!1,m=!1;if(qt(e)?(d=()=>e.value,g=Fe(e)):Hs(e)?(d=()=>c(e),g=!0):nt(e)?(m=!0,g=e.some(S=>Hs(S)||Fe(S)),d=()=>e.map(S=>{if(qt(S))return S.value;if(Hs(S))return c(S);if(ot(S))return l?l(S,2):S()})):ot(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){ks();try{h()}finally{Ts()}}const S=sn;sn=u;try{return l?l(e,3,[p]):e(p)}finally{sn=S}}:d=rs,t&&i){const S=d,E=i===!0?1/0:i;d=()=>xs(S(),E)}const b=gh(),v=()=>{u.stop(),b&&b.active&&hl(b.effects,u)};if(r&&t){const S=t;t=(...E)=>{S(...E),v()}}let T=m?new Array(e.length).fill(vr):vr;const x=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const E=u.run();if(i||g||(m?E.some((L,C)=>Bs(L,T[C])):Bs(E,T))){h&&h();const L=sn;sn=u;try{const C=[E,T===vr?void 0:m&&T[0]===vr?[]:T,p];T=E,l?l(t,3,C):t(...C)}finally{sn=L}}}else u.run()};return a&&a(x),u=new mh(d),u.scheduler=o?()=>o(x,!1):x,p=S=>qg(S,!1,u),h=u.onStop=()=>{const S=no.get(u);if(S){if(l)l(S,4);else for(const E of S)E();no.delete(u)}},t?n?x(!0):T=u.run():o?o(x.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function xs(e,t=1/0,s){if(t<=0||!Ft(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,qt(e))xs(e.value,t,s);else if(nt(e))for(let n=0;n<e.length;n++)xs(e[n],t,s);else if(So(e)||Un(e))e.forEach(n=>{xs(n,t,s)});else if(lh(e)){for(const n in e)xs(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&xs(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ur(e,t,s,n){try{return n?e(...n):e()}catch(i){Po(i,t,s)}}function ls(e,t,s,n){if(ot(e)){const i=ur(e,t,s,n);return i&&oh(i)&&i.catch(r=>{Po(r,t,s)}),i}if(nt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(ls(e[r],t,s,n));return i}}function Po(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Mt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(r){ks(),ur(r,null,10,[e,l,c]),Ts();return}}Gg(e,s,i,n,o)}function Gg(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const ve=[];let ss=-1;const zn=[];let Ls=null,$n=0;const Dh=Promise.resolve();let io=null;function Co(e){const t=io||Dh;return e?t.then(this?e.bind(this):e):t}function Yg(e){let t=ss+1,s=ve.length;for(;t<s;){const n=t+s>>>1,i=ve[n],r=Ki(i);r<e||r===e&&i.flags&2?t=n+1:s=n}return t}function Sl(e){if(!(e.flags&1)){const t=Ki(e),s=ve[ve.length-1];!s||!(e.flags&2)&&t>=Ki(s)?ve.push(e):ve.splice(Yg(t),0,e),e.flags|=1,Lh()}}function Lh(){io||(io=Dh.then(jh))}function Xg(e){nt(e)?zn.push(...e):Ls&&e.id===-1?Ls.splice($n+1,0,e):e.flags&1||(zn.push(e),e.flags|=1),Lh()}function bc(e,t,s=ss+1){for(;s<ve.length;s++){const n=ve[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ve.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $h(e){if(zn.length){const t=[...new Set(zn)].sort((s,n)=>Ki(s)-Ki(n));if(zn.length=0,Ls){Ls.push(...t);return}for(Ls=t,$n=0;$n<Ls.length;$n++){const s=Ls[$n];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ls=null,$n=0}}const Ki=e=>e.id==null?e.flags&2?-1:1/0:e.id;function jh(e){try{for(ss=0;ss<ve.length;ss++){const t=ve[ss];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ur(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ss<ve.length;ss++){const t=ve[ss];t&&(t.flags&=-2)}ss=-1,ve.length=0,$h(),io=null,(ve.length||zn.length)&&jh()}}let Oe=null,Fh=null;function ro(e){const t=Oe;return Oe=e,Fh=e&&e.type.__scopeId||null,t}function Bt(e,t=Oe,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Ac(-1);const r=ro(t);let o;try{o=e(...i)}finally{ro(r),n._d&&Ac(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function $t(e,t){if(Oe===null)return e;const s=Lo(Oe),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=Mt]=t[i];r&&(ot(r)&&(r={mounted:r,updated:r}),r.deep&&xs(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Xs(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(ks(),ls(l,s,8,[e.el,a,e,t]),Ts())}}const Jg=Symbol("_vte"),Qg=e=>e.__isTeleport;function kl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,kl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Oo(e,t){return ot(e)?ge({name:e.name},t,{setup:e}):e}function Nh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ci(e,t,s,n,i=!1){if(nt(e)){e.forEach((g,m)=>Ci(g,t&&(nt(t)?t[m]:t),s,n,i));return}if(Oi(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ci(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Lo(n.component):n.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Mt?a.refs={}:a.refs,d=a.setupState,h=gt(d),p=d===Mt?()=>!1:g=>At(h,g);if(c!=null&&c!==l&&(Gt(c)?(u[c]=null,p(c)&&(d[c]=null)):qt(c)&&(c.value=null)),ot(l))ur(l,a,12,[o,u]);else{const g=Gt(l),m=qt(l);if(g||m){const b=()=>{if(e.f){const v=g?p(l)?d[l]:u[l]:l.value;i?nt(v)&&hl(v,r):nt(v)?v.includes(r)||v.push(r):g?(u[l]=[r],p(l)&&(d[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else g?(u[l]=o,p(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(b.id=-1,Me(b,s)):b()}}}Eo().requestIdleCallback;Eo().cancelIdleCallback;const Oi=e=>!!e.type.__asyncLoader,Uh=e=>e.type.__isKeepAlive;function Zg(e,t){zh(e,"a",t)}function tm(e,t){zh(e,"da",t)}function zh(e,t,s=ae){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ro(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Uh(i.parent.vnode)&&em(n,t,s,i),i=i.parent}}function em(e,t,s,n){const i=Ro(t,e,n,!0);Tl(()=>{hl(n[t],i)},s)}function Ro(e,t,s=ae,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{ks();const a=hr(s),l=ls(t,s,e,o);return a(),Ts(),l});return n?i.unshift(r):i.push(r),r}}const As=e=>(t,s=ae)=>{(!Yi||e==="sp")&&Ro(e,(...n)=>t(...n),s)},sm=As("bm"),Mo=As("m"),nm=As("bu"),im=As("u"),rm=As("bum"),Tl=As("um"),om=As("sp"),am=As("rtg"),lm=As("rtc");function cm(e,t=ae){Ro("ec",e,t)}const um="components";function dt(e,t){return hm(um,e,!0,t)||e}const dm=Symbol.for("v-ndc");function hm(e,t,s=!0,n=!1){const i=Oe||ae;if(i){const r=i.type;{const a=Zm(r,!1);if(a&&(a===t||a===Ne(t)||a===To(Ne(t))))return r}const o=_c(i[e]||r[e],t)||_c(i.appContext[e],t);return!o&&n?r:o}}function _c(e,t){return e&&(e[t]||e[Ne(t)]||e[To(Ne(t))])}function ee(e,t,s,n){let i;const r=s,o=nt(e);if(o||Gt(e)){const a=o&&Hs(e);let l=!1,c=!1;a&&(l=!Fe(e),c=Vs(e),e=Ao(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?so(oe(e[u])):oe(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(Ft(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}const Ra=e=>e?lf(e)?Lo(e):Ra(e.parent):null,Ri=ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ra(e.parent),$root:e=>Ra(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Hh(e),$forceUpdate:e=>e.f||(e.f=()=>{Sl(e.update)}),$nextTick:e=>e.n||(e.n=Co.bind(e.proxy)),$watch:e=>Dm.bind(e)}),Qo=(e,t)=>e!==Mt&&!e.__isScriptSetup&&At(e,t),fm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if(Qo(n,t))return o[t]=1,n[t];if(i!==Mt&&At(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&At(c,t))return o[t]=3,r[t];if(s!==Mt&&At(s,t))return o[t]=4,s[t];Ma&&(o[t]=0)}}const u=Ri[t];let d,h;if(u)return t==="$attrs"&&fe(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==Mt&&At(s,t))return o[t]=4,s[t];if(h=l.config.globalProperties,At(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return Qo(i,t)?(i[t]=s,!0):n!==Mt&&At(n,t)?(n[t]=s,!0):At(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!s[o]||e!==Mt&&At(e,o)||Qo(t,o)||(a=r[0])&&At(a,o)||At(n,o)||At(Ri,o)||At(i.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:At(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function yc(e){return nt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ma=!0;function pm(e){const t=Hh(e),s=e.proxy,n=e.ctx;Ma=!1,t.beforeCreate&&vc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:g,activated:m,deactivated:b,beforeDestroy:v,beforeUnmount:T,destroyed:x,unmounted:S,render:E,renderTracked:L,renderTriggered:C,errorCaptured:D,serverPrefetch:U,expose:Q,inheritAttrs:K,components:it,directives:_t,filters:Ht}=t;if(c&&gm(c,n,null),o)for(const Z in o){const ht=o[Z];ot(ht)&&(n[Z]=ht.bind(s))}if(i){const Z=i.call(s,s);Ft(Z)&&(e.data=lr(Z))}if(Ma=!0,r)for(const Z in r){const ht=r[Z],le=ot(ht)?ht.bind(s,s):ot(ht.get)?ht.get.bind(s,s):rs,Xt=!ot(ht)&&ot(ht.set)?ht.set.bind(s):rs,mt=Pe({get:le,set:Xt});Object.defineProperty(n,Z,{enumerable:!0,configurable:!0,get:()=>mt.value,set:Ut=>mt.value=Ut})}if(a)for(const Z in a)Bh(a[Z],n,s,Z);if(l){const Z=ot(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(ht=>{qr(ht,Z[ht])})}u&&vc(u,e,"c");function rt(Z,ht){nt(ht)?ht.forEach(le=>Z(le.bind(s))):ht&&Z(ht.bind(s))}if(rt(sm,d),rt(Mo,h),rt(nm,p),rt(im,g),rt(Zg,m),rt(tm,b),rt(cm,D),rt(lm,L),rt(am,C),rt(rm,T),rt(Tl,S),rt(om,U),nt(Q))if(Q.length){const Z=e.exposed||(e.exposed={});Q.forEach(ht=>{Object.defineProperty(Z,ht,{get:()=>s[ht],set:le=>s[ht]=le})})}else e.exposed||(e.exposed={});E&&e.render===rs&&(e.render=E),K!=null&&(e.inheritAttrs=K),it&&(e.components=it),_t&&(e.directives=_t),U&&Nh(e)}function gm(e,t,s=rs){nt(e)&&(e=Ia(e));for(const n in e){const i=e[n];let r;Ft(i)?"default"in i?r=Ye(i.from||n,i.default,!0):r=Ye(i.from||n):r=Ye(i),qt(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function vc(e,t,s){ls(nt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Bh(e,t,s,n){let i=n.includes(".")?sf(s,n):()=>s[n];if(Gt(e)){const r=t[e];ot(r)&&Bn(i,r)}else if(ot(e))Bn(i,e.bind(s));else if(Ft(e))if(nt(e))e.forEach(r=>Bh(r,t,s,n));else{const r=ot(e.handler)?e.handler.bind(s):t[e.handler];ot(r)&&Bn(i,r,e)}}function Hh(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>oo(l,c,o,!0)),oo(l,t,o)),Ft(t)&&r.set(t,l),l}function oo(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&oo(e,r,s,!0),i&&i.forEach(o=>oo(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=mm[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const mm={data:wc,props:xc,emits:xc,methods:yi,computed:yi,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:yi,directives:yi,watch:_m,provide:wc,inject:bm};function wc(e,t){return t?e?function(){return ge(ot(e)?e.call(this,this):e,ot(t)?t.call(this,this):t)}:t:e}function bm(e,t){return yi(Ia(e),Ia(t))}function Ia(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function _e(e,t){return e?[...new Set([].concat(e,t))]:t}function yi(e,t){return e?ge(Object.create(null),e,t):t}function xc(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:ge(Object.create(null),yc(e),yc(t??{})):t}function _m(e,t){if(!e)return t;if(!t)return e;const s=ge(Object.create(null),e);for(const n in t)s[n]=_e(e[n],t[n]);return s}function Wh(){return{app:null,config:{isNativeTag:ag,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ym=0;function vm(e,t){return function(n,i=null){ot(n)||(n=ge({},n)),i!=null&&!Ft(i)&&(i=null);const r=Wh(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:ym++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:uf,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&ot(u.install)?(o.add(u),u.install(c,...d)):ot(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||W(n,i);return p.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(p,u,h),l=!0,c._container=u,u.__vue_app__=c,Lo(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ls(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=hn;hn=c;try{return u()}finally{hn=d}}};return c}}let hn=null;function qr(e,t){if(ae){let s=ae.provides;const n=ae.parent&&ae.parent.provides;n===s&&(s=ae.provides=Object.create(n)),s[e]=t}}function Ye(e,t,s=!1){const n=ae||Oe;if(n||hn){let i=hn?hn._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ot(t)?t.call(n&&n.proxy):t}}function wm(){return!!(ae||Oe||hn)}const Vh={},qh=()=>Object.create(Vh),Kh=e=>Object.getPrototypeOf(e)===Vh;function xm(e,t,s,n=!1){const i={},r=qh();e.propsDefaults=Object.create(null),Gh(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);s?e.props=n?i:Oh(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Sm(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=gt(i),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Io(e.emitsOptions,h))continue;const p=t[h];if(l)if(At(r,h))p!==r[h]&&(r[h]=p,c=!0);else{const g=Ne(h);i[g]=Da(l,a,g,p,e,!1)}else p!==r[h]&&(r[h]=p,c=!0)}}}else{Gh(e,t,i,r)&&(c=!0);let u;for(const d in a)(!t||!At(t,d)&&((u=mn(d))===d||!At(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=Da(l,a,d,void 0,e,!0)):delete i[d]);if(r!==a)for(const d in r)(!t||!At(t,d))&&(delete r[d],c=!0)}c&&ws(e.attrs,"set","")}function Gh(e,t,s,n){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ei(l))continue;const c=t[l];let u;i&&At(i,u=Ne(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:Io(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=gt(s),c=a||Mt;for(let u=0;u<r.length;u++){const d=r[u];s[d]=Da(i,l,d,c[d],e,!At(c,d))}}return o}function Da(e,t,s,n,i,r){const o=e[s];if(o!=null){const a=At(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ot(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=hr(i);n=c[s]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===mn(s))&&(n=!0))}return n}const km=new WeakMap;function Yh(e,t,s=!1){const n=s?km:t.propsCache,i=n.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!ot(e)){const u=d=>{l=!0;const[h,p]=Yh(d,t,!0);ge(o,h),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Ft(e)&&n.set(e,Nn),Nn;if(nt(r))for(let u=0;u<r.length;u++){const d=Ne(r[u]);Sc(d)&&(o[d]=Mt)}else if(r)for(const u in r){const d=Ne(u);if(Sc(d)){const h=r[u],p=o[d]=nt(h)||ot(h)?{type:h}:ge({},h),g=p.type;let m=!1,b=!0;if(nt(g))for(let v=0;v<g.length;++v){const T=g[v],x=ot(T)&&T.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(b=!1)}else m=ot(g)&&g.name==="Boolean";p[0]=m,p[1]=b,(m||At(p,"default"))&&a.push(d)}}const c=[o,a];return Ft(e)&&n.set(e,c),c}function Sc(e){return e[0]!=="$"&&!Ei(e)}const El=e=>e[0]==="_"||e==="$stable",Al=e=>nt(e)?e.map(is):[is(e)],Tm=(e,t,s)=>{if(t._n)return t;const n=Bt((...i)=>Al(t(...i)),s);return n._c=!1,n},Xh=(e,t,s)=>{const n=e._ctx;for(const i in e){if(El(i))continue;const r=e[i];if(ot(r))t[i]=Tm(i,r,n);else if(r!=null){const o=Al(r);t[i]=()=>o}}},Jh=(e,t)=>{const s=Al(t);e.slots.default=()=>s},Qh=(e,t,s)=>{for(const n in t)(s||!El(n))&&(e[n]=t[n])},Em=(e,t,s)=>{const n=e.slots=qh();if(e.vnode.shapeFlag&32){const i=t.__;i&&Ea(n,"__",i,!0);const r=t._;r?(Qh(n,t,s),s&&Ea(n,"_",r,!0)):Xh(t,n)}else t&&Jh(e,t)},Am=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,o=Mt;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:Qh(i,t,s):(r=!t.$stable,Xh(t,i)),o=t}else t&&(Jh(e,t),o={default:1});if(r)for(const a in i)!El(a)&&o[a]==null&&delete i[a]},Me=zm;function Pm(e){return Cm(e)}function Cm(e,t){const s=Eo();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=rs,insertStaticContent:g}=e,m=(_,y,k,P=null,M=null,A=null,z=void 0,F=null,N=!!y.dynamicChildren)=>{if(_===y)return;_&&!ri(_,y)&&(P=O(_),Ut(_,M,A,!0),_=null),y.patchFlag===-2&&(N=!1,y.dynamicChildren=null);const{type:$,ref:tt,shapeFlag:H}=y;switch($){case Do:b(_,y,k,P);break;case qs:v(_,y,k,P);break;case Kr:_==null&&T(y,k,P,z);break;case Ot:it(_,y,k,P,M,A,z,F,N);break;default:H&1?E(_,y,k,P,M,A,z,F,N):H&6?_t(_,y,k,P,M,A,z,F,N):(H&64||H&128)&&$.process(_,y,k,P,M,A,z,F,N,Y)}tt!=null&&M?Ci(tt,_&&_.ref,A,y||_,!y):tt==null&&_&&_.ref!=null&&Ci(_.ref,null,A,_,!0)},b=(_,y,k,P)=>{if(_==null)n(y.el=a(y.children),k,P);else{const M=y.el=_.el;y.children!==_.children&&c(M,y.children)}},v=(_,y,k,P)=>{_==null?n(y.el=l(y.children||""),k,P):y.el=_.el},T=(_,y,k,P)=>{[_.el,_.anchor]=g(_.children,y,k,P,_.el,_.anchor)},x=({el:_,anchor:y},k,P)=>{let M;for(;_&&_!==y;)M=h(_),n(_,k,P),_=M;n(y,k,P)},S=({el:_,anchor:y})=>{let k;for(;_&&_!==y;)k=h(_),i(_),_=k;i(y)},E=(_,y,k,P,M,A,z,F,N)=>{y.type==="svg"?z="svg":y.type==="math"&&(z="mathml"),_==null?L(y,k,P,M,A,z,F,N):U(_,y,M,A,z,F,N)},L=(_,y,k,P,M,A,z,F)=>{let N,$;const{props:tt,shapeFlag:H,transition:X,dirs:st}=_;if(N=_.el=o(_.type,A,tt&&tt.is,tt),H&8?u(N,_.children):H&16&&D(_.children,N,null,P,M,Zo(_,A),z,F),st&&Xs(_,null,P,"created"),C(N,_,_.scopeId,z,P),tt){for(const Pt in tt)Pt!=="value"&&!Ei(Pt)&&r(N,Pt,null,tt[Pt],A,P);"value"in tt&&r(N,"value",null,tt.value,A),($=tt.onVnodeBeforeMount)&&Ze($,P,_)}st&&Xs(_,null,P,"beforeMount");const lt=Om(M,X);lt&&X.beforeEnter(N),n(N,y,k),(($=tt&&tt.onVnodeMounted)||lt||st)&&Me(()=>{$&&Ze($,P,_),lt&&X.enter(N),st&&Xs(_,null,P,"mounted")},M)},C=(_,y,k,P,M)=>{if(k&&p(_,k),P)for(let A=0;A<P.length;A++)p(_,P[A]);if(M){let A=M.subTree;if(y===A||rf(A.type)&&(A.ssContent===y||A.ssFallback===y)){const z=M.vnode;C(_,z,z.scopeId,z.slotScopeIds,M.parent)}}},D=(_,y,k,P,M,A,z,F,N=0)=>{for(let $=N;$<_.length;$++){const tt=_[$]=F?$s(_[$]):is(_[$]);m(null,tt,y,k,P,M,A,z,F)}},U=(_,y,k,P,M,A,z)=>{const F=y.el=_.el;let{patchFlag:N,dynamicChildren:$,dirs:tt}=y;N|=_.patchFlag&16;const H=_.props||Mt,X=y.props||Mt;let st;if(k&&Js(k,!1),(st=X.onVnodeBeforeUpdate)&&Ze(st,k,y,_),tt&&Xs(y,_,k,"beforeUpdate"),k&&Js(k,!0),(H.innerHTML&&X.innerHTML==null||H.textContent&&X.textContent==null)&&u(F,""),$?Q(_.dynamicChildren,$,F,k,P,Zo(y,M),A):z||ht(_,y,F,null,k,P,Zo(y,M),A,!1),N>0){if(N&16)K(F,H,X,k,M);else if(N&2&&H.class!==X.class&&r(F,"class",null,X.class,M),N&4&&r(F,"style",H.style,X.style,M),N&8){const lt=y.dynamicProps;for(let Pt=0;Pt<lt.length;Pt++){const wt=lt[Pt],re=H[wt],Jt=X[wt];(Jt!==re||wt==="value")&&r(F,wt,re,Jt,M,k)}}N&1&&_.children!==y.children&&u(F,y.children)}else!z&&$==null&&K(F,H,X,k,M);((st=X.onVnodeUpdated)||tt)&&Me(()=>{st&&Ze(st,k,y,_),tt&&Xs(y,_,k,"updated")},P)},Q=(_,y,k,P,M,A,z)=>{for(let F=0;F<y.length;F++){const N=_[F],$=y[F],tt=N.el&&(N.type===Ot||!ri(N,$)||N.shapeFlag&198)?d(N.el):k;m(N,$,tt,null,P,M,A,z,!0)}},K=(_,y,k,P,M)=>{if(y!==k){if(y!==Mt)for(const A in y)!Ei(A)&&!(A in k)&&r(_,A,y[A],null,M,P);for(const A in k){if(Ei(A))continue;const z=k[A],F=y[A];z!==F&&A!=="value"&&r(_,A,F,z,M,P)}"value"in k&&r(_,"value",y.value,k.value,M)}},it=(_,y,k,P,M,A,z,F,N)=>{const $=y.el=_?_.el:a(""),tt=y.anchor=_?_.anchor:a("");let{patchFlag:H,dynamicChildren:X,slotScopeIds:st}=y;st&&(F=F?F.concat(st):st),_==null?(n($,k,P),n(tt,k,P),D(y.children||[],k,tt,M,A,z,F,N)):H>0&&H&64&&X&&_.dynamicChildren?(Q(_.dynamicChildren,X,k,M,A,z,F),(y.key!=null||M&&y===M.subTree)&&Zh(_,y,!0)):ht(_,y,k,tt,M,A,z,F,N)},_t=(_,y,k,P,M,A,z,F,N)=>{y.slotScopeIds=F,_==null?y.shapeFlag&512?M.ctx.activate(y,k,P,z,N):Ht(y,k,P,M,A,z,N):yt(_,y,N)},Ht=(_,y,k,P,M,A,z)=>{const F=_.component=Gm(_,P,M);if(Uh(_)&&(F.ctx.renderer=Y),Ym(F,!1,z),F.asyncDep){if(M&&M.registerDep(F,rt,z),!_.el){const N=F.subTree=W(qs);v(null,N,y,k)}}else rt(F,_,y,k,M,A,z)},yt=(_,y,k)=>{const P=y.component=_.component;if(Nm(_,y,k))if(P.asyncDep&&!P.asyncResolved){Z(P,y,k);return}else P.next=y,P.update();else y.el=_.el,P.vnode=y},rt=(_,y,k,P,M,A,z)=>{const F=()=>{if(_.isMounted){let{next:H,bu:X,u:st,parent:lt,vnode:Pt}=_;{const me=tf(_);if(me){H&&(H.el=Pt.el,Z(_,H,z)),me.asyncDep.then(()=>{_.isUnmounted||F()});return}}let wt=H,re;Js(_,!1),H?(H.el=Pt.el,Z(_,H,z)):H=Pt,X&&Vr(X),(re=H.props&&H.props.onVnodeBeforeUpdate)&&Ze(re,lt,H,Pt),Js(_,!0);const Jt=Tc(_),Re=_.subTree;_.subTree=Jt,m(Re,Jt,d(Re.el),O(Re),_,M,A),H.el=Jt.el,wt===null&&Um(_,Jt.el),st&&Me(st,M),(re=H.props&&H.props.onVnodeUpdated)&&Me(()=>Ze(re,lt,H,Pt),M)}else{let H;const{el:X,props:st}=y,{bm:lt,m:Pt,parent:wt,root:re,type:Jt}=_,Re=Oi(y);Js(_,!1),lt&&Vr(lt),!Re&&(H=st&&st.onVnodeBeforeMount)&&Ze(H,wt,y),Js(_,!0);{re.ce&&re.ce._def.shadowRoot!==!1&&re.ce._injectChildStyle(Jt);const me=_.subTree=Tc(_);m(null,me,k,P,_,M,A),y.el=me.el}if(Pt&&Me(Pt,M),!Re&&(H=st&&st.onVnodeMounted)){const me=y;Me(()=>Ze(H,wt,me),M)}(y.shapeFlag&256||wt&&Oi(wt.vnode)&&wt.vnode.shapeFlag&256)&&_.a&&Me(_.a,M),_.isMounted=!0,y=k=P=null}};_.scope.on();const N=_.effect=new mh(F);_.scope.off();const $=_.update=N.run.bind(N),tt=_.job=N.runIfDirty.bind(N);tt.i=_,tt.id=_.uid,N.scheduler=()=>Sl(tt),Js(_,!0),$()},Z=(_,y,k)=>{y.component=_;const P=_.vnode.props;_.vnode=y,_.next=null,Sm(_,y.props,P,k),Am(_,y.children,k),ks(),bc(_),Ts()},ht=(_,y,k,P,M,A,z,F,N=!1)=>{const $=_&&_.children,tt=_?_.shapeFlag:0,H=y.children,{patchFlag:X,shapeFlag:st}=y;if(X>0){if(X&128){Xt($,H,k,P,M,A,z,F,N);return}else if(X&256){le($,H,k,P,M,A,z,F,N);return}}st&8?(tt&16&&It($,M,A),H!==$&&u(k,H)):tt&16?st&16?Xt($,H,k,P,M,A,z,F,N):It($,M,A,!0):(tt&8&&u(k,""),st&16&&D(H,k,P,M,A,z,F,N))},le=(_,y,k,P,M,A,z,F,N)=>{_=_||Nn,y=y||Nn;const $=_.length,tt=y.length,H=Math.min($,tt);let X;for(X=0;X<H;X++){const st=y[X]=N?$s(y[X]):is(y[X]);m(_[X],st,k,null,M,A,z,F,N)}$>tt?It(_,M,A,!0,!1,H):D(y,k,P,M,A,z,F,N,H)},Xt=(_,y,k,P,M,A,z,F,N)=>{let $=0;const tt=y.length;let H=_.length-1,X=tt-1;for(;$<=H&&$<=X;){const st=_[$],lt=y[$]=N?$s(y[$]):is(y[$]);if(ri(st,lt))m(st,lt,k,null,M,A,z,F,N);else break;$++}for(;$<=H&&$<=X;){const st=_[H],lt=y[X]=N?$s(y[X]):is(y[X]);if(ri(st,lt))m(st,lt,k,null,M,A,z,F,N);else break;H--,X--}if($>H){if($<=X){const st=X+1,lt=st<tt?y[st].el:P;for(;$<=X;)m(null,y[$]=N?$s(y[$]):is(y[$]),k,lt,M,A,z,F,N),$++}}else if($>X)for(;$<=H;)Ut(_[$],M,A,!0),$++;else{const st=$,lt=$,Pt=new Map;for($=lt;$<=X;$++){const Kt=y[$]=N?$s(y[$]):is(y[$]);Kt.key!=null&&Pt.set(Kt.key,$)}let wt,re=0;const Jt=X-lt+1;let Re=!1,me=0;const Je=new Array(Jt);for($=0;$<Jt;$++)Je[$]=0;for($=st;$<=H;$++){const Kt=_[$];if(re>=Jt){Ut(Kt,M,A,!0);continue}let ke;if(Kt.key!=null)ke=Pt.get(Kt.key);else for(wt=lt;wt<=X;wt++)if(Je[wt-lt]===0&&ri(Kt,y[wt])){ke=wt;break}ke===void 0?Ut(Kt,M,A,!0):(Je[ke-lt]=$+1,ke>=me?me=ke:Re=!0,m(Kt,y[ke],k,null,M,A,z,F,N),re++)}const De=Re?Rm(Je):Nn;for(wt=De.length-1,$=Jt-1;$>=0;$--){const Kt=lt+$,ke=y[Kt],vn=Kt+1<tt?y[Kt+1].el:P;Je[$]===0?m(null,ke,k,vn,M,A,z,F,N):Re&&(wt<0||$!==De[wt]?mt(ke,k,vn,2):wt--)}}},mt=(_,y,k,P,M=null)=>{const{el:A,type:z,transition:F,children:N,shapeFlag:$}=_;if($&6){mt(_.component.subTree,y,k,P);return}if($&128){_.suspense.move(y,k,P);return}if($&64){z.move(_,y,k,Y);return}if(z===Ot){n(A,y,k);for(let H=0;H<N.length;H++)mt(N[H],y,k,P);n(_.anchor,y,k);return}if(z===Kr){x(_,y,k);return}if(P!==2&&$&1&&F)if(P===0)F.beforeEnter(A),n(A,y,k),Me(()=>F.enter(A),M);else{const{leave:H,delayLeave:X,afterLeave:st}=F,lt=()=>{_.ctx.isUnmounted?i(A):n(A,y,k)},Pt=()=>{H(A,()=>{lt(),st&&st()})};X?X(A,lt,Pt):Pt()}else n(A,y,k)},Ut=(_,y,k,P=!1,M=!1)=>{const{type:A,props:z,ref:F,children:N,dynamicChildren:$,shapeFlag:tt,patchFlag:H,dirs:X,cacheIndex:st}=_;if(H===-2&&(M=!1),F!=null&&(ks(),Ci(F,null,k,_,!0),Ts()),st!=null&&(y.renderCache[st]=void 0),tt&256){y.ctx.deactivate(_);return}const lt=tt&1&&X,Pt=!Oi(_);let wt;if(Pt&&(wt=z&&z.onVnodeBeforeUnmount)&&Ze(wt,y,_),tt&6)vt(_.component,k,P);else{if(tt&128){_.suspense.unmount(k,P);return}lt&&Xs(_,null,y,"beforeUnmount"),tt&64?_.type.remove(_,y,k,Y,P):$&&!$.hasOnce&&(A!==Ot||H>0&&H&64)?It($,y,k,!1,!0):(A===Ot&&H&384||!M&&tt&16)&&It(N,y,k),P&&kt(_)}(Pt&&(wt=z&&z.onVnodeUnmounted)||lt)&&Me(()=>{wt&&Ze(wt,y,_),lt&&Xs(_,null,y,"unmounted")},k)},kt=_=>{const{type:y,el:k,anchor:P,transition:M}=_;if(y===Ot){ie(k,P);return}if(y===Kr){S(_);return}const A=()=>{i(k),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:z,delayLeave:F}=M,N=()=>z(k,A);F?F(_.el,A,N):N()}else A()},ie=(_,y)=>{let k;for(;_!==y;)k=h(_),i(_),_=k;i(y)},vt=(_,y,k)=>{const{bum:P,scope:M,job:A,subTree:z,um:F,m:N,a:$,parent:tt,slots:{__:H}}=_;kc(N),kc($),P&&Vr(P),tt&&nt(H)&&H.forEach(X=>{tt.renderCache[X]=void 0}),M.stop(),A&&(A.flags|=8,Ut(z,_,y,k)),F&&Me(F,y),Me(()=>{_.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},It=(_,y,k,P=!1,M=!1,A=0)=>{for(let z=A;z<_.length;z++)Ut(_[z],y,k,P,M)},O=_=>{if(_.shapeFlag&6)return O(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const y=h(_.anchor||_.el),k=y&&y[Jg];return k?h(k):y};let V=!1;const B=(_,y,k)=>{_==null?y._vnode&&Ut(y._vnode,null,null,!0):m(y._vnode||null,_,y,null,null,null,k),y._vnode=_,V||(V=!0,bc(),$h(),V=!1)},Y={p:m,um:Ut,m:mt,r:kt,mt:Ht,mc:D,pc:ht,pbc:Q,n:O,o:e};return{render:B,hydrate:void 0,createApp:vm(B)}}function Zo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Js({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Om(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zh(e,t,s=!1){const n=e.children,i=t.children;if(nt(n)&&nt(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=$s(i[r]),a.el=o.el),!s&&a.patchFlag!==-2&&Zh(o,a)),a.type===Do&&(a.el=o.el),a.type===qs&&!a.el&&(a.el=o.el)}}function Rm(e){const t=e.slice(),s=[0];let n,i,r,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<c?r=a+1:o=a;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function tf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:tf(t)}function kc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mm=Symbol.for("v-scx"),Im=()=>Ye(Mm);function Bn(e,t,s){return ef(e,t,s)}function ef(e,t,s=Mt){const{immediate:n,deep:i,flush:r,once:o}=s,a=ge({},s),l=t&&n||!t&&r!=="post";let c;if(Yi){if(r==="sync"){const p=Im();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=rs,p.resume=rs,p.pause=rs,p}}const u=ae;a.call=(p,g,m)=>ls(p,u,g,m);let d=!1;r==="post"?a.scheduler=p=>{Me(p,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(p,g)=>{g?p():Sl(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=Kg(e,t,a);return Yi&&(c?c.push(h):l&&h()),h}function Dm(e,t,s){const n=this.proxy,i=Gt(e)?e.includes(".")?sf(n,e):()=>n[e]:e.bind(n,n);let r;ot(t)?r=t:(r=t.handler,s=t);const o=hr(this),a=ef(i,r.bind(n),s);return o(),a}function sf(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Lm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ne(t)}Modifiers`]||e[`${mn(t)}Modifiers`];function $m(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Mt;let i=s;const r=t.startsWith("update:"),o=r&&Lm(n,t.slice(7));o&&(o.trim&&(i=s.map(u=>Gt(u)?u.trim():u)),o.number&&(i=s.map(Aa)));let a,l=n[a=Ko(t)]||n[a=Ko(Ne(t))];!l&&r&&(l=n[a=Ko(mn(t))]),l&&ls(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ls(c,e,6,i)}}function nf(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!ot(e)){const l=c=>{const u=nf(c,t,!0);u&&(a=!0,ge(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Ft(e)&&n.set(e,null),null):(nt(r)?r.forEach(l=>o[l]=null):ge(o,r),Ft(e)&&n.set(e,o),o)}function Io(e,t){return!e||!xo(t)?!1:(t=t.slice(2).replace(/Once$/,""),At(e,t[0].toLowerCase()+t.slice(1))||At(e,mn(t))||At(e,t))}function Tc(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:g,inheritAttrs:m}=e,b=ro(e);let v,T;try{if(s.shapeFlag&4){const S=i||n,E=S;v=is(c.call(E,S,u,d,p,h,g)),T=a}else{const S=t;v=is(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),T=t.props?a:jm(a)}}catch(S){Mi.length=0,Po(S,e,1),v=W(qs)}let x=v;if(T&&m!==!1){const S=Object.keys(T),{shapeFlag:E}=x;S.length&&E&7&&(r&&S.some(dl)&&(T=Fm(T,r)),x=qn(x,T,!1,!0))}return s.dirs&&(x=qn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&kl(x,s.transition),v=x,ro(b),v}const jm=e=>{let t;for(const s in e)(s==="class"||s==="style"||xo(s))&&((t||(t={}))[s]=e[s]);return t},Fm=(e,t)=>{const s={};for(const n in e)(!dl(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Nm(e,t,s){const{props:n,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ec(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!Io(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ec(n,o,c):!0:!!o;return!1}function Ec(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!Io(s,r))return!0}return!1}function Um({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const rf=e=>e.__isSuspense;function zm(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):Xg(e)}const Ot=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),qs=Symbol.for("v-cmt"),Kr=Symbol.for("v-stc"),Mi=[];let Ie=null;function R(e=!1){Mi.push(Ie=e?null:[])}function Bm(){Mi.pop(),Ie=Mi[Mi.length-1]||null}let Gi=1;function Ac(e,t=!1){Gi+=e,e<0&&Ie&&t&&(Ie.hasOnce=!0)}function of(e){return e.dynamicChildren=Gi>0?Ie||Nn:null,Bm(),Gi>0&&Ie&&Ie.push(e),e}function I(e,t,s,n,i,r){return of(f(e,t,s,n,i,r,!0))}function Pl(e,t,s,n,i){return of(W(e,t,s,n,i,!0))}function ao(e){return e?e.__v_isVNode===!0:!1}function ri(e,t){return e.type===t.type&&e.key===t.key}const af=({key:e})=>e??null,Gr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Gt(e)||qt(e)||ot(e)?{i:Oe,r:e,k:t,f:!!s}:e:null);function f(e,t=null,s=null,n=0,i=null,r=e===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&af(t),ref:t&&Gr(t),scopeId:Fh,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Oe};return a?(Cl(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=Gt(s)?8:16),Gi>0&&!o&&Ie&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ie.push(l),l}const W=Hm;function Hm(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===dm)&&(e=qs),ao(e)){const a=qn(e,t,!0);return s&&Cl(a,s),Gi>0&&!r&&Ie&&(a.shapeFlag&6?Ie[Ie.indexOf(e)]=a:Ie.push(a)),a.patchFlag=-2,a}if(tb(e)&&(e=e.__vccOpts),t){t=Wm(t);let{class:a,style:l}=t;a&&!Gt(a)&&(t.class=we(a)),Ft(l)&&(cr(l)&&!nt(l)&&(l=ge({},l)),t.style=pl(l))}const o=Gt(e)?1:rf(e)?128:Qg(e)?64:Ft(e)?4:ot(e)?2:0;return f(e,t,s,n,i,o,r,!0)}function Wm(e){return e?cr(e)||Kh(e)?ge({},e):e:null}function qn(e,t,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?Vm(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&af(c),ref:t&&t.ref?s&&r?nt(r)?r.concat(Gr(t)):[r,Gr(t)]:Gr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qn(e.ssContent),ssFallback:e.ssFallback&&qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&kl(u,l.clone(u)),u}function ct(e=" ",t=0){return W(Do,null,e,t)}function dr(e,t){const s=W(Kr,null,e);return s.staticCount=t,s}function xt(e="",t=!1){return t?(R(),Pl(qs,null,e)):W(qs,null,e)}function is(e){return e==null||typeof e=="boolean"?W(qs):nt(e)?W(Ot,null,e.slice()):ao(e)?$s(e):W(Do,null,String(e))}function $s(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qn(e)}function Cl(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(nt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Cl(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Kh(t)?t._ctx=Oe:i===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ot(t)?(t={default:t,_ctx:Oe},s=32):(t=String(t),n&64?(s=16,t=[ct(t)]):s=8);e.children=t,e.shapeFlag|=s}function Vm(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=we([t.class,n.class]));else if(i==="style")t.style=pl([t.style,n.style]);else if(xo(i)){const r=t[i],o=n[i];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=n[i])}return t}function Ze(e,t,s,n=null){ls(e,t,7,[s,n])}const qm=Wh();let Km=0;function Gm(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||qm,r={uid:Km++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yh(n,i),emitsOptions:nf(n,i),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:n.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=$m.bind(null,r),e.ce&&e.ce(r),r}let ae=null,lo,La;{const e=Eo(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};lo=t("__VUE_INSTANCE_SETTERS__",s=>ae=s),La=t("__VUE_SSR_SETTERS__",s=>Yi=s)}const hr=e=>{const t=ae;return lo(e),e.scope.on(),()=>{e.scope.off(),lo(t)}},Pc=()=>{ae&&ae.scope.off(),lo(null)};function lf(e){return e.vnode.shapeFlag&4}let Yi=!1;function Ym(e,t=!1,s=!1){t&&La(t);const{props:n,children:i}=e.vnode,r=lf(e);xm(e,n,r,t),Em(e,i,s||t);const o=r?Xm(e,t):void 0;return t&&La(!1),o}function Xm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fm);const{setup:n}=s;if(n){ks();const i=e.setupContext=n.length>1?Qm(e):null,r=hr(e),o=ur(n,e,0,[e.props,i]),a=oh(o);if(Ts(),r(),(a||e.sp)&&!Oi(e)&&Nh(e),a){if(o.then(Pc,Pc),t)return o.then(l=>{Cc(e,l)}).catch(l=>{Po(l,e,0)});e.asyncDep=o}else Cc(e,o)}else cf(e)}function Cc(e,t,s){ot(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ft(t)&&(e.setupState=Ih(t)),cf(e)}function cf(e,t,s){const n=e.type;e.render||(e.render=n.render||rs);{const i=hr(e);ks();try{pm(e)}finally{Ts(),i()}}}const Jm={get(e,t){return fe(e,"get",""),e[t]}};function Qm(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Jm),slots:e.slots,emit:e.emit,expose:t}}function Lo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ih(wl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ri)return Ri[s](e)},has(t,s){return s in t||s in Ri}})):e.proxy}function Zm(e,t=!0){return ot(e)?e.displayName||e.name:e.name||t&&e.__name}function tb(e){return ot(e)&&"__vccOpts"in e}const Pe=(e,t)=>Vg(e,t,Yi);function Xi(e,t,s){const n=arguments.length;return n===2?Ft(t)&&!nt(t)?ao(t)?W(e,null,[t]):W(e,t):W(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&ao(s)&&(s=[s]),W(e,t,s))}const uf="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $a;const Oc=typeof window<"u"&&window.trustedTypes;if(Oc)try{$a=Oc.createPolicy("vue",{createHTML:e=>e})}catch{}const df=$a?e=>$a.createHTML(e):e=>e,eb="http://www.w3.org/2000/svg",sb="http://www.w3.org/1998/Math/MathML",_s=typeof document<"u"?document:null,Rc=_s&&_s.createElement("template"),nb={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?_s.createElementNS(eb,e):t==="mathml"?_s.createElementNS(sb,e):s?_s.createElement(e,{is:s}):_s.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>_s.createTextNode(e),createComment:e=>_s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const o=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Rc.innerHTML=df(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Rc.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ib=Symbol("_vtc");function rb(e,t,s){const n=e[ib];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Mc=Symbol("_vod"),ob=Symbol("_vsh"),ab=Symbol(""),lb=/(^|;)\s*display\s*:/;function cb(e,t,s){const n=e.style,i=Gt(s);let r=!1;if(s&&!i){if(t)if(Gt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Yr(n,a,"")}else for(const o in t)s[o]==null&&Yr(n,o,"");for(const o in s)o==="display"&&(r=!0),Yr(n,o,s[o])}else if(i){if(t!==s){const o=n[ab];o&&(s+=";"+o),n.cssText=s,r=lb.test(s)}}else t&&e.removeAttribute("style");Mc in e&&(e[Mc]=r?n.display:"",e[ob]&&(n.display="none"))}const Ic=/\s*!important$/;function Yr(e,t,s){if(nt(s))s.forEach(n=>Yr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ub(e,t);Ic.test(s)?e.setProperty(mn(n),s.replace(Ic,""),"important"):e[n]=s}}const Dc=["Webkit","Moz","ms"],ta={};function ub(e,t){const s=ta[t];if(s)return s;let n=Ne(t);if(n!=="filter"&&n in e)return ta[t]=n;n=To(n);for(let i=0;i<Dc.length;i++){const r=Dc[i]+n;if(r in e)return ta[t]=r}return t}const Lc="http://www.w3.org/1999/xlink";function $c(e,t,s,n,i,r=bg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Lc,t.slice(6,t.length)):e.setAttributeNS(Lc,t,s):s==null||r&&!ch(s)?e.removeAttribute(t):e.setAttribute(t,r?"":as(s)?String(s):s)}function jc(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?df(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=ch(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(i||t)}function Ns(e,t,s,n){e.addEventListener(t,s,n)}function db(e,t,s,n){e.removeEventListener(t,s,n)}const Fc=Symbol("_vei");function hb(e,t,s,n,i=null){const r=e[Fc]||(e[Fc]={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=fb(t);if(n){const c=r[t]=mb(n,i);Ns(e,a,c,l)}else o&&(db(e,a,o,l),r[t]=void 0)}}const Nc=/(?:Once|Passive|Capture)$/;function fb(e){let t;if(Nc.test(e)){t={};let n;for(;n=e.match(Nc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mn(e.slice(2)),t]}let ea=0;const pb=Promise.resolve(),gb=()=>ea||(pb.then(()=>ea=0),ea=Date.now());function mb(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ls(bb(n,s.value),t,5,[n])};return s.value=e,s.attached=gb(),s}function bb(e,t){if(nt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Uc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_b=(e,t,s,n,i,r)=>{const o=i==="svg";t==="class"?rb(e,n,o):t==="style"?cb(e,s,n):xo(t)?dl(t)||hb(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yb(e,t,n,o))?(jc(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&$c(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Gt(n))?jc(e,Ne(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),$c(e,t,n,o))};function yb(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Uc(t)&&ot(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Uc(t)&&Gt(s)?!1:t in e}const Kn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?s=>Vr(t,s):t};function vb(e){e.target.composing=!0}function zc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ss=Symbol("_assign"),Wt={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[Ss]=Kn(i);const r=n||i.props&&i.props.type==="number";Ns(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),r&&(a=Aa(a)),e[Ss](a)}),s&&Ns(e,"change",()=>{e.value=e.value.trim()}),t||(Ns(e,"compositionstart",vb),Ns(e,"compositionend",zc),Ns(e,"change",zc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(e[Ss]=Kn(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Aa(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},Bc={deep:!0,created(e,t,s){e[Ss]=Kn(s),Ns(e,"change",()=>{const n=e._modelValue,i=ff(e),r=e.checked,o=e[Ss];if(nt(n)){const a=uh(n,i),l=a!==-1;if(r&&!l)o(n.concat(i));else if(!r&&l){const c=[...n];c.splice(a,1),o(c)}}else if(So(n)){const a=new Set(n);r?a.add(i):a.delete(i),o(a)}else o(pf(e,r))})},mounted:Hc,beforeUpdate(e,t,s){e[Ss]=Kn(s),Hc(e,t,s)}};function Hc(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(nt(t))i=uh(t,n.props.value)>-1;else if(So(t))i=t.has(n.props.value);else{if(t===s)return;i=Vn(t,pf(e,!0))}e.checked!==i&&(e.checked=i)}const hf={created(e,{value:t},s){e.checked=Vn(t,s.props.value),e[Ss]=Kn(s),Ns(e,"change",()=>{e[Ss](ff(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Ss]=Kn(n),t!==s&&(e.checked=Vn(t,n.props.value))}};function ff(e){return"_value"in e?e._value:e.value}function pf(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const wb=["ctrl","shift","alt","meta"],xb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wb.some(s=>e[`${s}Key`]&&!t.includes(s))},fr=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=xb[t[o]];if(a&&a(i,t))return}return e(i,...r)})},Sb=ge({patchProp:_b},nb);let Wc;function kb(){return Wc||(Wc=Pm(Sb))}const Tb=(...e)=>{const t=kb().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Ab(n);if(!i)return;const r=t._component;!ot(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,Eb(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Eb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ab(e){return Gt(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gf;const $o=e=>gf=e,mf=Symbol();function ja(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ii;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ii||(Ii={}));function Pb(){const e=ph(!0),t=e.run(()=>qe({}));let s=[],n=[];const i=wl({install(r){$o(i),i._a=r,r.provide(mf,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return i}const bf=()=>{};function Vc(e,t,s,n=bf){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&gh()&&yg(i),i}function kn(e,...t){e.slice().forEach(s=>{s(...t)})}const Cb=e=>e(),qc=Symbol(),sa=Symbol();function Fa(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],i=e[s];ja(i)&&ja(n)&&e.hasOwnProperty(s)&&!qt(n)&&!Hs(n)?e[s]=Fa(i,n):e[s]=n}return e}const Ob=Symbol();function Rb(e){return!ja(e)||!Object.prototype.hasOwnProperty.call(e,Ob)}const{assign:Ms}=Object;function Mb(e){return!!(qt(e)&&e.effect)}function Ib(e,t,s,n){const{state:i,actions:r,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=i?i():{});const u=zg(s.state.value[e]);return Ms(u,r,Object.keys(o||{}).reduce((d,h)=>(d[h]=wl(Pe(()=>{$o(s);const p=s._s.get(e);return o[h].call(p,p)})),d),{}))}return l=_f(e,c,t,s,n,!0),l}function _f(e,t,s={},n,i,r){let o;const a=Ms({actions:{}},s),l={deep:!0};let c,u,d=[],h=[],p;const g=n.state.value[e];!r&&!g&&(n.state.value[e]={}),qe({});let m;function b(D){let U;c=u=!1,typeof D=="function"?(D(n.state.value[e]),U={type:Ii.patchFunction,storeId:e,events:p}):(Fa(n.state.value[e],D),U={type:Ii.patchObject,payload:D,storeId:e,events:p});const Q=m=Symbol();Co().then(()=>{m===Q&&(c=!0)}),u=!0,kn(d,U,n.state.value[e])}const v=r?function(){const{state:U}=s,Q=U?U():{};this.$patch(K=>{Ms(K,Q)})}:bf;function T(){o.stop(),d=[],h=[],n._s.delete(e)}const x=(D,U="")=>{if(qc in D)return D[sa]=U,D;const Q=function(){$o(n);const K=Array.from(arguments),it=[],_t=[];function Ht(Z){it.push(Z)}function yt(Z){_t.push(Z)}kn(h,{args:K,name:Q[sa],store:E,after:Ht,onError:yt});let rt;try{rt=D.apply(this&&this.$id===e?this:E,K)}catch(Z){throw kn(_t,Z),Z}return rt instanceof Promise?rt.then(Z=>(kn(it,Z),Z)).catch(Z=>(kn(_t,Z),Promise.reject(Z))):(kn(it,rt),rt)};return Q[qc]=!0,Q[sa]=U,Q},S={_p:n,$id:e,$onAction:Vc.bind(null,h),$patch:b,$reset:v,$subscribe(D,U={}){const Q=Vc(d,D,U.detached,()=>K()),K=o.run(()=>Bn(()=>n.state.value[e],it=>{(U.flush==="sync"?u:c)&&D({storeId:e,type:Ii.direct,events:p},it)},Ms({},l,U)));return Q},$dispose:T},E=lr(S);n._s.set(e,E);const C=(n._a&&n._a.runWithContext||Cb)(()=>n._e.run(()=>(o=ph()).run(()=>t({action:x}))));for(const D in C){const U=C[D];if(qt(U)&&!Mb(U)||Hs(U))r||(g&&Rb(U)&&(qt(U)?U.value=g[D]:Fa(U,g[D])),n.state.value[e][D]=U);else if(typeof U=="function"){const Q=x(U,D);C[D]=Q,a.actions[D]=U}}return Ms(E,C),Ms(gt(E),C),Object.defineProperty(E,"$state",{get:()=>n.state.value[e],set:D=>{b(U=>{Ms(U,D)})}}),n._p.forEach(D=>{Ms(E,o.run(()=>D({store:E,app:n._a,pinia:n,options:a})))}),g&&r&&s.hydrate&&s.hydrate(E.$state,g),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Db(e,t,s){let n;const i=typeof t=="function";n=i?s:t;function r(o,a){const l=wm();return o=o||(l?Ye(mf,null):null),o&&$o(o),o=gf,o._s.has(e)||(i?_f(e,t,n,o):Ib(e,n,o)),o._s.get(e)}return r.$id=e,r}const Lb=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,$b=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,jb=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Fb(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Nb(e);return}return t}function Nb(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Ub(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!jb.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Lb.test(e)||$b.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Fb)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function zb(e,t){if(e==null)return;let s=e;for(let n=0;n<t.length;n++){if(s==null||s[t[n]]==null)return;s=s[t[n]]}return s}function Ol(e,t,s){if(s.length===0)return t;const n=s[0];return s.length>1&&(t=Ol(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(s[1]))?[]:{}:e[n],t,Array.prototype.slice.call(s,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function yf(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const s={};for(const n in e)s[n]=e[n];return delete s[t[0]],s}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const s={};for(const n in e)s[n]=e[n];return s}return Ol(e,yf(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function vf(e,t){return t.map(s=>s.split(".")).map(s=>[s,zb(e,s)]).filter(s=>s[1]!==void 0).reduce((s,n)=>Ol(s,n[1],n[0]),{})}function wf(e,t){return t.map(s=>s.split(".")).reduce((s,n)=>yf(s,n),e)}function Kc(e,{storage:t,serializer:s,key:n,debug:i,pick:r,omit:o,beforeHydrate:a,afterHydrate:l},c,u=!0){try{u&&(a==null||a(c));const d=t.getItem(n);if(d){const h=s.deserialize(d),p=r?vf(h,r):h,g=o?wf(p,o):p;e.$patch(g)}u&&(l==null||l(c))}catch(d){i&&console.error("[pinia-plugin-persistedstate]",d)}}function Gc(e,{storage:t,serializer:s,key:n,debug:i,pick:r,omit:o}){try{const a=r?vf(e,r):e,l=o?wf(a,o):a,c=s.serialize(l);t.setItem(n,c)}catch(a){i&&console.error("[pinia-plugin-persistedstate]",a)}}function Bb(e,t,s){const{pinia:n,store:i,options:{persist:r=s}}=e;if(!r)return;if(!(i.$id in n.state.value)){const l=n._s.get(i.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(r)?r:r===!0?[{}]:[r]).map(t);i.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{Kc(i,c,e,l)})},i.$persist=()=>{a.forEach(l=>{Gc(i.$state,l)})},a.forEach(l=>{Kc(i,l,e),i.$subscribe((c,u)=>Gc(u,l),{detached:!0})})}function Hb(e={}){return function(t){Bb(t,s=>({key:(e.key?e.key:n=>n)(s.key??t.store.$id),debug:s.debug??e.debug??!1,serializer:s.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>Ub(n)},storage:s.storage??e.storage??window.localStorage,beforeHydrate:s.beforeHydrate,afterHydrate:s.afterHydrate,pick:s.pick,omit:s.omit}),e.auto??!1)}}var Wb=Hb();const Rt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},Vb={name:"App"},qb={id:"app"};function Kb(e,t,s,n,i,r){const o=dt("router-view");return R(),I("div",qb,[W(o)])}const Gb=Rt(Vb,[["render",Kb]]),Yb="modulepreload",Xb=function(e){return"/"+e},Yc={},Ks=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(s.map(c=>{if(c=Xb(c),c in Yc)return;Yc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Yb,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const jn=typeof document<"u";function xf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Jb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&xf(e.default)}const Et=Object.assign;function na(e,t){const s={};for(const n in t){const i=t[n];s[n]=Xe(i)?i.map(e):e(i)}return s}const Di=()=>{},Xe=Array.isArray,Sf=/#/g,Qb=/&/g,Zb=/\//g,t_=/=/g,e_=/\?/g,kf=/\+/g,s_=/%5B/g,n_=/%5D/g,Tf=/%5E/g,i_=/%60/g,Ef=/%7B/g,r_=/%7C/g,Af=/%7D/g,o_=/%20/g;function Rl(e){return encodeURI(""+e).replace(r_,"|").replace(s_,"[").replace(n_,"]")}function a_(e){return Rl(e).replace(Ef,"{").replace(Af,"}").replace(Tf,"^")}function Na(e){return Rl(e).replace(kf,"%2B").replace(o_,"+").replace(Sf,"%23").replace(Qb,"%26").replace(i_,"`").replace(Ef,"{").replace(Af,"}").replace(Tf,"^")}function l_(e){return Na(e).replace(t_,"%3D")}function c_(e){return Rl(e).replace(Sf,"%23").replace(e_,"%3F")}function u_(e){return e==null?"":c_(e).replace(Zb,"%2F")}function Ji(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const d_=/\/$/,h_=e=>e.replace(d_,"");function ia(e,t,s="/"){let n,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=e(r)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=m_(n??t,s),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:Ji(o)}}function f_(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Xc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function p_(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Gn(t.matched[n],s.matched[i])&&Pf(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Pf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!g_(e[s],t[s]))return!1;return!0}function g_(e,t){return Xe(e)?Jc(e,t):Xe(t)?Jc(t,e):e===t}function Jc(e,t){return Xe(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function m_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const Os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qi;(function(e){e.pop="pop",e.push="push"})(Qi||(Qi={}));var Li;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Li||(Li={}));function b_(e){if(!e)if(jn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),h_(e)}const __=/^[^#]+#/;function y_(e,t){return e.replace(__,"#")+t}function v_(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function w_(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=v_(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Qc(e,t){return(history.state?history.state.position-t:-1)+e}const Ua=new Map;function x_(e,t){Ua.set(e,t)}function S_(e){const t=Ua.get(e);return Ua.delete(e),t}let k_=()=>location.protocol+"//"+location.host;function Cf(e,t){const{pathname:s,search:n,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Xc(l,"")}return Xc(s,e)+n+i}function T_(e,t,s,n){let i=[],r=[],o=null;const a=({state:h})=>{const p=Cf(e,location),g=s.value,m=t.value;let b=0;if(h){if(s.value=p,t.value=h,o&&o===g){o=null;return}b=m?h.position-m.position:0}else n(p);i.forEach(v=>{v(s.value,g,{delta:b,type:Qi.pop,direction:b?b>0?Li.forward:Li.back:Li.unknown})})};function l(){o=s.value}function c(h){i.push(h);const p=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return r.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(Et({},h.state,{scroll:jo()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Zc(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?jo():null}}function E_(e){const{history:t,location:s}=window,n={value:Cf(e,s)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=e.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:k_()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(p){console.error(p),s[u?"replace":"assign"](h)}}function o(l,c){const u=Et({},t.state,Zc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),n.value=l}function a(l,c){const u=Et({},i.value,t.state,{forward:l,scroll:jo()});r(u.current,u,!0);const d=Et({},Zc(n.value,l,null),{position:u.position+1},c);r(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function A_(e){e=b_(e);const t=E_(e),s=T_(e,t.state,t.location,t.replace);function n(r,o=!0){o||s.pauseListeners(),history.go(r)}const i=Et({location:"",base:e,go:n,createHref:y_.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function P_(e){return typeof e=="string"||e&&typeof e=="object"}function Of(e){return typeof e=="string"||typeof e=="symbol"}const Rf=Symbol("");var tu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(tu||(tu={}));function Yn(e,t){return Et(new Error,{type:e,[Rf]:!0},t)}function hs(e,t){return e instanceof Error&&Rf in e&&(t==null||!!(e.type&t))}const eu="[^/]+?",C_={sensitive:!1,strict:!1,start:!0,end:!0},O_=/[.+*?^${}()[\]/\\]/g;function R_(e,t){const s=Et({},C_,t),n=[];let i=s.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let p=40+(s.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(O_,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:m,optional:b,regexp:v}=h;r.push({name:g,repeatable:m,optional:b});const T=v||eu;if(T!==eu){p+=10;try{new RegExp(`(${T})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${T}): `+S.message)}}let x=m?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;d||(x=b&&c.length<2?`(?:/${x})`:"/"+x),b&&(x+="?"),i+=x,p+=20,b&&(p+=-8),m&&(p+=-20),T===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",g=r[h-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:b}=p,v=g in c?c[g]:"";if(Xe(v)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const T=Xe(v)?v.join("/"):v;if(!T)if(b)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=T}}return u||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function M_(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Mf(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const r=M_(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(su(n))return 1;if(su(i))return-1}return i.length-n.length}function su(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const I_={type:0,value:""},D_=/[a-zA-Z0-9_]/;function L_(e){if(!e)return[[]];if(e==="/")return[[I_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:D_.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function $_(e,t,s){const n=R_(L_(e.path),s),i=Et(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function j_(e,t){const s=[],n=new Map;t=ou({strict:!1,end:!0,sensitive:!1},t);function i(d){return n.get(d)}function r(d,h,p){const g=!p,m=iu(d);m.aliasOf=p&&p.record;const b=ou(t,d),v=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of S)v.push(iu(Et({},m,{components:p?p.record.components:m.components,path:E,aliasOf:p?p.record:m})))}let T,x;for(const S of v){const{path:E}=S;if(h&&E[0]!=="/"){const L=h.record.path,C=L[L.length-1]==="/"?"":"/";S.path=h.record.path+(E&&C+E)}if(T=$_(S,h,b),p?p.alias.push(T):(x=x||T,x!==T&&x.alias.push(T),g&&d.name&&!ru(T)&&o(d.name)),If(T)&&l(T),m.children){const L=m.children;for(let C=0;C<L.length;C++)r(L[C],T,p&&p.children[C])}p=p||T}return x?()=>{o(x)}:Di}function o(d){if(Of(d)){const h=n.get(d);h&&(n.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=U_(d,s);s.splice(h,0,d),d.record.name&&!ru(d)&&n.set(d.record.name,d)}function c(d,h){let p,g={},m,b;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw Yn(1,{location:d});b=p.record.name,g=Et(nu(h.params,p.keys.filter(x=>!x.optional).concat(p.parent?p.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&nu(d.params,p.keys.map(x=>x.name))),m=p.stringify(g)}else if(d.path!=null)m=d.path,p=s.find(x=>x.re.test(m)),p&&(g=p.parse(m),b=p.record.name);else{if(p=h.name?n.get(h.name):s.find(x=>x.re.test(h.path)),!p)throw Yn(1,{location:d,currentLocation:h});b=p.record.name,g=Et({},h.params,d.params),m=p.stringify(g)}const v=[];let T=p;for(;T;)v.unshift(T.record),T=T.parent;return{name:b,path:m,params:g,matched:v,meta:N_(v)}}e.forEach(d=>r(d));function u(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function nu(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function iu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:F_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function F_(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function ru(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function N_(e){return e.reduce((t,s)=>Et(t,s.meta),{})}function ou(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function U_(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;Mf(e,t[r])<0?n=r:s=r+1}const i=z_(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function z_(e){let t=e;for(;t=t.parent;)if(If(t)&&Mf(e,t)===0)return t}function If({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function B_(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(kf," "),o=r.indexOf("="),a=Ji(o<0?r:r.slice(0,o)),l=o<0?null:Ji(r.slice(o+1));if(a in t){let c=t[a];Xe(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function au(e){let t="";for(let s in e){const n=e[s];if(s=l_(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Xe(n)?n.map(r=>r&&Na(r)):[n&&Na(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function H_(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Xe(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const W_=Symbol(""),lu=Symbol(""),Fo=Symbol(""),Df=Symbol(""),za=Symbol("");function oi(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function js(e,t,s,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Yn(4,{from:s,to:t})):h instanceof Error?l(h):P_(h)?l(Yn(2,{from:t,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=r(()=>e.call(n&&n.instances[i],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function ra(e,t,s,n,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(xf(l)){const u=(l.__vccOpts||l)[t];u&&r.push(js(u,s,n,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Jb(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&js(p,s,n,o,a,i)()}))}}return r}function cu(e){const t=Ye(Fo),s=Ye(Df),n=Pe(()=>{const l=dn(e.to);return t.resolve(l)}),i=Pe(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(Gn.bind(null,u));if(h>-1)return h;const p=uu(l[c-2]);return c>1&&uu(u)===p&&d[d.length-1].path!==p?d.findIndex(Gn.bind(null,l[c-2])):h}),r=Pe(()=>i.value>-1&&Y_(s.params,n.value.params)),o=Pe(()=>i.value>-1&&i.value===s.matched.length-1&&Pf(s.params,n.value.params));function a(l={}){if(G_(l)){const c=t[dn(e.replace)?"replace":"push"](dn(e.to)).catch(Di);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Pe(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function V_(e){return e.length===1?e[0]:e}const q_=Oo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:cu,setup(e,{slots:t}){const s=lr(cu(e)),{options:n}=Ye(Fo),i=Pe(()=>({[du(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[du(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&V_(t.default(s));return e.custom?r:Xi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),K_=q_;function G_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Y_(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Xe(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function uu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const du=(e,t,s)=>e??t??s,X_=Oo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ye(za),i=Pe(()=>e.route||n.value),r=Ye(lu,0),o=Pe(()=>{let c=dn(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Pe(()=>i.value.matched[o.value]);qr(lu,Pe(()=>o.value+1)),qr(W_,a),qr(za,i);const l=qe();return Bn(()=>[l.value,a.value,e.name],([c,u,d],[h,p,g])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Gn(u,p)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return hu(s.default,{Component:h,route:c});const p=d.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=Xi(h,Et({},g,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return hu(s.default,{Component:b,route:c})||b}}});function hu(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const J_=X_;function Q_(e){const t=j_(e.routes,e),s=e.parseQuery||B_,n=e.stringifyQuery||au,i=e.history,r=oi(),o=oi(),a=oi(),l=xl(Os);let c=Os;jn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=na.bind(null,O=>""+O),d=na.bind(null,u_),h=na.bind(null,Ji);function p(O,V){let B,Y;return Of(O)?(B=t.getRecordMatcher(O),Y=V):Y=O,t.addRoute(Y,B)}function g(O){const V=t.getRecordMatcher(O);V&&t.removeRoute(V)}function m(){return t.getRoutes().map(O=>O.record)}function b(O){return!!t.getRecordMatcher(O)}function v(O,V){if(V=Et({},V||l.value),typeof O=="string"){const k=ia(s,O,V.path),P=t.resolve({path:k.path},V),M=i.createHref(k.fullPath);return Et(k,P,{params:h(P.params),hash:Ji(k.hash),redirectedFrom:void 0,href:M})}let B;if(O.path!=null)B=Et({},O,{path:ia(s,O.path,V.path).path});else{const k=Et({},O.params);for(const P in k)k[P]==null&&delete k[P];B=Et({},O,{params:d(k)}),V.params=d(V.params)}const Y=t.resolve(B,V),Tt=O.hash||"";Y.params=u(h(Y.params));const _=f_(n,Et({},O,{hash:a_(Tt),path:Y.path})),y=i.createHref(_);return Et({fullPath:_,hash:Tt,query:n===au?H_(O.query):O.query||{}},Y,{redirectedFrom:void 0,href:y})}function T(O){return typeof O=="string"?ia(s,O,l.value.path):Et({},O)}function x(O,V){if(c!==O)return Yn(8,{from:V,to:O})}function S(O){return C(O)}function E(O){return S(Et(T(O),{replace:!0}))}function L(O){const V=O.matched[O.matched.length-1];if(V&&V.redirect){const{redirect:B}=V;let Y=typeof B=="function"?B(O):B;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=T(Y):{path:Y},Y.params={}),Et({query:O.query,hash:O.hash,params:Y.path!=null?{}:O.params},Y)}}function C(O,V){const B=c=v(O),Y=l.value,Tt=O.state,_=O.force,y=O.replace===!0,k=L(B);if(k)return C(Et(T(k),{state:typeof k=="object"?Et({},Tt,k.state):Tt,force:_,replace:y}),V||B);const P=B;P.redirectedFrom=V;let M;return!_&&p_(n,Y,B)&&(M=Yn(16,{to:P,from:Y}),mt(Y,Y,!0,!1)),(M?Promise.resolve(M):Q(P,Y)).catch(A=>hs(A)?hs(A,2)?A:Xt(A):ht(A,P,Y)).then(A=>{if(A){if(hs(A,2))return C(Et({replace:y},T(A.to),{state:typeof A.to=="object"?Et({},Tt,A.to.state):Tt,force:_}),V||P)}else A=it(P,Y,!0,y,Tt);return K(P,Y,A),A})}function D(O,V){const B=x(O,V);return B?Promise.reject(B):Promise.resolve()}function U(O){const V=ie.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(O):O()}function Q(O,V){let B;const[Y,Tt,_]=Z_(O,V);B=ra(Y.reverse(),"beforeRouteLeave",O,V);for(const k of Y)k.leaveGuards.forEach(P=>{B.push(js(P,O,V))});const y=D.bind(null,O,V);return B.push(y),It(B).then(()=>{B=[];for(const k of r.list())B.push(js(k,O,V));return B.push(y),It(B)}).then(()=>{B=ra(Tt,"beforeRouteUpdate",O,V);for(const k of Tt)k.updateGuards.forEach(P=>{B.push(js(P,O,V))});return B.push(y),It(B)}).then(()=>{B=[];for(const k of _)if(k.beforeEnter)if(Xe(k.beforeEnter))for(const P of k.beforeEnter)B.push(js(P,O,V));else B.push(js(k.beforeEnter,O,V));return B.push(y),It(B)}).then(()=>(O.matched.forEach(k=>k.enterCallbacks={}),B=ra(_,"beforeRouteEnter",O,V,U),B.push(y),It(B))).then(()=>{B=[];for(const k of o.list())B.push(js(k,O,V));return B.push(y),It(B)}).catch(k=>hs(k,8)?k:Promise.reject(k))}function K(O,V,B){a.list().forEach(Y=>U(()=>Y(O,V,B)))}function it(O,V,B,Y,Tt){const _=x(O,V);if(_)return _;const y=V===Os,k=jn?history.state:{};B&&(Y||y?i.replace(O.fullPath,Et({scroll:y&&k&&k.scroll},Tt)):i.push(O.fullPath,Tt)),l.value=O,mt(O,V,B,y),Xt()}let _t;function Ht(){_t||(_t=i.listen((O,V,B)=>{if(!vt.listening)return;const Y=v(O),Tt=L(Y);if(Tt){C(Et(Tt,{replace:!0,force:!0}),Y).catch(Di);return}c=Y;const _=l.value;jn&&x_(Qc(_.fullPath,B.delta),jo()),Q(Y,_).catch(y=>hs(y,12)?y:hs(y,2)?(C(Et(T(y.to),{force:!0}),Y).then(k=>{hs(k,20)&&!B.delta&&B.type===Qi.pop&&i.go(-1,!1)}).catch(Di),Promise.reject()):(B.delta&&i.go(-B.delta,!1),ht(y,Y,_))).then(y=>{y=y||it(Y,_,!1),y&&(B.delta&&!hs(y,8)?i.go(-B.delta,!1):B.type===Qi.pop&&hs(y,20)&&i.go(-1,!1)),K(Y,_,y)}).catch(Di)}))}let yt=oi(),rt=oi(),Z;function ht(O,V,B){Xt(O);const Y=rt.list();return Y.length?Y.forEach(Tt=>Tt(O,V,B)):console.error(O),Promise.reject(O)}function le(){return Z&&l.value!==Os?Promise.resolve():new Promise((O,V)=>{yt.add([O,V])})}function Xt(O){return Z||(Z=!O,Ht(),yt.list().forEach(([V,B])=>O?B(O):V()),yt.reset()),O}function mt(O,V,B,Y){const{scrollBehavior:Tt}=e;if(!jn||!Tt)return Promise.resolve();const _=!B&&S_(Qc(O.fullPath,0))||(Y||!B)&&history.state&&history.state.scroll||null;return Co().then(()=>Tt(O,V,_)).then(y=>y&&w_(y)).catch(y=>ht(y,O,V))}const Ut=O=>i.go(O);let kt;const ie=new Set,vt={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:m,resolve:v,options:e,push:S,replace:E,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:rt.add,isReady:le,install(O){const V=this;O.component("RouterLink",K_),O.component("RouterView",J_),O.config.globalProperties.$router=V,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>dn(l)}),jn&&!kt&&l.value===Os&&(kt=!0,S(i.location).catch(Tt=>{}));const B={};for(const Tt in Os)Object.defineProperty(B,Tt,{get:()=>l.value[Tt],enumerable:!0});O.provide(Fo,V),O.provide(Df,Oh(B)),O.provide(za,l);const Y=O.unmount;ie.add(O),O.unmount=function(){ie.delete(O),ie.size<1&&(c=Os,_t&&_t(),_t=null,l.value=Os,kt=!1,Z=!1),Y()}}};function It(O){return O.reduce((V,B)=>V.then(()=>U(B)),Promise.resolve())}return vt}function Z_(e,t){const s=[],n=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Gn(c,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Gn(c,l))||i.push(l))}return[s,n,i]}function Ml(){return Ye(Fo)}const ty=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Il extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class ey extends Il{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sy extends Il{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ny extends Il{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ba;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ba||(Ba={}));var iy=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class ry{constructor(t,{headers:s={},customFetch:n,region:i=Ba.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=ty(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return iy(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new ey(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new sy(u);if(!u.ok)throw new ny(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}function oy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ay(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var Zt={},Tn={},En={},An={},Pn={},Cn={},ly=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xn=ly();const cy=Xn.fetch,Lf=Xn.fetch.bind(Xn),$f=Xn.Headers,uy=Xn.Request,dy=Xn.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:$f,Request:uy,Response:dy,default:Lf,fetch:cy},Symbol.toStringTag,{value:"Module"})),hy=ay(ti);var wr={},fu;function jf(){if(fu)return wr;fu=1,Object.defineProperty(wr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return wr.default=e,wr}var pu;function Ff(){if(pu)return Cn;pu=1;var e=Cn&&Cn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cn,"__esModule",{value:!0});const t=e(hy),s=e(jf());class n{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=Object.assign({},this.headers),this.headers[r]=o,this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h;let p=null,g=null,m=null,b=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=E:g=JSON.parse(E))}const x=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(g=[],p=null,b=200,v="OK")}catch{c.status===404&&x===""?(b=204,v="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,b=200,v="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:g,count:m,status:b,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return Cn.default=n,Cn}var gu;function Nf(){if(gu)return Pn;gu=1;var e=Pn&&Pn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pn,"__esModule",{value:!0});const t=e(Ff());class s extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Pn.default=s,Pn}var mu;function Dl(){if(mu)return An;mu=1;var e=An&&An.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(An,"__esModule",{value:!0});const t=e(Nf());class s extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return An.default=s,An}var bu;function Uf(){if(bu)return En;bu=1;var e=En&&En.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(En,"__esModule",{value:!0});const t=e(Dl());class s{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=r,this.schema=o,this.fetch=a}select(i,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:r,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:r}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const r="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return En.default=s,En}var ai={},li={},_u;function fy(){return _u||(_u=1,Object.defineProperty(li,"__esModule",{value:!0}),li.version=void 0,li.version="0.0.0-automated"),li}var yu;function py(){if(yu)return ai;yu=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.DEFAULT_HEADERS=void 0;const e=fy();return ai.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ai}var vu;function gy(){if(vu)return Tn;vu=1;var e=Tn&&Tn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tn,"__esModule",{value:!0});const t=e(Uf()),s=e(Dl()),n=py();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let p;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{h.searchParams.append(m,b)})):(d="POST",p=a);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new s.default({method:d,url:h,headers:g,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return Tn.default=i,Tn}var wu;function my(){if(wu)return Zt;wu=1;var e=Zt&&Zt.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const t=e(gy());Zt.PostgrestClient=t.default;const s=e(Uf());Zt.PostgrestQueryBuilder=s.default;const n=e(Dl());Zt.PostgrestFilterBuilder=n.default;const i=e(Nf());Zt.PostgrestTransformBuilder=i.default;const r=e(Ff());Zt.PostgrestBuilder=r.default;const o=e(jf());return Zt.PostgrestError=o.default,Zt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},Zt}var by=my();const _y=oy(by),{PostgrestClient:yy,PostgrestQueryBuilder:lC,PostgrestFilterBuilder:cC,PostgrestTransformBuilder:uC,PostgrestBuilder:dC,PostgrestError:hC}=_y;let Ha;typeof window>"u"?Ha=require("ws"):Ha=window.WebSocket;const vy="2.11.10",wy={"X-Client-Info":`realtime-js/${vy}`},xy="1.0.0",zf=1e4,Sy=1e3;var Hn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hn||(Hn={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var Ve;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ve||(Ve={}));var Wa;(function(e){e.websocket="websocket"})(Wa||(Wa={}));var an;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(an||(an={}));class ky{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Bf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const xu=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((r,o)=>(r[o]=Ty(o,e,t,i),r),{})},Ty=(e,t,s,n)=>{const i=t.find(a=>a.name===e),r=i==null?void 0:i.type,o=s[e];return r&&!n.includes(r)?Hf(r,o):Va(o)},Hf=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Cy(t,s)}switch(e){case Dt.bool:return Ey(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return Ay(t);case Dt.json:case Dt.jsonb:return Py(t);case Dt.timestamp:return Oy(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return Va(t);default:return Va(t)}},Va=e=>e,Ey=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ay=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Py=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cy=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let r;const o=e.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Hf(t,a))}return e},Oy=e=>typeof e=="string"?e.replace(" ","T"):e,Wf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class oa{constructor(t,s,n={},i=zf){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Su;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Su||(Su={}));class $i{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$i.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=$i.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$i.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const r=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const h=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),g=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(t,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ku;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ku||(ku={}));var Tu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tu||(Tu={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class Ll{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new oa(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new $i(this),this.broadcastEndpointURL=Wf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ys.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ys.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(ys.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:v,schema:T,table:x,filter:S}}=b,E=u&&u[m];if(E&&E.event===v&&E.schema===T&&E.table===x&&E.filter===S)g.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ys.SUBSCRIBED);return}}).receive("error",u=>{this.state=ye.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const i=new oa(this,Ve.leave,{},t);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new oa(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ve;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var g,m,b,v,T,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=s.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(T=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return S==="*"||S===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:b,commit_timestamp:v,type:T,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:v,eventType:T,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&Ll.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=xu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=xu(t.columns,t.old_record)),s}}const Eu=()=>{},Ry=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class My{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=wy,this.params={},this.timeout=zf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new ky,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Ks(async()=>{const{default:l}=await Promise.resolve().then(()=>ti);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Wa.websocket}`,this.httpEndpoint=Wf(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(r,o)=>o(JSON.stringify(r)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ha),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Iy(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xy}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return an.Connecting;case Hn.open:return an.Open;case Hn.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===n);if(i)return i;{const r=new Ll(`realtime:${t}`,s,this);return this.channels.push(r),r}}push(t){const{topic:s,event:n,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ve.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Sy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:r,ref:o}=s;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,r),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Ry],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Iy{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Hn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class $l extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Dy extends $l{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qa extends $l{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Ly=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},$y=()=>Ly(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ks(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),Ka=e=>{if(Array.isArray(e))return e.map(s=>Ka(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=Ka(n)}),t};var bn=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jy=(e,t,s)=>bn(void 0,void 0,void 0,function*(){const n=yield $y();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new Dy(aa(i),e.status||500))}).catch(i=>{t(new qa(aa(i),i))}):t(new qa(aa(e),e))}),Fy=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function pr(e,t,s,n,i,r){return bn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Fy(t,n,i,r)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jy(l,a,n))})})}function co(e,t,s,n){return bn(this,void 0,void 0,function*(){return pr(e,"GET",t,s,n)})}function Fs(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return pr(e,"POST",t,n,i,s)})}function Ny(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return pr(e,"PUT",t,n,i,s)})}function Uy(e,t,s,n){return bn(this,void 0,void 0,function*(){return pr(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function qf(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return pr(e,"DELETE",t,n,i,s)})}var Ee=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const zy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Au={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class By{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=Vf(i)}uploadOrUpdate(t,s,n,i){return Ee(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Au),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(r){if(te(r))return{data:null,error:r};throw r}})}upload(t,s,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return Ee(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Au.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:r,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const r=yield Fs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new $l("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}update(t,s,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}})}copy(t,s,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return Ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield Fs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return Ee(this,void 0,void 0,function*(){try{const i=yield Fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}})}download(t,s){return Ee(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield co(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}})}info(t){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield co(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ka(n),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}exists(t){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Uy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(te(n)&&n instanceof qa){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}list(t,s,n){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zy),s),{prefix:t||""});return{data:yield Fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Hy="2.7.1",Wy={"X-Client-Info":`storage-js/${Hy}`};var On=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Vy{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},Wy),s),this.fetch=Vf(n)}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(te(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return On(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}}class qy extends Vy{constructor(t,s={},n){super(t,s,n)}from(t){return new By(this.url,this.headers,t,this.fetch)}}const Ky="2.50.0";let vi="";typeof Deno<"u"?vi="deno":typeof document<"u"?vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vi="react-native":vi="node";const Gy={"X-Client-Info":`supabase-js-${vi}/${Ky}`},Yy={headers:Gy},Xy={schema:"public"},Jy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qy={};var Zy=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const t0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lf:t=fetch,(...s)=>t(...s)},e0=()=>typeof Headers>"u"?$f:Headers,s0=(e,t,s)=>{const n=t0(s),i=e0();return(r,o)=>Zy(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var n0=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function i0(e){return e.endsWith("/")?e:e+"/"}function r0(e,t){var s,n;const{db:i,auth:r,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>n0(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Kf="2.70.0",Fn=30*1e3,Ga=3,la=Ga*Fn,o0="http://localhost:9999",a0="supabase.auth.token",l0={"X-Client-Info":`gotrue-js/${Kf}`},Ya="X-Supabase-Api-Version",Gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u0=6e5;class jl extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function at(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class d0 extends jl{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function h0(e){return at(e)&&e.name==="AuthApiError"}class Yf extends jl{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ys extends jl{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class Is extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f0(e){return at(e)&&e.name==="AuthSessionMissingError"}class xr extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sr extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kr extends Ys{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p0(e){return at(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pu extends Ys{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xa extends Ys{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ca(e){return at(e)&&e.name==="AuthRetryableFetchError"}class Cu extends Ys{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class ji extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ou=` 	
\r=`.split(""),g0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ou.length;t+=1)e[Ou[t].charCodeAt(0)]=-2;for(let t=0;t<uo.length;t+=1)e[uo[t].charCodeAt(0)]=t;return e})();function Ru(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(uo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(uo[n]),t.queuedBits-=6}}function Xf(e,t,s){const n=g0[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mu(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{_0(o,n,s)};for(let o=0;o<e.length;o+=1)Xf(e.charCodeAt(o),i,r);return t.join("")}function m0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function b0(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}m0(n,t)}}function _0(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function y0(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Xf(e.charCodeAt(i),s,n);return new Uint8Array(t)}function v0(e){const t=[];return b0(e,s=>t.push(s)),new Uint8Array(t)}function w0(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Ru(i,s,n)),Ru(null,s,n),t.join("")}function x0(e){return Math.round(Date.now()/1e3)+e}function S0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},Fi=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function k0(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const Jf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},T0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qf=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Tr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Er=async(e,t)=>{await e.removeItem(t)};class No{constructor(){this.promise=new No.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}No.promiseConstructor=Promise;function ua(e){const t=e.split(".");if(t.length!==3)throw new ji("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!c0.test(t[n]))throw new ji("JWT not in base64url format");return{header:JSON.parse(Mu(t[0])),payload:JSON.parse(Mu(t[1])),signature:y0(t[2]),raw:{header:t[0],payload:t[1]}}}async function E0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A0(e,t){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await e(r);if(!t(r,null,o)){n(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function P0(e){return("0"+e.toString(16)).substr(-2)}function C0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,P0).join("")}async function O0(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function R0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await O0(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t,s=!1){const n=C0();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Qf(e,`${t}-code-verifier`,i);const r=await R0(n);return[r,n===r?"plain":"s256"]}const M0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I0(e){const t=e.headers.get(Ya);if(!t||!t.match(M0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function L0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(e){if(!$0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var j0=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F0=[502,503,504];async function Iu(e){var t;if(!T0(e))throw new Xa(nn(e),0);if(F0.includes(e.status))throw new Xa(nn(e),e.status);let s;try{s=await e.json()}catch(r){throw new Yf(nn(r),r)}let n;const i=I0(e);if(i&&i.getTime()>=Gf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Cu(nn(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Is}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Cu(nn(s),e.status,s.weak_password.reasons);throw new d0(nn(s),e.status||500,n)}const N0=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function pt(e,t,s,n){var i;const r=Object.assign({},n==null?void 0:n.headers);r[Ya]||(r[Ya]=Gf["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await U0(e,t,s+a,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function U0(e,t,s,n,i,r){const o=N0(t,n,i,r);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Xa(nn(l),0)}if(a.ok||await Iu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Iu(l)}}function ps(e){var t;let s=null;W0(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=x0(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function Du(e){const t=ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function z0(e){return{data:e,error:null}}function B0(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=e,o=j0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function H0(e){return e}function W0(e){return e.access_token&&e.refresh_token&&e.expires_in}const da=["global","local","others"];var V0=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class q0{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Jf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=da[0]){if(da.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${da.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Us})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=V0(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(at(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Us})}catch(s){if(at(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:H0});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(at(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Mn(t);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Us})}catch(s){if(at(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Mn(t);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Us})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Mn(t);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Us})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mn(t.userId);try{const{data:s,error:n}=await pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(at(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Mn(t.userId),Mn(t.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}}}const K0={getItem:e=>Fi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fi()&&globalThis.localStorage.removeItem(e)}};function Lu(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function G0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const In={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y0 extends Zf{}async function X0(e,t,s){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(In.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}G0();const J0={url:o0,storageKey:a0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:l0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $u(e,t,s){return await s()}class Zi{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},J0),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new q0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jf(i.fetch),this.lock=i.lock||$u,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:He()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=X0:this.lock=$u,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fi()?this.storage=K0:(this.memoryStorage={},this.storage=Lu(this.memoryStorage)):(this.memoryStorage={},this.storage=Lu(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=k0(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),He()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),p0(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return at(s)?{error:s}:{error:new Yf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const r=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ps}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var s,n,i;try{let r;if("email"in t){const{email:u,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rn(this.storage,this.storageKey)),r=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ps})}else if("phone"in t){const{phone:u,password:d,options:h}=t;r=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ps})}else throw new Sr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let s;if("email"in t){const{email:r,password:o,options:a}=t;s=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else if("phone"in t){const{phone:r,password:o,options:a}=t;s=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else throw new Sr("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,i,r,o,a,l,c,u,d,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:b,wallet:v,statement:T,options:x}=t;let S;if(He())if(typeof v=="object")S=v;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))S=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const E=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const L=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),T?{statement:T}:null));let C;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")C=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)C=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=x==null?void 0:x.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const L=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=L}}try{const{data:b,error:v}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:w0(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ps});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new xr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(at(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ps});if(await Er(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new xr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(at(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=t,a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ps}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rn(this.storage,this.storageKey));const{error:d}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Sr("You must provide either an email or phone number.")}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let i,r;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,r=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:ps});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(at(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Rn(this.storage,this.storageKey)),await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:z0})}catch(r){if(at(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Is;const{error:i}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:r}=t,{error:o}=await pt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:r}=t,{data:o,error:a}=await pt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Sr("You must provide either an email or phone number and a type")}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<la:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Us}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Is}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Us})})}catch(s){if(at(s))return f0(s)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new Is;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Rn(this.storage,this.storageKey));const{data:c,error:u}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Us});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Is;const s=Date.now()/1e3;let n=s,i=!0,r=null;const{payload:o}=ua(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(at(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Is;const{session:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!He())throw new kr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pu("No code detected.");const{data:T,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new kr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:m,error:b}=await this._getUser(r);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(at(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(h0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=S0(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rn(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(at(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return He()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(at(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await A0(async i=>(i>0&&await E0(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ps})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ca(r)&&Date.now()+o-n<Fn})}catch(n){if(this._debug(s,"error",n),at(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),He()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Tr(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<la;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${la}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:r}=await this._callRefreshToken(n.refresh_token);r&&(console.error(r),ca(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new No;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Is;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),at(r)){const o={session:null,error:r};return ca(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Er(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fn}ms, refresh threshold is ${Ga} ticks`),i<=Ga&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await Rn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(at(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(at(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(at(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ua(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+u0>Date.now()))return n;const{data:i,error:r}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!i.keys||i.keys.length===0)throw new ji("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===t),!n)throw new ji("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=ua(n);if(D0(r.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:r,header:i,signature:o},error:null}}const c=L0(i.alg),u=await this.fetchJwk(i.kid,s),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,v0(`${a}.${l}`)))throw new ji("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}}Zi.nextInstanceID=0;const Q0=Zi;class Z0 extends Q0{constructor(t){super(t)}}var tv=function(e,t,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class ev{constructor(t,s,n){var i,r,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=i0(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Xy,realtime:Qy,auth:Object.assign(Object.assign({},Jy),{storageKey:c}),global:Yy},d=r0(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=s0(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yy(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ry(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return tv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:r,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new My(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sv=(e,t,s)=>new ev(e,t,s),nv="https://afyhwaihedxliidkzclc.supabase.co",iv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmeWh3YWloZWR4bGlpZGt6Y2xjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMTEyMzcsImV4cCI6MjA2MzU4NzIzN30.nK6LnZtKI5TzTks2jCKgyoqPkE0d1pFJscusAwnGadc",G=sv(nv,iv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rv=Object.freeze(Object.defineProperty({__proto__:null,supabase:G},Symbol.toStringTag,{value:"Module"}));function ov(e=32){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}const tr=()=>{const e=ov(32);return document.cookie=`csrf-token=${e}; SameSite=Strict; path=/; secure`,e},ho=e=>{if(!e)return!1;const s=document.cookie.split(";").find(r=>r.trim().startsWith("csrf-token="));if(!s)return!1;const n=s.split("=")[1].trim();if(n.length!==e.length)return!1;let i=0;for(let r=0;r<n.length;r++)i|=n.charCodeAt(r)^e.charCodeAt(r);return i===0},Fl=()=>{const t=document.cookie.split(";").find(s=>s.trim().startsWith("csrf-token="));return t?t.split("=")[1].trim():null},ju=(e={})=>{const t=Fl()||tr();return{...e,"X-CSRF-Token":t}},av=async(e,t,s)=>{const n=e.matched.some(r=>r.meta.requiresAuth),i=e.matched.some(r=>r.meta.requiresAdmin);if(e.path==="/login"||e.path==="/register"){s();return}if(["POST","PUT","DELETE"].includes(e.meta.method)){const r=e.query.csrf_token||e.params.csrf_token;if(!r||!ho(r)){console.error("CSRF token verification failed"),s("/error?code=403");return}}try{const{data:r}=await G.auth.getSession(),o=r==null?void 0:r.session;let a=null;if(o){const{data:l}=await G.auth.getUser();a=l==null?void 0:l.user}if(n&&!a){s("/login");return}if(i&&a)try{const{data:l,error:c}=await G.from("profiles").select("is_admin").eq("id",a.id).single();if(c||!(l!=null&&l.is_admin)){s("/");return}}catch(l){console.error("Admin check error:",l),s("/");return}else if(i){s("/login");return}s()}catch(r){console.error("Auth error:",r),n||i?s("/login"):s()}},tp=Db("user",{state:()=>({user:null,isLoading:!1}),actions:{setUser(e){this.user=e},async loadUser(){this.isLoading=!0;try{const{data:e}=await G.auth.getSession();if(e!=null&&e.session){const{data:t}=await G.auth.getUser();if(t!=null&&t.user)return this.setUser(t.user),t.user}return this.setUser(null),null}catch(e){return console.error("Error loading user:",e),this.setUser(null),null}finally{this.isLoading=!1}}},persist:!0}),ep="/assets/food-tray-DyCIIG1J.png",lv={name:"AppHeader",setup(){const e=tp(),t=Ml(),s=qe(!1),n=async()=>{if(!e.user)return!1;try{const{data:o,error:a}=await G.from("profiles").select("is_admin").eq("id",e.user.id).single();return a||!o?!1:(s.value=o.is_admin===!0,o.is_admin===!0)}catch(o){return console.error("Error checking admin status:",o),!1}};Mo(async()=>{await e.loadUser(),e.user&&await n()});const i=async()=>{await G.auth.signOut(),e.setUser(null),t.push("/login")},r=Pe(()=>{var a,l;return(l=(a=e.user)==null?void 0:a.user_metadata)!=null&&l.full_name?e.user.user_metadata.full_name.split(" ").slice(0,2).map(c=>c[0]).join("").toUpperCase():"U"});return{user:Pe(()=>e.user),isAdmin:s,userInitials:r,handleLogout:i}},data(){return{navItems:[{path:"/",label:"Home"},{path:"/menu",label:"Meal Plans"},{path:"/testimonials",label:"Testimonials"},{path:"/subscription",label:"Subscription"},{path:"/contact",label:"Contact Us"}]}}},cv={class:"bg-base-100 shadow-md sticky top-0 z-50"},uv={class:"navbar container mx-auto"},dv={class:"flex-1"},hv={class:"flex-none hidden md:block"},fv={class:"menu menu-horizontal px-1 space-x-2"},pv={key:0,class:"dropdown dropdown-end ml-4"},gv={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle avatar"},mv={class:"w-10 rounded-full bg-primary text-primary-content flex items-center justify-center"},bv={tabindex:"0",class:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52"},_v={key:0},yv={key:1,class:"flex items-center space-x-4 ml-4"},vv={class:"flex-none md:hidden"},wv={class:"dropdown dropdown-end"},xv={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"},Sv={key:0},kv={key:1},Tv={key:2},Ev={key:3};function Av(e,t,s,n,i,r){const o=dt("router-link");return R(),I("header",cv,[f("div",uv,[f("div",dv,[W(o,{to:"/",class:"flex items-center"},{default:Bt(()=>t[2]||(t[2]=[f("div",{class:"avatar"},[f("div",{class:"w-16 rounded-full p-2"},[f("img",{src:ep,alt:"SEA Catering Logo",class:"w-full h-full object-cover"})])],-1),f("div",{class:"ml-4"},[f("h1",{class:"text-2xl font-bold text-primary"},"SEA Catering"),f("p",{class:"text-secondary text-sm"},"Healthy Meals, Anytime, Anywhere")],-1)])),_:1,__:[2]})]),f("div",hv,[f("ul",fv,[(R(!0),I(Ot,null,ee(i.navItems,(a,l)=>(R(),I("li",{key:l},[W(o,{to:a.path,class:we([{"text-primary font-bold":e.$route.path===a.path},"text-lg hover:text-primary transition-colors"])},{default:Bt(()=>[ct(q(a.label),1)]),_:2},1032,["to","class"])]))),128)),n.user?(R(),I("div",pv,[f("div",gv,[f("div",mv,[f("span",null,q(n.userInitials),1)])]),f("ul",bv,[f("li",null,[W(o,{to:"/profile",class:"justify-between"},{default:Bt(()=>t[3]||(t[3]=[ct(" Profile ")])),_:1,__:[3]})]),f("li",null,[W(o,{to:"/dashboard",class:"justify-between"},{default:Bt(()=>t[4]||(t[4]=[ct(" My Subscriptions "),f("span",{class:"badge badge-primary"},"New",-1)])),_:1,__:[4]})]),n.isAdmin?(R(),I("li",_v,[W(o,{to:"/admin",class:"justify-between"},{default:Bt(()=>t[5]||(t[5]=[ct(" Admin Dashboard ")])),_:1,__:[5]})])):xt("",!0),f("li",null,[f("a",{onClick:t[0]||(t[0]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])])])):(R(),I("div",yv,[W(o,{to:"/login",class:"btn btn-outline btn-primary btn-sm"},{default:Bt(()=>t[6]||(t[6]=[ct("Login")])),_:1,__:[6]}),W(o,{to:"/register",class:"btn btn-primary btn-sm"},{default:Bt(()=>t[7]||(t[7]=[ct("Register")])),_:1,__:[7]})]))])]),f("div",vv,[f("div",wv,[t[13]||(t[13]=f("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-circle"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),f("ul",xv,[(R(!0),I(Ot,null,ee(i.navItems,(a,l)=>(R(),I("li",{key:l},[W(o,{to:a.path,class:we({"text-primary font-bold":e.$route.path===a.path})},{default:Bt(()=>[ct(q(a.label),1)]),_:2},1032,["to","class"])]))),128)),n.user?(R(),I("li",Sv,[W(o,{to:"/profile"},{default:Bt(()=>t[8]||(t[8]=[ct("Profile")])),_:1,__:[8]})])):xt("",!0),n.user?(R(),I("li",kv,[W(o,{to:"/dashboard"},{default:Bt(()=>t[9]||(t[9]=[ct("My Subscriptions")])),_:1,__:[9]})])):xt("",!0),n.user&&n.isAdmin?(R(),I("li",Tv,[W(o,{to:"/admin"},{default:Bt(()=>t[10]||(t[10]=[ct("Admin Dashboard")])),_:1,__:[10]})])):xt("",!0),n.user?(R(),I("li",Ev,[f("a",{onClick:t[1]||(t[1]=(...a)=>n.handleLogout&&n.handleLogout(...a))},"Logout")])):xt("",!0),n.user?xt("",!0):(R(),I(Ot,{key:4},[f("li",null,[W(o,{to:"/login"},{default:Bt(()=>t[11]||(t[11]=[ct("Login")])),_:1,__:[11]})]),f("li",null,[W(o,{to:"/register"},{default:Bt(()=>t[12]||(t[12]=[ct("Register")])),_:1,__:[12]})])],64))])])])])])}const Ps=Rt(lv,[["render",Av],["__scopeId","data-v-facdc4fc"]]),Pv={name:"AppFooter"};function Cv(e,t,s,n,i,r){return t[0]||(t[0]=dr('<footer class="bg-base-200 text-base-content py-12 px-6" data-v-35502c4d><div class="container mx-auto" data-v-35502c4d><div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-10 sm:gap-x-8" data-v-35502c4d><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>SERVICES</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Meal Plans</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Corporate Catering</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Special Diets</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Nutrition Consulting</a></li></ul></div><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>COMPANY</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>About us</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Contact</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Careers</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Press kit</a></li></ul></div><div class="flex flex-col items-center sm:items-start" data-v-35502c4d><span class="footer-title mb-6" data-v-35502c4d>LEGAL</span><ul class="footer-links flex flex-col space-y-3 items-center sm:items-start" data-v-35502c4d><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Terms of use</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Privacy policy</a></li><li data-v-35502c4d><a class="link-hover" data-v-35502c4d>Cookie policy</a></li></ul></div></div></div></footer><footer class="bg-base-200 text-base-content border-t border-base-300 py-6 px-6" data-v-35502c4d><div class="container mx-auto flex flex-col md:flex-row justify-between items-center" data-v-35502c4d><aside class="flex items-center mb-6 md:mb-0" data-v-35502c4d><div class="avatar mr-4" data-v-35502c4d><div class="w-12 rounded-full bg-primary/10 p-2" data-v-35502c4d><img src="'+ep+'" alt="SEA Catering Logo" class="w-full h-full object-cover" data-v-35502c4d></div></div><div data-v-35502c4d><p class="font-bold text-lg" data-v-35502c4d>SEA Catering</p><p class="text-sm" data-v-35502c4d>Healthy meals delivered across Indonesia</p></div></aside><div class="text-center md:text-right text-sm" data-v-35502c4d><p class="mb-1" data-v-35502c4d>© 2023 SEA Catering. All rights reserved.</p><p data-v-35502c4d> Contact: <a href="mailto:manager@seacatering.id" class="hover:text-primary" data-v-35502c4d>manager@seacatering.id</a> | <a href="tel:+6281234567890" class="hover:text-primary" data-v-35502c4d>+62 812-3456-789</a></p></div></div></footer>',2))}const Cs=Rt(Pv,[["render",Cv],["__scopeId","data-v-35502c4d"]]),sp=async()=>{try{const{data:e,error:t}=await G.auth.getUser();if(t||!(e!=null&&e.user))return!1;const{data:s,error:n}=await G.from("profiles").select("is_admin").eq("id",e.user.id).single();return!(n||!s||!s.is_admin)}catch(e){return console.error("Admin verification error:",e),!1}},Ov=async(e=null,t=null)=>{if(!await sp())throw new Error("Unauthorized access. Admin privileges required.");if(!e){const n=new Date;n.setMonth(n.getMonth()-1),e=n.toISOString().split("T")[0]}t||(t=new Date().toISOString().split("T")[0]);try{const{data:n,error:i}=await G.from("subscriptions").select("*").or("status.eq.active,status.is.null");if(i)throw i;const{data:r,error:o}=await G.from("subscriptions").select("*").gte("created_at",`${e}T00:00:00`).lte("created_at",`${t}T23:59:59`);if(o)throw o;const{data:a,error:l}=await G.from("subscriptions").select("*").not("reactivated_at","is",null).gte("reactivated_at",`${e}T00:00:00`).lte("reactivated_at",`${t}T23:59:59`);if(l)throw l;let c=0;return n&&(c=n.reduce((u,d)=>u+(d.total_price||0),0)),{activeSubscriptions:n?n.length:0,newSubscriptions:r?r.length:0,reactivations:a?a.length:0,monthlyRevenue:c,subscriptionGrowth:r?r.length-(a?a.length:0):0}}catch(n){return console.error("Error fetching admin dashboard data:",n),{activeSubscriptions:0,newSubscriptions:0,reactivations:0,monthlyRevenue:0,subscriptionGrowth:0}}},Rv=async()=>{if(!await sp())throw new Error("Unauthorized access. Admin privileges required.");const{data:t,error:s}=await G.from("subscriptions").select("*").order("created_at",{ascending:!1}).limit(100);if(s)throw console.error("Error fetching subscriptions:",s),s;return t},Mv={name:"SubscriptionTable",data(){return{subscriptions:[],currentPage:1,itemsPerPage:10,searchQuery:"",showModal:!1,selectedSubscription:null}},computed:{filteredSubscriptions(){return this.subscriptions.filter(e=>{const t=this.searchQuery.toLowerCase();return e.name.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t)||e.plan.toLowerCase().includes(t)})},totalPages(){return Math.ceil(this.filteredSubscriptions.length/this.itemsPerPage)},paginatedSubscriptions(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredSubscriptions.slice(e,t)}},async mounted(){this.subscriptions=await Rv()},methods:{formatPrice(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)},formatDate(e){const t={year:"numeric",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},viewDetails(e){this.selectedSubscription=e,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedSubscription=null}}},Iv={class:"overflow-x-auto"},Dv={class:"flex justify-between items-center mb-6"},Lv={class:"flex gap-2"},$v={class:"table table-zebra w-full"},jv={class:"flex items-center gap-3"},Fv={class:"avatar"},Nv={class:"mask mask-squircle w-12 h-12 bg-primary text-white flex items-center justify-center"},Uv={class:"font-bold"},zv={class:"text-sm opacity-50"},Bv={class:"plan-badge"},Hv={class:"flex flex-wrap gap-1"},Wv={class:"flex flex-wrap gap-1"},Vv={class:"font-bold"},qv=["onClick"],Kv={class:"flex justify-center mt-8"},Gv={class:"join"},Yv=["disabled"],Xv={class:"join-item btn"},Jv=["disabled"],Qv={class:"modal-box max-w-2xl"},Zv={key:0,class:"space-y-4"},tw={class:"grid grid-cols-2 gap-4"},ew={key:0},sw={class:"plan-badge"},nw={class:"grid grid-cols-7 gap-2"},iw={class:"flex gap-2"},rw={class:"modal-action"};function ow(e,t,s,n,i,r){return R(),I("div",Iv,[f("div",Dv,[t[5]||(t[5]=f("h2",{class:"text-2xl font-bold"},"Subscriptions",-1)),f("div",Lv,[$t(f("input",{type:"text",placeholder:"Search...",class:"input input-bordered","onUpdate:modelValue":t[0]||(t[0]=o=>i.searchQuery=o)},null,512),[[Wt,i.searchQuery]]),t[4]||(t[4]=f("button",{class:"btn btn-primary"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),f("table",$v,[t[6]||(t[6]=f("thead",null,[f("tr",null,[f("th",null,"ID"),f("th",null,"Customer"),f("th",null,"Plan"),f("th",null,"Meals"),f("th",null,"Days"),f("th",null,"Price"),f("th",null,"Date"),f("th",null,"Actions")])],-1)),f("tbody",null,[(R(!0),I(Ot,null,ee(r.filteredSubscriptions,o=>(R(),I("tr",{key:o.id},[f("td",null,q(o.id),1),f("td",null,[f("div",jv,[f("div",Fv,[f("div",Nv,q(o.name.charAt(0)),1)]),f("div",null,[f("div",Uv,q(o.name),1),f("div",zv,q(o.phone),1)])])]),f("td",null,[f("div",null,[f("span",Bv,q(o.plan),1)])]),f("td",null,[f("div",Hv,[(R(!0),I(Ot,null,ee(o.meal_types,(a,l)=>(R(),I("span",{key:l,class:"badge badge-ghost"},q(a),1))),128))])]),f("td",null,[f("div",Wv,[(R(!0),I(Ot,null,ee(o.days,(a,l)=>(R(),I("span",{key:l,class:"badge badge-accent"},q(a.substring(0,3)),1))),128))])]),f("td",Vv,q(r.formatPrice(o.total_price)),1),f("td",null,q(r.formatDate(o.created_at)),1),f("td",null,[f("button",{class:"btn btn-ghost btn-xs",onClick:a=>r.viewDetails(o)},"Details",8,qv)])]))),128))])]),f("div",Kv,[f("div",Gv,[f("button",{class:"join-item btn",disabled:i.currentPage===1,onClick:t[1]||(t[1]=(...o)=>r.prevPage&&r.prevPage(...o))},"«",8,Yv),f("button",Xv,"Page "+q(i.currentPage),1),f("button",{class:"join-item btn",disabled:i.currentPage===r.totalPages,onClick:t[2]||(t[2]=(...o)=>r.nextPage&&r.nextPage(...o))}," » ",8,Jv)])]),f("div",{class:we(["modal",{"modal-open":i.showModal}])},[f("div",Qv,[t[19]||(t[19]=f("h3",{class:"font-bold text-2xl mb-4"},"Subscription Details",-1)),i.selectedSubscription?(R(),I("div",Zv,[f("div",tw,[f("div",null,[t[10]||(t[10]=f("h4",{class:"font-bold text-lg"},"Customer Information",-1)),f("p",null,[t[7]||(t[7]=f("strong",null,"Name:",-1)),ct(" "+q(i.selectedSubscription.name),1)]),f("p",null,[t[8]||(t[8]=f("strong",null,"Phone:",-1)),ct(" "+q(i.selectedSubscription.phone),1)]),i.selectedSubscription.allergies?(R(),I("p",ew,[t[9]||(t[9]=f("strong",null,"Allergies:",-1)),ct(" "+q(i.selectedSubscription.allergies),1)])):xt("",!0)]),f("div",null,[t[14]||(t[14]=f("h4",{class:"font-bold text-lg"},"Plan Details",-1)),f("p",null,[t[11]||(t[11]=f("strong",null,"Plan:",-1)),f("span",sw,q(i.selectedSubscription.plan),1)]),f("p",null,[t[12]||(t[12]=f("strong",null,"Total Price:",-1)),ct(" "+q(r.formatPrice(i.selectedSubscription.total_price)),1)]),f("p",null,[t[13]||(t[13]=f("strong",null,"Start Date:",-1)),ct(" "+q(r.formatDate(i.selectedSubscription.created_at)),1)])])]),t[17]||(t[17]=f("div",{class:"divider"},null,-1)),f("div",null,[t[15]||(t[15]=f("h4",{class:"font-bold text-lg mb-2"},"Delivery Schedule",-1)),f("div",nw,[(R(),I(Ot,null,ee(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],o=>f("div",{key:o,class:we(["text-center p-2 rounded border",{"bg-primary text-white":i.selectedSubscription.days.includes(o),"bg-base-200":!i.selectedSubscription.days.includes(o)}])},q(o.substring(0,3)),3)),64))])]),t[18]||(t[18]=f("div",{class:"divider"},null,-1)),f("div",null,[t[16]||(t[16]=f("h4",{class:"font-bold text-lg mb-2"},"Meal Types",-1)),f("div",iw,[(R(),I(Ot,null,ee(["breakfast","lunch","dinner"],o=>f("div",{key:o,class:we(["badge badge-lg",{"badge-primary":i.selectedSubscription.meal_types.includes(o),"badge-ghost":!i.selectedSubscription.meal_types.includes(o)}])},q(o),3)),64))])])])):xt("",!0),f("div",rw,[f("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>r.closeModal&&r.closeModal(...o))},"Close")])])],2)])}const aw=Rt(Mv,[["render",ow],["__scopeId","data-v-9b07023b"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gr(e){return e+.5|0}const zs=(e,t,s)=>Math.max(Math.min(e,s),t);function wi(e){return zs(gr(e*2.55),0,255)}function Ws(e){return zs(gr(e*255),0,255)}function vs(e){return zs(gr(e/2.55)/100,0,1)}function Fu(e){return zs(gr(e*100),0,100)}const Le={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ja=[..."0123456789ABCDEF"],lw=e=>Ja[e&15],cw=e=>Ja[(e&240)>>4]+Ja[e&15],Ar=e=>(e&240)>>4===(e&15),uw=e=>Ar(e.r)&&Ar(e.g)&&Ar(e.b)&&Ar(e.a);function dw(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Le[e[1]]*17,g:255&Le[e[2]]*17,b:255&Le[e[3]]*17,a:t===5?Le[e[4]]*17:255}:(t===7||t===9)&&(s={r:Le[e[1]]<<4|Le[e[2]],g:Le[e[3]]<<4|Le[e[4]],b:Le[e[5]]<<4|Le[e[6]],a:t===9?Le[e[7]]<<4|Le[e[8]]:255})),s}const hw=(e,t)=>e<255?t(e):"";function fw(e){var t=uw(e)?lw:cw;return e?"#"+t(e.r)+t(e.g)+t(e.b)+hw(e.a,t):void 0}const pw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function np(e,t,s){const n=t*Math.min(s,1-s),i=(r,o=(r+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function gw(e,t,s){const n=(i,r=(i+e/60)%6)=>s-s*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function mw(e,t,s){const n=np(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function bw(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function Nl(e){const s=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=bw(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Ul(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Ws)}function zl(e,t,s){return Ul(np,e,t,s)}function _w(e,t,s){return Ul(mw,e,t,s)}function yw(e,t,s){return Ul(gw,e,t,s)}function ip(e){return(e%360+360)%360}function vw(e){const t=pw.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?wi(+t[5]):Ws(+t[5]));const i=ip(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=_w(i,r,o):t[1]==="hsv"?n=yw(i,r,o):n=zl(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function ww(e,t){var s=Nl(e);s[0]=ip(s[0]+t),s=zl(s),e.r=s[0],e.g=s[1],e.b=s[2]}function xw(e){if(!e)return;const t=Nl(e),s=t[0],n=Fu(t[1]),i=Fu(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${vs(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Nu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Sw(){const e={},t=Object.keys(Uu),s=Object.keys(Nu);let n,i,r,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,Nu[r]);r=parseInt(Uu[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Pr;function kw(e){Pr||(Pr=Sw(),Pr.transparent=[0,0,0,0]);const t=Pr[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Tw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ew(e){const t=Tw.exec(e);let s=255,n,i,r;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?wi(o):zs(o*255,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?wi(n):zs(n,0,255)),i=255&(t[4]?wi(i):zs(i,0,255)),r=255&(t[6]?wi(r):zs(r,0,255)),{r:n,g:i,b:r,a:s}}}function Aw(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ha=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Dn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Pw(e,t,s){const n=Dn(vs(e.r)),i=Dn(vs(e.g)),r=Dn(vs(e.b));return{r:Ws(ha(n+s*(Dn(vs(t.r))-n))),g:Ws(ha(i+s*(Dn(vs(t.g))-i))),b:Ws(ha(r+s*(Dn(vs(t.b))-r))),a:e.a+s*(t.a-e.a)}}function Cr(e,t,s){if(e){let n=Nl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=zl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function rp(e,t){return e&&Object.assign(t||{},e)}function zu(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ws(e[3]))):(t=rp(e,{r:0,g:0,b:0,a:1}),t.a=Ws(t.a)),t}function Cw(e){return e.charAt(0)==="r"?Ew(e):vw(e)}class er{constructor(t){if(t instanceof er)return t;const s=typeof t;let n;s==="object"?n=zu(t):s==="string"&&(n=dw(t)||kw(t)||Cw(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=rp(this._rgb);return t&&(t.a=vs(t.a)),t}set rgb(t){this._rgb=zu(t)}rgbString(){return this._valid?Aw(this._rgb):void 0}hexString(){return this._valid?fw(this._rgb):void 0}hslString(){return this._valid?xw(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=Pw(this._rgb,t._rgb,s)),this}clone(){return new er(this.rgb)}alpha(t){return this._rgb.a=Ws(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=gr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cr(this._rgb,2,t),this}darken(t){return Cr(this._rgb,2,-t),this}saturate(t){return Cr(this._rgb,1,t),this}desaturate(t){return Cr(this._rgb,1,-t),this}rotate(t){return ww(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fs(){}const Ow=(()=>{let e=0;return()=>e++})();function jt(e){return e==null}function se(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ue(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ts(e,t){return Ue(e)?e:t}function bt(e,t){return typeof e>"u"?t:e}const Rw=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Nt(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Ct(e,t,s,n){let i,r,o;if(se(e))for(r=e.length,i=0;i<r;i++)t.call(s,e[i],i);else if(St(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(s,e[o[i]],o[i])}function fo(e,t){let s,n,i,r;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],r=t[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function po(e){if(se(e))return e.map(po);if(St(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=po(e[s[i]]);return t}return e}function op(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Mw(e,t,s,n){if(!op(e))return;const i=t[e],r=s[e];St(i)&&St(r)?sr(i,r,n):t[e]=po(r)}function sr(e,t,s){const n=se(t)?t:[t],i=n.length;if(!St(e))return e;s=s||{};const r=s.merger||Mw;let o;for(let a=0;a<i;++a){if(o=n[a],!St(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,s)}return e}function Ni(e,t){return sr(e,t,{merger:Iw})}function Iw(e,t,s){if(!op(e))return;const n=t[e],i=s[e];St(n)&&St(i)?Ni(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=po(i))}const Bu={"":e=>e,x:e=>e.x,y:e=>e.y};function Dw(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function Lw(e){const t=Dw(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function go(e,t){return(Bu[t]||(Bu[t]=Lw(t)))(e)}function Bl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const mo=e=>typeof e<"u",Gs=e=>typeof e=="function",Hu=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function $w(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ne=Math.PI,os=2*ne,jw=os+ne,bo=Number.POSITIVE_INFINITY,Fw=ne/180,Ke=ne/2,Zs=ne/4,Wu=ne*2/3,ap=Math.log10,Jn=Math.sign;function Ui(e,t,s){return Math.abs(e-t)<s}function Vu(e){const t=Math.round(e);e=Ui(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(ap(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Nw(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,r)=>i-r).pop(),t}function Uw(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function nr(e){return!Uw(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function zw(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Bw(e,t,s){let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n][s],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ln(e){return e*(ne/180)}function Hw(e){return e*(180/ne)}function qu(e){if(!Ue(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Ww(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*ne&&(r+=os),{angle:r,distance:i}}function Qa(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Vw(e,t){return(e-t+jw)%os-ne}function Ds(e){return(e%os+os)%os}function lp(e,t,s,n){const i=Ds(e),r=Ds(t),o=Ds(s),a=Ds(r-i),l=Ds(o-i),c=Ds(i-r),u=Ds(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function $e(e,t,s){return Math.max(t,Math.min(s,e))}function qw(e){return $e(e,-32768,32767)}function xi(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Hl(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const cn=(e,t,s,n)=>Hl(e,s,n?i=>{const r=e[i][t];return r<s||r===s&&e[i+1][t]===s}:i=>e[i][t]<s),Kw=(e,t,s)=>Hl(e,s,n=>e[n][t]>=s);function Gw(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const cp=["push","pop","shift","splice","unshift"];function Yw(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cp.forEach(s=>{const n="_onData"+Bl(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function Ku(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(cp.forEach(r=>{delete e[r]}),delete e._chartjs)}function Xw(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const up=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function dp(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,up.call(window,()=>{n=!1,e.apply(t,s)}))}}function Jw(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const Wl=e=>e==="start"?"left":e==="end"?"right":"center",de=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,Qw=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function Zw(e,t,s){const n=t.length;let i=0,r=n;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(i=Math.min(cn(l,u,d).lo,s?n:cn(t,u,o.getPixelForValue(d)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(b=>!jt(b[a.axis]));i-=Math.max(0,m)}i=$e(i,0,n-1)}if(g){let m=Math.max(cn(l,o.axis,h,!0).hi+1,s?0:cn(t,u,o.getPixelForValue(h),!0).hi+1);if(c){const b=l.slice(m-1).findIndex(v=>!jt(v[a.axis]));m+=Math.max(0,b)}r=$e(m,i,n)-i}else r=n-i}return{start:i,count:r}}function tx(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const Or=e=>e===0||e===1,Gu=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*os/s)),Yu=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*os/s)+1,zi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ke)+1,easeOutSine:e=>Math.sin(e*Ke),easeInOutSine:e=>-.5*(Math.cos(ne*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Or(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Or(e)?e:Gu(e,.075,.3),easeOutElastic:e=>Or(e)?e:Yu(e,.075,.3),easeInOutElastic(e){return Or(e)?e:e<.5?.5*Gu(e*2,.1125,.45):.5+.5*Yu(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-zi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?zi.easeInBounce(e*2)*.5:zi.easeOutBounce(e*2-1)*.5+.5};function Vl(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Xu(e){return Vl(e)?e:new er(e)}function fa(e){return Vl(e)?e:new er(e).saturate(.5).darken(.1).hexString()}const ex=["x","y","borderWidth","radius","tension"],sx=["color","borderColor","backgroundColor"];function nx(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:sx},numbers:{type:"number",properties:ex}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ix(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ju=new Map;function rx(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Ju.get(s);return n||(n=new Intl.NumberFormat(e,t),Ju.set(s,n)),n}function hp(e,t,s){return rx(t,s).format(e)}const ox={values(e){return se(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,r=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=ax(e,s)}const o=ap(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hp(e,n,l)}};function ax(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var fp={formatters:ox};function lx(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const gn=Object.create(null),Za=Object.create(null);function Bi(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];e=e[r]||(e[r]=Object.create(null))}return e}function pa(e,t,s){return typeof t=="string"?sr(Bi(e,t),s):sr(Bi(e,""),t)}class cx{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>fa(i.backgroundColor),this.hoverBorderColor=(n,i)=>fa(i.borderColor),this.hoverColor=(n,i)=>fa(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return pa(this,t,s)}get(t){return Bi(this,t)}describe(t,s){return pa(Za,t,s)}override(t,s){return pa(gn,t,s)}route(t,s,n,i){const r=Bi(this,t),o=Bi(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return St(l)?Object.assign({},c,l):bt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Vt=new cx({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nx,ix,lx]);function ux(e){return!e||jt(e.size)||jt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Qu(e,t,s,n,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,s.push(i)),r>n&&(n=r),n}function tn(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Zu(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function tl(e,t,s,n){pp(e,t,s,n,null)}function pp(e,t,s,n,i){let r,o,a,l,c,u,d,h;const p=t.pointStyle,g=t.rotation,m=t.radius;let b=(g||0)*Fw;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,m,0,0,os):e.arc(s,n,m,0,os),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*m),b+=Wu,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*m),b+=Wu,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(b+Zs)*l,d=Math.cos(b+Zs)*(i?i/2-c:l),a=Math.sin(b+Zs)*l,h=Math.sin(b+Zs)*(i?i/2-c:l),e.arc(s-d,n-a,c,b-ne,b-Ke),e.arc(s+h,n-o,c,b-Ke,b),e.arc(s+d,n+a,c,b,b+Ke),e.arc(s-h,n+o,c,b+Ke,b+ne),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(s-u,n-l,2*u,2*l);break}b+=Zs;case"rectRot":d=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,h=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+h,n-o),e.lineTo(s+d,n+a),e.lineTo(s-h,n+o),e.closePath();break;case"crossRot":b+=Zs;case"cross":d=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,h=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-o),e.lineTo(s-h,n+o);break;case"star":d=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,h=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-o),e.lineTo(s-h,n+o),b+=Zs,d=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,h=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-o),e.lineTo(s-h,n+o);break;case"line":o=i?i/2:Math.cos(b)*m,a=Math.sin(b)*m,e.moveTo(s-o,n-a),e.lineTo(s+o,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:m),n+Math.sin(b)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ir(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function ql(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Kl(e){e.restore()}function dx(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const r=(t.x+s.x)/2;e.lineTo(r,t.y),e.lineTo(r,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function hx(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function fx(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),jt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function px(e,t,s,n,i){if(i.strikethrough||i.underline){const r=e.measureText(n),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function gx(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function rr(e,t,s,n,i,r={}){const o=se(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,fx(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&gx(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,s,n,r.maxWidth)),e.fillText(c,s,n,r.maxWidth),px(e,s,n,c,r),n+=Number(i.lineHeight);e.restore()}function el(e,t){const{x:s,y:n,w:i,h:r,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*ne,ne,!0),e.lineTo(s,n+r-o.bottomLeft),e.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,ne,Ke,!0),e.lineTo(s+i-o.bottomRight,n+r),e.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Ke,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-Ke,!0),e.lineTo(s+o.topLeft,n)}const mx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _x(e,t){const s=(""+e).match(mx);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const yx=e=>+e||0;function gp(e,t){const s={},n=St(t),i=n?Object.keys(t):t,r=St(e)?n?o=>bt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=yx(r(o));return s}function vx(e){return gp(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Hi(e){return gp(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ze(e){const t=vx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pe(e,t){e=e||{},t=t||Vt.font;let s=bt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=bt(e.style,t.style);n&&!(""+n).match(bx)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:bt(e.family,t.family),lineHeight:_x(bt(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:bt(e.weight,t.weight),string:""};return i.string=ux(i),i}function Rr(e,t,s,n){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function wx(e,t,s){const{min:n,max:i}=e,r=Rw(t,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function _n(e,t){return Object.assign(Object.create(e),t)}function Gl(e,t=[""],s,n,i=()=>e[0]){const r=s||e;typeof n>"u"&&(n=yp("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>Gl([a,...e],t,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return bp(a,l,()=>Cx(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return ed(a).includes(l)},ownKeys(a){return ed(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Qn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:mp(e,n),setContext:r=>Qn(e,r,s,n),override:r=>Qn(e.override(r),t,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return bp(r,o,()=>Sx(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function mp(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Gs(s)?s:()=>s,isIndexable:Gs(n)?n:()=>n}}const xx=(e,t)=>e?e+Bl(t):t,Yl=(e,t)=>St(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bp(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function Sx(e,t,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=e;let a=n[t];return Gs(a)&&o.isScriptable(t)&&(a=kx(t,a,e,s)),se(a)&&a.length&&(a=Tx(t,a,e,o.isIndexable)),Yl(t,a)&&(a=Qn(a,i,r&&r[t],o)),a}function kx(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||n);return a.delete(e),Yl(e,l)&&(l=Xl(i._scopes,i,e,l)),l}function Tx(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(e))return t[r.index%t.length];if(St(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=Xl(c,i,e,u);t.push(Qn(d,r,o&&o[e],a))}}return t}function _p(e,t,s){return Gs(e)?e(t,s):e}const Ex=(e,t)=>e===!0?t:typeof e=="string"?go(t,e):void 0;function Ax(e,t,s,n,i){for(const r of t){const o=Ex(s,r);if(o){e.add(o);const a=_p(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function Xl(e,t,s,n){const i=t._rootScopes,r=_p(t._fallback,s,n),o=[...e,...i],a=new Set;a.add(n);let l=td(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=td(a,o,r,l,n),l===null)?!1:Gl(Array.from(a),[""],i,r,()=>Px(t,s,n))}function td(e,t,s,n,i){for(;s;)s=Ax(e,t,s,n,i);return s}function Px(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return se(i)&&St(s)?s:i||{}}function Cx(e,t,s,n){let i;for(const r of t)if(i=yp(xx(r,e),s),typeof i<"u")return Yl(e,i)?Xl(s,n,e,i):i}function yp(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function ed(e){let t=e._keys;return t||(t=e._keys=Ox(e._scopes)),t}function Ox(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const Rx=Number.EPSILON||1e-14,Zn=(e,t)=>t<e.length&&!e[t].skip&&e[t],vp=e=>e==="x"?"y":"x";function Mx(e,t,s,n){const i=e.skip?t:e,r=t,o=s.skip?t:s,a=Qa(r,i),l=Qa(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function Ix(e,t,s){const n=e.length;let i,r,o,a,l,c=Zn(e,0);for(let u=0;u<n-1;++u)if(l=c,c=Zn(e,u+1),!(!l||!c)){if(Ui(t[u],0,Rx)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],r=s[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=i*o*t[u],s[u+1]=r*o*t[u])}}function Dx(e,t,s="x"){const n=vp(s),i=e.length;let r,o,a,l=Zn(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Zn(e,c+1),!a)continue;const u=a[s],d=a[n];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${n}`]=d-r*t[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${n}`]=d+r*t[c])}}function Lx(e,t="x"){const s=vp(t),n=e.length,i=Array(n).fill(0),r=Array(n);let o,a,l,c=Zn(e,0);for(o=0;o<n;++o)if(a=l,l=c,c=Zn(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?Jn(i[o-1])!==Jn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}Ix(e,i,r),Dx(e,r,t)}function Mr(e,t,s){return Math.max(Math.min(e,s),t)}function $x(e,t){let s,n,i,r,o,a=ir(e[0],t);for(s=0,n=e.length;s<n;++s)o=r,r=a,a=s<n-1&&ir(e[s+1],t),r&&(i=e[s],o&&(i.cp1x=Mr(i.cp1x,t.left,t.right),i.cp1y=Mr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Mr(i.cp2x,t.left,t.right),i.cp2y=Mr(i.cp2y,t.top,t.bottom)))}function jx(e,t,s,n,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Lx(e,i);else{let c=n?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=Mx(c,a,e[Math.min(r+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&$x(e,s)}function Jl(){return typeof window<"u"&&typeof document<"u"}function Ql(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function _o(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Uo=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Fx(e,t){return Uo(e).getPropertyValue(t)}const Nx=["top","right","bottom","left"];function fn(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=Nx[i];n[r]=parseFloat(e[t+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ux=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function zx(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if(Ux(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function rn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Uo(s),r=i.boxSizing==="border-box",o=fn(i,"padding"),a=fn(i,"border","width"),{x:l,y:c,box:u}=zx(e,s),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:p,height:g}=t;return r&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*s.width/n),y:Math.round((c-h)/g*s.height/n)}}function Bx(e,t,s){let n,i;if(t===void 0||s===void 0){const r=e&&Ql(e);if(!r)t=e.clientWidth,s=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Uo(r),l=fn(a,"border","width"),c=fn(a,"padding");t=o.width-c.width-l.width,s=o.height-c.height-l.height,n=_o(a.maxWidth,r,"clientWidth"),i=_o(a.maxHeight,r,"clientHeight")}}return{width:t,height:s,maxWidth:n||bo,maxHeight:i||bo}}const Ir=e=>Math.round(e*10)/10;function Hx(e,t,s,n){const i=Uo(e),r=fn(i,"margin"),o=_o(i.maxWidth,e,"clientWidth")||bo,a=_o(i.maxHeight,e,"clientHeight")||bo,l=Bx(e,t,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=fn(i,"border","width"),p=fn(i,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=Ir(Math.min(c,o,l.maxWidth)),u=Ir(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ir(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Ir(Math.floor(u*n))),{width:c,height:u}}function sd(e,t,s){const n=t||1,i=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=n,o.height=i,o.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Wx=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Jl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function nd(e,t){const s=Fx(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function on(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Vx(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function qx(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=on(e,i,s),a=on(i,r,s),l=on(r,t,s),c=on(o,a,s),u=on(a,l,s);return on(c,u,s)}const Kx=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Gx=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Wn(e,t,s){return e?Kx(t,s):Gx()}function wp(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function xp(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Sp(e){return e==="angle"?{between:lp,compare:Vw,normalize:Ds}:{between:xi,compare:(t,s)=>t-s,normalize:t=>t}}function id({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Yx(e,t,s){const{property:n,start:i,end:r}=s,{between:o,normalize:a}=Sp(n),l=t.length;let{start:c,end:u,loop:d}=e,h,p;if(d){for(c+=l,u+=l,h=0,p=l;h<p&&o(a(t[c%l][n]),i,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function Xx(e,t,s){if(!s)return[e];const{property:n,start:i,end:r}=s,o=t.length,{compare:a,between:l,normalize:c}=Sp(n),{start:u,end:d,loop:h,style:p}=Yx(e,t,s),g=[];let m=!1,b=null,v,T,x;const S=()=>l(i,x,v)&&a(i,x)!==0,E=()=>a(r,v)===0||l(r,x,v),L=()=>m||S(),C=()=>!m||E();for(let D=u,U=u;D<=d;++D)T=t[D%o],!T.skip&&(v=c(T[n]),v!==x&&(m=l(v,i,r),b===null&&L()&&(b=a(v,i)===0?D:U),b!==null&&C()&&(g.push(id({start:b,end:D,loop:h,count:o,style:p})),b=null),U=D,x=v));return b!==null&&g.push(id({start:b,end:d,loop:h,count:o,style:p})),g}function Jx(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const r=Xx(n[i],e.points,t);r.length&&s.push(...r)}return s}function Qx(e,t,s,n){let i=0,r=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function Zx(e,t,s,n){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,r.push({start:t%i,end:(l-1)%i,loop:n}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:n}),r}function t1(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=Qx(s,i,r,n);if(n===!0)return rd(e,[{start:o,end:a,loop:r}],s,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return rd(e,Zx(s,o,l,c),s,t)}function rd(e,t,s,n){return!n||!n.setContext||!s?t:e1(e,t,s,n)}function e1(e,t,s,n){const i=e._chart.getContext(),r=od(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=s.length,c=[];let u=r,d=t[0].start,h=d;function p(g,m,b,v){const T=a?-1:1;if(g!==m){for(g+=l;s[g%l].skip;)g-=T;for(;s[m%l].skip;)m+=T;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:b,style:v}),u=v,d=m%l)}}for(const g of t){d=a?d:g.start;let m=s[d%l],b;for(h=d+1;h<=g.end;h++){const v=s[h%l];b=od(n.setContext(_n(i,{type:"segment",p0:m,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),s1(b,u)&&p(d,h-1,g.loop,u),m=v,u=b}d<h-1&&p(d,h-1,g.loop,u)}return c}function od(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function s1(e,t){if(!t)return!1;const s=[],n=function(i,r){return Vl(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Dr(e,t,s){return e.options.clip?e[s]:t[s]}function n1(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Dr(s,t,"left"),right:Dr(s,t,"right"),top:Dr(n,t,"top"),bottom:Dr(n,t,"bottom")}:t}function i1(e,t){const s=t._clip;if(s.disabled)return!1;const n=n1(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class r1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=up.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=r.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var gs=new r1;const ad="transparent",o1={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Xu(e||ad),i=n.valid&&Xu(t||ad);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class a1{constructor(t,s,n,i){const r=s[n];i=Rr([t.to,i,r,t.from]);const o=Rr([t.from,r,i]);this._active=!0,this._fn=t.fn||o1[t.type||typeof o],this._easing=zi[t.easing]||zi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Rr([t.to,s,i,t.from]),this._from=Rr([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class kp{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!St(t))return;const s=Object.keys(Vt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!St(r))return;const o={};for(const a of s)o[a]=r[a];(se(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,s){const n=s.options,i=c1(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&l1(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,s){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[c];let d=r[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){t[c]=u;continue}r[c]=d=new a1(h,t,c,u),i.push(d)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return gs.add(this._chart,n),!0}}function l1(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=e[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function c1(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function ld(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,r=s.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function u1(e,t,s){if(s===!1)return!1;const n=ld(e,s),i=ld(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function d1(e){let t,s,n,i;return St(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Tp(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function cd(e,t,s,n={}){const i=e.keys,r=n.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=e.values[l],Ue(c)&&(r||t===0||Jn(t)===Jn(c))&&(t+=c)}return!u&&!n.all?0:t}function h1(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function ga(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function f1(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function p1(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function g1(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function ud(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=e[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function dd(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=f1(r,o,n),d=t.length;let h;for(let p=0;p<d;++p){const g=t[p],{[l]:m,[c]:b}=g,v=g._stacks||(g._stacks={});h=v[c]=g1(i,u,m),h[a]=b,h._top=ud(h,o,!0,n.type),h._bottom=ud(h,o,!1,n.type);const T=h._visualValues||(h._visualValues={});T[a]=b}}function ma(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function m1(e,t){return _n(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function b1(e,t,s){return _n(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function ci(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const ba=e=>e==="reset"||e==="none",hd=(e,t)=>t?e:Object.assign({},e),_1=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Tp(s,!0),values:null};class Wi{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ga(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ci(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,h,p,g)=>d==="x"?h:d==="r"?g:p,r=s.xAxisID=bt(n.xAxisID,ma(t,"x")),o=s.yAxisID=bt(n.yAxisID,ma(t,"y")),a=s.rAxisID=bt(n.rAxisID,ma(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ku(this._data,this),t._stacked&&ci(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(St(s)){const i=this._cachedMeta;this._data=h1(s,i)}else if(n!==s){if(n){Ku(n,this);const i=this._cachedMeta;ci(i),i._parsed=[]}s&&Object.isExtensible(s)&&Yw(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=ga(s.vScale,s),s.stack!==n.stack&&(i=!0,ci(s),s.stack=n.stack),this._resyncElements(t),(i||r!==s._stacked)&&(dd(this,s._parsed),s._stacked=ga(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,d,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{se(i[t])?h=this.parseArrayData(n,i,t,s):St(i[t])?h=this.parseObjectData(n,i,t,s):h=this.parsePrimitiveData(n,i,t,s);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+t]=d=h[u],l&&(p()&&(l=!1),c=d);n._sorted=l}o&&dd(this,h)}parsePrimitiveData(t,s,n,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let h,p,g;for(h=0,p=i;h<p;++h)g=h+n,d[h]={[a]:u||r.parse(c[g],g),[l]:o.parse(s[g],g)};return d}parseArrayData(t,s,n,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(t,s,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,p;for(u=0,d=i;u<d;++u)h=u+n,p=s[h],c[u]={x:r.parse(go(p,a),h),y:o.parse(go(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,r=this._cachedMeta,o=s[t.axis],a={keys:Tp(i,!0),values:s._stacks[t.axis]._visualValues};return cd(a,o,r.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=cd(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,a=this._getOtherScale(t),l=_1(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=p1(a);let h,p;function g(){p=i[h];const m=p[a.axis];return!Ue(p[t.axis])||u>m||d<m}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(c,t,p,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][t.axis],Ue(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=d1(bt(this.options.clip,u1(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=b1(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=m1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=t+"-"+s,a=r[o],l=this.enableOptionSharing&&mo(n);if(a)return hd(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Vt.elements[t]),g=()=>this.getContext(n,i,s),m=c.resolveNamedOptions(h,p,g,d);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(hd(m,l))),m}_resolveAnimations(t,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(t,n,s))}const c=new kp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||ba(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(t,s,n,i){ba(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!ba(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,s,n=!0){const i=this._cachedMeta,r=i.data,o=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(r,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&ci(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(Wi,"defaults",{}),ut(Wi,"datasetElementType",null),ut(Wi,"dataElementType",null);class Xr extends Wi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=Zw(s,i,o);this._drawStart=a,this._drawCount=l,tx(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,i),h=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=nr(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",T=s+n,x=t.length;let S=s>0&&this.getParsed(s-1);for(let E=0;E<x;++E){const L=t[E],C=v?L:{};if(E<s||E>=T){C.skip=!0;continue}const D=this.getParsed(E),U=jt(D[p]),Q=C[h]=o.getPixelForValue(D[h],E),K=C[p]=r||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[p],E);C.skip=isNaN(Q)||isNaN(K)||U,C.stop=E>0&&Math.abs(D[h]-S[h])>b,m&&(C.parsed=D,C.raw=c.data[E]),d&&(C.options=u||this.resolveDataElementOptions(E,L.active?"active":i)),v||this.updateElement(L,E,C,i),S=D}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ut(Xr,"id","line"),ut(Xr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ut(Xr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function en(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zl{constructor(t){ut(this,"options");this.options=t||{}}static override(t){Object.assign(Zl.prototype,t)}init(){}formats(){return en()}parse(){return en()}format(){return en()}add(){return en()}diff(){return en()}startOf(){return en()}endOf(){return en()}}var y1={_date:Zl};function v1(e,t,s,n){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Kw:cn;if(n){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const h=c(r,t,s-d),p=c(r,t,s+d);return{lo:h.lo,hi:p.hi}}}}else{const u=c(r,t,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=e,p=h.slice(0,u.lo+1).reverse().findIndex(m=>!jt(m[d.axis]));u.lo-=Math.max(0,p);const g=h.slice(u.hi).findIndex(m=>!jt(m[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function zo(e,t,s,n,i){const r=e.getSortedVisibleDatasetMetas(),o=s[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=v1(r[a],t,o,i);for(let p=d;p<=h;++p){const g=u[p];g.skip||n(g,c,p)}}}function w1(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const r=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _a(e,t,s,n,i){const r=[];return!i&&!e.isPointInArea(t)||zo(e,s,t,function(a,l,c){!i&&!ir(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function x1(e,t,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:d}=Ww(o,{x:t.x,y:t.y});lp(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return zo(e,s,t,r),i}function S1(e,t,s,n,i,r){let o=[];const a=w1(s);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!p)return;const b=a(t,g);b<l?(o=[{element:u,datasetIndex:d,index:h}],l=b):b===l&&o.push({element:u,datasetIndex:d,index:h})}return zo(e,s,t,c),o}function ya(e,t,s,n,i,r){return!r&&!e.isPointInArea(t)?[]:s==="r"&&!n?x1(e,t,s,i):S1(e,t,s,n,i,r)}function fd(e,t,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return zo(e,s,t,(l,c,u)=>{l[o]&&l[o](t[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:r}var k1={modes:{index(e,t,s,n){const i=rn(t,e),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?_a(e,i,r,n,o):ya(e,i,r,!1,n,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,n){const i=rn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?_a(e,i,r,n,o):ya(e,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,n){const i=rn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return _a(e,i,r,n,o)},nearest(e,t,s,n){const i=rn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return ya(e,i,r,s.intersect,n,o)},x(e,t,s,n){const i=rn(t,e);return fd(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=rn(t,e);return fd(e,i,"y",s.intersect,n)}}};const Ep=["left","top","right","bottom"];function ui(e,t){return e.filter(s=>s.pos===t)}function pd(e,t){return e.filter(s=>Ep.indexOf(s.pos)===-1&&s.box.axis===t)}function di(e,t){return e.sort((s,n)=>{const i=t?n:s,r=t?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function T1(e){const t=[];let s,n,i,r,o,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function E1(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!Ep.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function A1(e,t){const s=E1(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return s}function P1(e){const t=T1(e),s=di(t.filter(c=>c.box.fullSize),!0),n=di(ui(t,"left"),!0),i=di(ui(t,"right")),r=di(ui(t,"top"),!0),o=di(ui(t,"bottom")),a=pd(t,"x"),l=pd(t,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ui(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function gd(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Ap(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function C1(e,t,s,n){const{pos:i,box:r}=s,o=e.maxPadding;if(!St(i)){s.size&&(e[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?r.height:r.width),s.size=d.size/d.count,e[i]+=s.size}r.getPadding&&Ap(o,r.getPadding());const a=Math.max(0,t.outerWidth-gd(o,e,"left","right")),l=Math.max(0,t.outerHeight-gd(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function O1(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function R1(e,t){const s=t.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],s[o])}),r}return n(e?["left","right"]:["top","bottom"])}function Si(e,t,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,R1(a.horizontal,t));const{same:d,other:h}=C1(t,s,a,n);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Si(i,t,s,n)||u}function Lr(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function md(e,t,s,n){const i=s.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,h=c.size||l.height;mo(c.start)&&(o=c.start),l.fullSize?Lr(l,i.left,o,s.outerWidth-i.right-i.left,h):Lr(l,t.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,h=c.size||l.width;mo(c.start)&&(r=c.start),l.fullSize?Lr(l,r,i.top,h,s.outerHeight-i.bottom-i.top):Lr(l,r,t.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}t.x=r,t.y=o}var je={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=ze(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(s-i.height,0),a=P1(e.boxes),l=a.vertical,c=a.horizontal;Ct(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);Ap(h,ze(n));const p=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),g=A1(l.concat(c),d);Si(a.fullSize,p,d,g),Si(l,p,d,g),Si(c,p,d,g)&&Si(l,p,d,g),O1(p),md(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,md(a.rightAndBottom,p,d,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ct(a.chartArea,m=>{const b=m.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Pp{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class M1 extends Pp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jr="$chartjs",I1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bd=e=>e===null||e==="";function D1(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Jr]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",bd(i)){const r=nd(e,"width");r!==void 0&&(e.width=r)}if(bd(n))if(e.style.height==="")e.height=e.width/(t||2);else{const r=nd(e,"height");r!==void 0&&(e.height=r)}return e}const Cp=Wx?{passive:!0}:!1;function L1(e,t,s){e&&e.addEventListener(t,s,Cp)}function $1(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Cp)}function j1(e,t){const s=I1[e.type]||e.type,{x:n,y:i}=rn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function yo(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function F1(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||yo(a.addedNodes,n),o=o&&!yo(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function N1(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||yo(a.removedNodes,n),o=o&&!yo(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const or=new Map;let _d=0;function Op(){const e=window.devicePixelRatio;e!==_d&&(_d=e,or.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function U1(e,t){or.size||window.addEventListener("resize",Op),or.set(e,t)}function z1(e){or.delete(e),or.size||window.removeEventListener("resize",Op)}function B1(e,t,s){const n=e.canvas,i=n&&Ql(n);if(!i)return;const r=dp((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),U1(e,r),o}function va(e,t,s){s&&s.disconnect(),t==="resize"&&z1(e)}function H1(e,t,s){const n=e.canvas,i=dp(r=>{e.ctx!==null&&s(j1(r,e))},e);return L1(n,t,i),i}class W1 extends Pp{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(D1(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Jr])return!1;const n=s[Jr].initial;["height","width"].forEach(r=>{const o=n[r];jt(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[Jr],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:F1,detach:N1,resize:B1}[s]||H1;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:va,detach:va,resize:va}[s]||$1)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return Hx(t,s,n,i)}isAttached(t){const s=t&&Ql(t);return!!(s&&s.isConnected)}}function V1(e){return!Jl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?M1:W1}var Wr;let yn=(Wr=class{constructor(){ut(this,"x");ut(this,"y");ut(this,"active",!1);ut(this,"options");ut(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return nr(this.x)&&nr(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},ut(Wr,"defaults",{}),ut(Wr,"defaultRoutes"),Wr);function q1(e,t){const s=e.options.ticks,n=K1(e),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?Y1(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return X1(t,c,r,o/i),c;const u=G1(r,t,i);if(o>0){let d,h;const p=o>1?Math.round((l-a)/(o-1)):null;for($r(t,c,u,jt(p)?0:a-p,a),d=0,h=o-1;d<h;d++)$r(t,c,u,r[d],r[d+1]);return $r(t,c,u,l,jt(p)?t.length:l+p),c}return $r(t,c,u),c}function K1(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function G1(e,t,s){const n=J1(e),i=t.length/s;if(!n)return Math.max(i,1);const r=Nw(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function Y1(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function X1(e,t,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=s[i*n])}function $r(e,t,s,n,i){const r=bt(n,0),o=Math.min(bt(i,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*s))}function J1(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const Q1=e=>e==="left"?"right":e==="right"?"left":e,yd=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,vd=(e,t)=>Math.min(t||e,e);function wd(e,t){const s=[],n=e.length/t,i=e.length;let r=0;for(;r<i;r+=n)s.push(e[Math.floor(r)]);return s}function Z1(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function tS(e,t){Ct(e,s=>{const n=s.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function hi(e){return e.drawTicks?e.tickLength:0}function xd(e,t){if(!e.display)return 0;const s=pe(e.font,t),n=ze(e.padding);return(se(e.text)?e.text.length:1)*s.lineHeight+n.height}function eS(e,t){return _n(e,{scale:t,type:"scale"})}function sS(e,t,s){return _n(e,{tick:s,index:t,type:"tick"})}function nS(e,t,s){let n=Wl(e);return(s&&t!=="right"||!s&&t==="right")&&(n=Q1(n)),n}function iS(e,t,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,h,p,g;const m=o-i,b=a-r;if(e.isHorizontal()){if(p=de(n,r,a),St(s)){const v=Object.keys(s)[0],T=s[v];g=u[v].getPixelForValue(T)+m-t}else s==="center"?g=(c.bottom+c.top)/2+m-t:g=yd(e,s,t);h=a-r}else{if(St(s)){const v=Object.keys(s)[0],T=s[v];p=u[v].getPixelForValue(T)-b+t}else s==="center"?p=(c.left+c.right)/2-b+t:p=yd(e,s,t);g=de(n,o,i),d=s==="left"?-Ke:Ke}return{titleX:p,titleY:g,maxWidth:h,rotation:d}}class ei extends yn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=ts(t,Number.POSITIVE_INFINITY),s=ts(s,Number.NEGATIVE_INFINITY),n=ts(n,Number.POSITIVE_INFINITY),i=ts(i,Number.NEGATIVE_INFINITY),{min:ts(t,n),max:ts(s,i),minDefined:Ue(t),maxDefined:Ue(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:ts(s,ts(n,s)),max:ts(n,ts(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wx(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wd(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=q1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Nt(s.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=vd(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=$e(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),d+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-hi(t.grid)-s.padding-xd(t.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Hw(Math.min(Math.asin($e((u.highest.height+6)/a,-1,1)),Math.asin($e(l/c,-1,1))-Math.asin($e(h/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=xd(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=hi(r)+l):(t.height=this.maxHeight,t.width=hi(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),p=n.padding*2,g=ln(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(a){const v=n.mirror?0:b*d.width+m*h.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=n.mirror?0:m*d.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,u,b,m)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*t.width,p=n*s.height):(h=n*t.height,p=i*s.width):r==="start"?p=s.width:r==="end"?h=t.width:r!=="inner"&&(h=t.width/2,p=s.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=t.height/2;r==="start"?(u=0,d=t.height):r==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)jt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=wd(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/vd(s,n));let c=0,u=0,d,h,p,g,m,b,v,T,x,S,E;for(d=0;d<s;d+=l){if(g=t[d].label,m=this._resolveTickFontOptions(d),i.font=b=m.string,v=r[b]=r[b]||{data:{},gc:[]},T=m.lineHeight,x=S=0,!jt(g)&&!se(g))x=Qu(i,v.data,v.gc,x,g),S=T;else if(se(g))for(h=0,p=g.length;h<p;++h)E=g[h],!jt(E)&&!se(E)&&(x=Qu(i,v.data,v.gc,x,E),S+=T);o.push(x),a.push(S),c=Math.max(x,c),u=Math.max(S,u)}tS(r,s);const L=o.indexOf(c),C=a.indexOf(u),D=U=>({width:o[U]||0,height:a[U]||0});return{first:D(0),last:D(s-1),widest:D(L),highest:D(C),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return qw(this._alignToPixels?tn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=sS(this.getContext(),t,n))}return this.$context||(this.$context=eS(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=ln(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=hi(r),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,v=function(rt){return tn(n,rt,m)};let T,x,S,E,L,C,D,U,Q,K,it,_t;if(o==="top")T=v(this.bottom),C=this.bottom-h,U=T-b,K=v(t.top)+b,_t=t.bottom;else if(o==="bottom")T=v(this.top),K=t.top,_t=v(t.bottom)-b,C=T+b,U=this.top+h;else if(o==="left")T=v(this.right),L=this.right-h,D=T-b,Q=v(t.left)+b,it=t.right;else if(o==="right")T=v(this.left),Q=t.left,it=v(t.right)-b,L=T+b,D=this.left+h;else if(s==="x"){if(o==="center")T=v((t.top+t.bottom)/2+.5);else if(St(o)){const rt=Object.keys(o)[0],Z=o[rt];T=v(this.chart.scales[rt].getPixelForValue(Z))}K=t.top,_t=t.bottom,C=T+b,U=C+h}else if(s==="y"){if(o==="center")T=v((t.left+t.right)/2);else if(St(o)){const rt=Object.keys(o)[0],Z=o[rt];T=v(this.chart.scales[rt].getPixelForValue(Z))}L=T-b,D=L-h,Q=t.left,it=t.right}const Ht=bt(i.ticks.maxTicksLimit,d),yt=Math.max(1,Math.ceil(d/Ht));for(x=0;x<d;x+=yt){const rt=this.getContext(x),Z=r.setContext(rt),ht=a.setContext(rt),le=Z.lineWidth,Xt=Z.color,mt=ht.dash||[],Ut=ht.dashOffset,kt=Z.tickWidth,ie=Z.tickColor,vt=Z.tickBorderDash||[],It=Z.tickBorderDashOffset;S=Z1(this,x,l),S!==void 0&&(E=tn(n,S,le),c?L=D=Q=it=E:C=U=K=_t=E,p.push({tx1:L,ty1:C,tx2:D,ty2:U,x1:Q,y1:K,x2:it,y2:_t,width:le,color:Xt,borderDash:mt,borderDashOffset:Ut,tickWidth:kt,tickColor:ie,tickBorderDash:vt,tickBorderDashOffset:It}))}return this._ticksLength=d,this._borderValue=T,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=hi(n.grid),p=h+u,g=d?-u:p,m=-ln(this.labelRotation),b=[];let v,T,x,S,E,L,C,D,U,Q,K,it,_t="middle";if(i==="top")L=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const yt=this._getYAxisLabelAlignment(h);C=yt.textAlign,E=yt.x}else if(i==="right"){const yt=this._getYAxisLabelAlignment(h);C=yt.textAlign,E=yt.x}else if(s==="x"){if(i==="center")L=(t.top+t.bottom)/2+p;else if(St(i)){const yt=Object.keys(i)[0],rt=i[yt];L=this.chart.scales[yt].getPixelForValue(rt)+p}C=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")E=(t.left+t.right)/2-p;else if(St(i)){const yt=Object.keys(i)[0],rt=i[yt];E=this.chart.scales[yt].getPixelForValue(rt)}C=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?_t="top":l==="end"&&(_t="bottom"));const Ht=this._getLabelSizes();for(v=0,T=a.length;v<T;++v){x=a[v],S=x.label;const yt=r.setContext(this.getContext(v));D=this.getPixelForTick(v)+r.labelOffset,U=this._resolveTickFontOptions(v),Q=U.lineHeight,K=se(S)?S.length:1;const rt=K/2,Z=yt.color,ht=yt.textStrokeColor,le=yt.textStrokeWidth;let Xt=C;o?(E=D,C==="inner"&&(v===T-1?Xt=this.options.reverse?"left":"right":v===0?Xt=this.options.reverse?"right":"left":Xt="center"),i==="top"?c==="near"||m!==0?it=-K*Q+Q/2:c==="center"?it=-Ht.highest.height/2-rt*Q+Q:it=-Ht.highest.height+Q/2:c==="near"||m!==0?it=Q/2:c==="center"?it=Ht.highest.height/2-rt*Q:it=Ht.highest.height-K*Q,d&&(it*=-1),m!==0&&!yt.showLabelBackdrop&&(E+=Q/2*Math.sin(m))):(L=D,it=(1-K)*Q/2);let mt;if(yt.showLabelBackdrop){const Ut=ze(yt.backdropPadding),kt=Ht.heights[v],ie=Ht.widths[v];let vt=it-Ut.top,It=0-Ut.left;switch(_t){case"middle":vt-=kt/2;break;case"bottom":vt-=kt;break}switch(C){case"center":It-=ie/2;break;case"right":It-=ie;break;case"inner":v===T-1?It-=ie:v>0&&(It-=ie/2);break}mt={left:It,top:vt,width:ie+Ut.width,height:kt+Ut.height,color:yt.backdropColor}}b.push({label:S,font:U,textOffset:it,options:{rotation:m,color:Z,strokeColor:ht,strokeWidth:le,textAlign:Xt,textBaseline:_t,translation:[E,L],backdrop:mt}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-ln(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=tn(t,this.left,o)-o/2,u=tn(t,this.right,a)+a/2,d=h=l):(d=tn(t,this.top,o)-o/2,h=tn(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&ql(n,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;rr(n,c,0,u,l,a)}i&&Kl(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=pe(n.font),o=ze(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||St(s)?(l+=o.bottom,se(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=iS(this,l,s,a);rr(t,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:h,textAlign:nS(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=bt(t.grid&&t.grid.z,-1),i=bt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ei.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return pe(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class jr{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;aS(s)&&(n=this.register(s));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,rS(t,o,n),this.override&&Vt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Vt[i]&&(delete Vt[i][n],this.override&&delete gn[n])}}function rS(e,t,s){const n=sr(Object.create(null),[s?Vt.get(s):{},Vt.get(t),e.defaults]);Vt.set(t,n),e.defaultRoutes&&oS(t,e.defaultRoutes),e.descriptors&&Vt.describe(t,e.descriptors)}function oS(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),r=[e].concat(n).join("."),o=t[s].split("."),a=o.pop(),l=o.join(".");Vt.route(r,i,l,a)})}function aS(e){return"id"in e&&"defaults"in e}class lS{constructor(){this.controllers=new jr(Wi,"datasets",!0),this.elements=new jr(yn,"elements"),this.plugins=new jr(Object,"plugins"),this.scales=new jr(ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):Ct(i,o=>{const a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,s,n){const i=Bl(t);Nt(n["before"+i],[],n),s[t](n),Nt(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var ns=new lS;class cS{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,s,n);return s==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,s,n,i){i=i||{};for(const r of t){const o=r.plugin,a=o[n],l=[s,i,r.options];if(Nt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=bt(n.options&&n.options.plugins,{}),r=uS(n);return i===!1&&!s?[]:hS(t,r,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function uS(e){const t={},s=[],n=Object.keys(ns.plugins.items);for(let r=0;r<n.length;r++)s.push(ns.getPlugin(n[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function dS(e,t){return!t&&e===!1?null:e===!0?{}:e}function hS(e,{plugins:t,localIds:s},n,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=dS(n[l],i);c!==null&&r.push({plugin:a,options:fS(e.config,{plugin:a,local:s[l]},c,o)})}return r}function fS(e,{plugin:t,local:s},n,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sl(e,t){const s=Vt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function pS(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function gS(e,t){return e===t?"_index_":"_value_"}function Sd(e){if(e==="x"||e==="y"||e==="r")return e}function mS(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function nl(e,...t){if(Sd(e))return e;for(const s of t){const n=s.axis||mS(s.position)||e.length>1&&Sd(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function kd(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function bS(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return kd(e,"x",s[0])||kd(e,"y",s[0])}return{}}function _S(e,t){const s=gn[e.type]||{scales:{}},n=t.scales||{},i=sl(e.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!St(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nl(o,a,bS(o,e),Vt.scales[a.type]),c=gS(l,i),u=s.scales||{};r[o]=Ni(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||sl(a,t),u=(gn[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=pS(d,l),p=o[h+"AxisID"]||h;r[p]=r[p]||Object.create(null),Ni(r[p],[{axis:h},n[p],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ni(a,[Vt.scales[a.type],Vt.scale])}),r}function Rp(e){const t=e.options||(e.options={});t.plugins=bt(t.plugins,{}),t.scales=_S(e,t)}function Mp(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function yS(e){return e=e||{},e.data=Mp(e.data),Rp(e),e}const Td=new Map,Ip=new Set;function Fr(e,t){let s=Td.get(e);return s||(s=t(),Td.set(e,s),Ip.add(s)),s}const fi=(e,t,s)=>{const n=go(t,s);n!==void 0&&e.add(n)};class vS{constructor(t){this._config=yS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Mp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Rp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Fr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Fr(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Fr(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Fr(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(d=>fi(l,t,d))),u.forEach(d=>fi(l,i,d)),u.forEach(d=>fi(l,gn[r]||{},d)),u.forEach(d=>fi(l,Vt,d)),u.forEach(d=>fi(l,Za,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ip.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,gn[s]||{},Vt.datasets[s]||{},{type:s},Vt,Za]}resolveNamedOptions(t,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ed(this._resolverCache,t,i);let l=o;if(xS(o,s)){r.$shared=!1,n=Gs(n)?n():n;const c=this.createResolver(t,n,a);l=Qn(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(t,s,n=[""],i){const{resolver:r}=Ed(this._resolverCache,t,n);return St(s)?Qn(r,s,void 0,i):r}}function Ed(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let r=n.get(i);return r||(r={resolver:Gl(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const wS=e=>St(e)&&Object.getOwnPropertyNames(e).some(t=>Gs(e[t]));function xS(e,t){const{isScriptable:s,isIndexable:n}=mp(e);for(const i of t){const r=s(i),o=n(i),a=(o||r)&&e[i];if(r&&(Gs(a)||wS(a))||o&&se(a))return!0}return!1}var SS="4.5.0";const kS=["top","bottom","left","right","chartArea"];function Ad(e,t){return e==="top"||e==="bottom"||kS.indexOf(e)===-1&&t==="x"}function Pd(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Cd(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Nt(s&&s.onComplete,[e],t)}function TS(e){const t=e.chart,s=t.options.animation;Nt(s&&s.onProgress,[e],t)}function Dp(e){return Jl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qr={},Od=e=>{const t=Dp(e);return Object.values(Qr).filter(s=>s.canvas===t).pop()};function ES(e,t,s){const n=Object.keys(e);for(const i of n){const r=+i;if(r>=t){const o=e[i];delete e[i],(s>0||r>t)&&(e[r+s]=o)}}}function AS(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Rs;let Bo=(Rs=class{static register(...t){ns.add(...t),Rd()}static unregister(...t){ns.remove(...t),Rd()}constructor(t,s){const n=this.config=new vS(s),i=Dp(t),r=Od(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||V1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ow(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jw(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Qr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}gs.listen(this,"complete",Cd),gs.listen(this,"progress",TS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return jt(t)?s&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zu(this.canvas,this.ctx),this}stop(){return gs.stop(this),this}resize(t,s){gs.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sd(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Nt(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ct(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=nl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ct(r,o=>{const a=o.options,l=a.id,c=nl(l,a),u=bt(a.type,o.dtype);(a.position===void 0||Ad(a.position,c)!==Ad(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=ns.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,t)}),Ct(i,(o,a)=>{o||delete n[a]}),Ct(n,o=>{je.configure(this,o,o.options),je.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Pd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||sl(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=ns.getController(a),{datasetElementType:c,dataElementType:u}=Vt.datasets[a];Object.assign(l,{dataElementType:ns.getElement(u),datasetElementType:c&&ns.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ct(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ct(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pd("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ct(this.scales,t=>{je.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Hu(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;ES(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!Hu(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;je.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Ct(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Gs(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gs.has(this)?this.attached&&!gs.running(this)&&gs.start(this):(this.draw(),Cd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=i1(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&ql(s,i),t.controller.draw(),i&&Kl(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return ir(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const r=k1.modes[s];return typeof r=="function"?r(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=_n(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);mo(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),gs.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Zu(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Qr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ct(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){Ct(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Ct(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!fo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(s,t),a=n?t:r(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(t,i,n,o),l=$w(t),c=AS(t,this._lastEvent,n,l);n&&(this._lastEvent=null,Nt(r.onHover,[t,a,this],this),l&&Nt(r.onClick,[t,a,this],this));const u=!fo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}},ut(Rs,"defaults",Vt),ut(Rs,"instances",Qr),ut(Rs,"overrides",gn),ut(Rs,"registry",ns),ut(Rs,"version",SS),ut(Rs,"getChart",Od),Rs);function Rd(){return Ct(Bo.instances,e=>e._plugins.invalidate())}function Lp(e,t,s=t){e.lineCap=bt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(bt(s.borderDash,t.borderDash)),e.lineDashOffset=bt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=bt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=bt(s.borderWidth,t.borderWidth),e.strokeStyle=bt(s.borderColor,t.borderColor)}function PS(e,t,s){e.lineTo(s.x,s.y)}function CS(e){return e.stepped?dx:e.tension||e.cubicInterpolationMode==="monotone"?hx:PS}function $p(e,t,s={}){const n=e.length,{start:i=0,end:r=n-1}=s,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function OS(e,t,s,n){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=$p(i,s,n),u=CS(r);let{move:d=!0,reverse:h}=n||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(h?c-p:p))%o],!g.skip&&(d?(e.moveTo(g.x,g.y),d=!1):u(e,m,g,h,r.stepped),m=g);return l&&(g=i[(a+(h?c:0))%o],u(e,m,g,h,r.stepped)),!!l}function RS(e,t,s,n){const i=t.points,{count:r,start:o,ilen:a}=$p(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,p,g,m,b,v;const T=S=>(o+(c?a-S:S))%r,x=()=>{m!==b&&(e.lineTo(u,b),e.lineTo(u,m),e.lineTo(u,v))};for(l&&(p=i[T(0)],e.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[T(h)],p.skip)continue;const S=p.x,E=p.y,L=S|0;L===g?(E<m?m=E:E>b&&(b=E),u=(d*u+S)/++d):(x(),e.lineTo(S,E),g=L,d=0,m=b=E),v=E}x()}function il(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?RS:OS}function MS(e){return e.stepped?Vx:e.tension||e.cubicInterpolationMode==="monotone"?qx:on}function IS(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Lp(e,t.options),e.stroke(i)}function DS(e,t,s,n){const{segments:i,options:r}=t,o=il(t);for(const a of i)Lp(e,r,a.style),e.beginPath(),o(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const LS=typeof Path2D=="function";function $S(e,t,s,n){LS&&!t.options.segment?IS(e,t,s,n):DS(e,t,s,n)}class ki extends yn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;jx(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=t1(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],r=this.points,o=Jx(this,{property:s,start:i,end:i});if(!o.length)return;const a=[],l=MS(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],p=r[d],g=r[h];if(p===g){a.push(p);continue}const m=Math.abs((i-p[s])/(g[s]-p[s])),b=l(p,g,m,n.stepped);b[s]=t[s],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,s,n){return il(this)(t,this,s,n)}path(t,s,n){const i=this.segments,r=il(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)o&=r(t,this,a,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),$S(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ut(ki,"id","line"),ut(ki,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ut(ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ut(ki,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Md(e,t,s,n){const i=e.options,{[s]:r}=e.getProps([s],n);return Math.abs(t-r)<i.radius+i.hitRadius}class Zr extends yn{constructor(s){super();ut(this,"parsed");ut(this,"skip");ut(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,n){return Md(this,s,"x",n)}inYRange(s,n){return Md(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!ir(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,tl(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ut(Zr,"id","point"),ut(Zr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ut(Zr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Id=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},jS=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Dd extends yn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Nt(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=pe(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Id(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=t;r.textAlign="left",r.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((g,m)=>{const b=n+s/2+r.measureText(g.text).width;(m===0||c[c.length-1]+b+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,p+=u,h++),l[m]={left:0,top:p,row:h,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(t,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,h=0,p=0,g=0,m=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:T,itemHeight:x}=FS(n,s,r,b,i);v>0&&p+x+2*a>u&&(d+=h+a,c.push({width:h,height:p}),g+=h+a,m++,h=p=0),l[v]={left:g,top:p,col:m,width:T,height:x},h=Math.max(h,T),p+=x+a}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=Wn(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=de(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=de(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=de(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=de(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ql(t,this),this._draw(),Kl(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,a=Vt.color,l=Wn(t.rtl,this.left,this.width),c=pe(o.font),{padding:u}=o,d=c.size,h=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:b}=Id(o,d),v=function(L,C,D){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const U=bt(D.lineWidth,1);if(i.fillStyle=bt(D.fillStyle,a),i.lineCap=bt(D.lineCap,"butt"),i.lineDashOffset=bt(D.lineDashOffset,0),i.lineJoin=bt(D.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=bt(D.strokeStyle,a),i.setLineDash(bt(D.lineDash,[])),o.usePointStyle){const Q={radius:m*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:U},K=l.xPlus(L,g/2),it=C+h;pp(i,Q,K,it,o.pointStyleWidth&&g)}else{const Q=C+Math.max((d-m)/2,0),K=l.leftForLtr(L,g),it=Hi(D.borderRadius);i.beginPath(),Object.values(it).some(_t=>_t!==0)?el(i,{x:K,y:Q,w:g,h:m,radius:it}):i.rect(K,Q,g,m),i.fill(),U!==0&&i.stroke()}i.restore()},T=function(L,C,D){rr(i,D.text,L,C+b/2,c,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},x=this.isHorizontal(),S=this._computeTitleHeight();x?p={x:de(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:p={x:this.left+u,y:de(r,this.top+S+u,this.bottom-s[0].height),line:0},wp(this.ctx,t.textDirection);const E=b+u;this.legendItems.forEach((L,C)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const D=i.measureText(L.text).width,U=l.textAlign(L.textAlign||(L.textAlign=o.textAlign)),Q=g+h+D;let K=p.x,it=p.y;l.setWidth(this.width),x?C>0&&K+Q+u>this.right&&(it=p.y+=E,p.line++,K=p.x=de(r,this.left+u,this.right-n[p.line])):C>0&&it+E>this.bottom&&(K=p.x=K+s[p.line].width+u,p.line++,it=p.y=de(r,this.top+S+u,this.bottom-s[p.line].height));const _t=l.x(K);if(v(_t,it,L),K=Qw(U,K+g+h,x?K+Q:this.right,t.rtl),T(l.x(K),it,L),x)p.x+=Q+u;else if(typeof L.text!="string"){const Ht=c.lineHeight;p.y+=jp(L,Ht)+u}else p.y+=E}),xp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=pe(s.font),i=ze(s.padding);if(!s.display)return;const r=Wn(t.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=de(t.align,d,this.right-h);else{const g=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);u=c+de(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=de(a,d,d+h);o.textAlign=r.textAlign(Wl(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,rr(o,s.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,s=pe(t.font),n=ze(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,r;if(xi(t,this.left,this.right)&&xi(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],xi(t,i.left,i.left+i.width)&&xi(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!zS(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=jS(i,n);i&&!r&&Nt(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&Nt(s.onHover,[t,n,this],this)}else n&&Nt(s.onClick,[t,n,this],this)}}function FS(e,t,s,n,i){const r=NS(n,e,t,s),o=US(i,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function NS(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+s.size/2+n.measureText(i).width}function US(e,t,s){let n=e;return typeof t.text!="string"&&(n=jp(t,s)),n}function jp(e,t){const s=e.text?e.text.length:0;return t*s}function zS(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var BS={id:"legend",_element:Dd,start(e,t,s){const n=e.legend=new Dd({ctx:e.ctx,options:s,chart:e});je.configure(e,n,s),je.addBox(e,n)},stop(e){je.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;je.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=ze(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fp extends yn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=se(n.text)?n.text.length:1;this._padding=ze(n.padding);const r=i*pe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=de(a,n,r),d=s+t,c=r-n):(o.position==="left"?(u=n+t,d=de(a,i,s),l=ne*-.5):(u=r-t,d=de(a,s,i),l=ne*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=pe(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);rr(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:Wl(s.align),textBaseline:"middle",translation:[o,a]})}}function HS(e,t){const s=new Fp({ctx:e.ctx,options:t,chart:e});je.configure(e,s,t),je.addBox(e,s),e.titleBlock=s}var WS={id:"title",_element:Fp,start(e,t,s){HS(e,s)},stop(e){const t=e.titleBlock;je.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;je.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ti={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,r=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Qa(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function es(e,t){return t&&(se(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ms(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function VS(e,t){const{element:s,datasetIndex:n,index:i}=t,r=e.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Ld(e,t){const s=e.chart.ctx,{body:n,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=pe(t.bodyFont),c=pe(t.titleFont),u=pe(t.footerFont),d=r.length,h=i.length,p=n.length,g=ze(t.padding);let m=g.height,b=0,v=n.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*S+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let T=0;const x=function(S){b=Math.max(b,s.measureText(S).width+T)};return s.save(),s.font=c.string,Ct(e.title,x),s.font=l.string,Ct(e.beforeBody.concat(e.afterBody),x),T=t.displayColors?o+2+t.boxPadding:0,Ct(n,S=>{Ct(S.before,x),Ct(S.lines,x),Ct(S.after,x)}),T=0,s.font=u.string,Ct(e.footer,x),s.restore(),b+=g.width,{width:b,height:m}}function qS(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function KS(e,t,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function GS(e,t,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),KS(c,e,t,s)&&(c="center"),c}function $d(e,t,s){const n=s.yAlign||t.yAlign||qS(e,s);return{xAlign:s.xAlign||t.xAlign||GS(e,t,s,n),yAlign:n}}function YS(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function XS(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function jd(e,t,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Hi(o);let g=YS(t,a);const m=XS(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+i:a==="right"&&(g+=Math.max(d,p)+i),{x:$e(g,0,n.width-t.width),y:$e(m,0,n.height-t.height)}}function Nr(e,t,s){const n=ze(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Fd(e){return es([],ms(e))}function JS(e,t,s){return _n(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Nd(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Np={beforeTitle:fs,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:fs,beforeBody:fs,beforeLabel:fs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return jt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:fs,afterBody:fs,beforeFooter:fs,footer:fs,afterFooter:fs};function Ae(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Np[t].call(s,n):i}class rl extends yn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new kp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=JS(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=Ae(n,"beforeTitle",this,t),r=Ae(n,"title",this,t),o=Ae(n,"afterTitle",this,t);let a=[];return a=es(a,ms(i)),a=es(a,ms(r)),a=es(a,ms(o)),a}getBeforeBody(t,s){return Fd(Ae(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Ct(t,r=>{const o={before:[],lines:[],after:[]},a=Nd(n,r);es(o.before,ms(Ae(a,"beforeLabel",this,r))),es(o.lines,Ae(a,"label",this,r)),es(o.after,ms(Ae(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,s){return Fd(Ae(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=Ae(n,"beforeFooter",this,t),r=Ae(n,"footer",this,t),o=Ae(n,"afterFooter",this,t);let a=[];return a=es(a,ms(i)),a=es(a,ms(r)),a=es(a,ms(o)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(VS(this.chart,s[l]));return t.filter&&(a=a.filter((u,d,h)=>t.filter(u,d,h,n))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,n))),Ct(a,u=>{const d=Nd(t.callbacks,u);i.push(Ae(d,"labelColor",this,u)),r.push(Ae(d,"labelPointStyle",this,u)),o.push(Ae(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ti[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Ld(this,n),c=Object.assign({},a,l),u=$d(this.chart,n,c),d=jd(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const r=this.getCaretPosition(t,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Hi(a),{x:h,y:p}=t,{width:g,height:m}=s;let b,v,T,x,S,E;return r==="center"?(S=p+m/2,i==="left"?(b=h,v=b-o,x=S+o,E=S-o):(b=h+g,v=b+o,x=S-o,E=S+o),T=b):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+g-Math.max(c,d)-o:v=this.caretX,r==="top"?(x=p,S=x-o,b=v-o,T=v+o):(x=p+m,S=x+o,b=v+o,T=v-o),E=x),{x1:b,x2:v,x3:T,y1:x,y2:S,y3:E}}drawTitle(t,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=Wn(n.rtl,this.x,this.width);for(t.x=Nr(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=pe(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=pe(r.bodyFont),d=Nr(this,"left",r),h=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+p;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(h,c)+c/2,v=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,tl(t,m,b,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,tl(t,m,b,v)}else{t.lineWidth=St(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,c),b=i.leftForLtr(i.xPlus(h,1),c-2),v=Hi(o.borderRadius);Object.values(v).some(T=>T!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,el(t,{x:m,y:g,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),el(t,{x:b,y:g+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=pe(n.bodyFont);let h=d.lineHeight,p=0;const g=Wn(n.rtl,this.x,this.width),m=function(D){s.fillText(D,g.x(t.x+p),t.y+h/2),t.y+=h+r},b=g.textAlign(o);let v,T,x,S,E,L,C;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,t.x=Nr(this,b,n),s.fillStyle=n.bodyColor,Ct(this.beforeBody,m),p=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,L=i.length;S<L;++S){for(v=i[S],T=this.labelTextColors[S],s.fillStyle=T,Ct(v.before,m),x=v.lines,a&&x.length&&(this._drawColorBox(s,t,S,g,n),h=Math.max(d.lineHeight,l)),E=0,C=x.length;E<C;++E)m(x[E]),h=d.lineHeight;Ct(v.after,m)}p=0,h=d.lineHeight,Ct(this.afterBody,m),t.y-=r}drawFooter(t,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=Wn(n.rtl,this.x,this.width);for(t.x=Nr(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=pe(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=Hi(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-h,l),s.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+u-g),s.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+u),s.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=Ti[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ld(this,t),l=Object.assign({},o,this._size),c=$d(s,t,l),u=jd(t,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ze(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,s),wp(t,s.textDirection),r.y+=o.top,this.drawTitle(r,t,s),this.drawBody(r,t,s),this.drawFooter(r,t,s),xp(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!fo(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,s,n),a=this._positionChanged(o,t),l=s||!fo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:r}=this,o=Ti[r.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}ut(rl,"positioners",Ti);var QS={id:"tooltip",_element:rl,positioners:Ti,afterInit(e,t,s){s&&(e.tooltip=new rl({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Np},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ZS=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function tk(e,t,s,n){const i=e.indexOf(t);if(i===-1)return ZS(e,t,s,n);const r=e.lastIndexOf(t);return i!==r?s:i}const ek=(e,t)=>e===null?null:$e(Math.round(e),0,t);function Ud(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ol extends ei{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(jt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:tk(n,t,bt(s,t),this._addedLabels),ek(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=t===0&&s===r.length-1?r:r.slice(t,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return Ud.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ut(ol,"id","category"),ut(ol,"defaults",{ticks:{callback:Ud}});function sk(e,t){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=e,p=r||1,g=u-1,{min:m,max:b}=t,v=!jt(o),T=!jt(a),x=!jt(c),S=(b-m)/(d+1);let E=Vu((b-m)/g/p)*p,L,C,D,U;if(E<1e-14&&!v&&!T)return[{value:m},{value:b}];U=Math.ceil(b/E)-Math.floor(m/E),U>g&&(E=Vu(U*E/g/p)*p),jt(l)||(L=Math.pow(10,l),E=Math.ceil(E*L)/L),i==="ticks"?(C=Math.floor(m/E)*E,D=Math.ceil(b/E)*E):(C=m,D=b),v&&T&&r&&zw((a-o)/r,E/1e3)?(U=Math.round(Math.min((a-o)/E,u)),E=(a-o)/U,C=o,D=a):x?(C=v?o:C,D=T?a:D,U=c-1,E=(D-C)/U):(U=(D-C)/E,Ui(U,Math.round(U),E/1e3)?U=Math.round(U):U=Math.ceil(U));const Q=Math.max(qu(E),qu(C));L=Math.pow(10,jt(l)?Q:l),C=Math.round(C*L)/L,D=Math.round(D*L)/L;let K=0;for(v&&(h&&C!==o?(s.push({value:o}),C<o&&K++,Ui(Math.round((C+K*E)*L)/L,o,zd(o,S,e))&&K++):C<o&&K++);K<U;++K){const it=Math.round((C+K*E)*L)/L;if(T&&it>a)break;s.push({value:it})}return T&&h&&D!==a?s.length&&Ui(s[s.length-1].value,a,zd(a,S,e))?s[s.length-1].value=a:s.push({value:a}):(!T||D===a)&&s.push({value:D}),s}function zd(e,t,{horizontal:s,minRotation:n}){const i=ln(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class nk extends ei{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(t){const l=Jn(i),c=Jn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=sk(i,r);return t.bounds==="ticks"&&Bw(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return hp(t,this.chart.options.locale,this.options.ticks.format)}}class al extends nk{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ue(t)?t:0,this.max=Ue(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=ln(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ut(al,"id","linear"),ut(al,"defaults",{ticks:{callback:fp.formatters.numeric}});const Ho={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ce=Object.keys(Ho);function Bd(e,t){return e-t}function Hd(e,t){if(jt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Ue(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(nr(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function Wd(e,t,s,n){const i=Ce.length;for(let r=Ce.indexOf(e);r<i-1;++r){const o=Ho[Ce[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(a*o.size))<=n)return Ce[r]}return Ce[i-1]}function ik(e,t,s,n,i){for(let r=Ce.length-1;r>=Ce.indexOf(s);r--){const o=Ce[r];if(Ho[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return Ce[s?Ce.indexOf(s):0]}function rk(e){for(let t=Ce.indexOf(e)+1,s=Ce.length;t<s;++t)if(Ho[Ce[t]].common)return Ce[t]}function Vd(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Hl(s,t),r=s[n]>=t?s[n]:s[i];e[r]=!0}}function ok(e,t,s,n){const i=e._adapter,r=+i.startOf(t[0].value,n),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function qd(e,t,s){const n=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:ok(e,n,i,s)}class vo extends ei{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new y1._date(t.adapters.date);i.init(s),Ni(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Hd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ue(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=Ue(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Gw(i,r,o);return this._unit=s.unit||(n.autoSkip?Wd(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):ik(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:rk(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),qd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=$e(s,0,o),n=$e(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Wd(r.minUnit,s,n,this._getLabelCapacity(s)),a=bt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=nr(l)||l===!0,u={};let d=s,h,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<n;h=+t.add(h,a,o),p++)Vd(u,h,g);return(h===n||i.bounds==="ticks"||p===1)&&Vd(u,h,g),Object.keys(u).sort(Bd).map(m=>+m)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return Nt(o,[t,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=n[s],p=c&&d&&h&&h.major;return this._adapter.format(t,i||(p?d:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=ln(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(t,0,qd(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(Hd(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Xw(t.sort(Bd))}}ut(vo,"id","time"),ut(vo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ur(e,t,s){let n=0,i=e.length-1,r,o,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=cn(e,"pos",t)),{pos:r,time:a}=e[n],{pos:o,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=cn(e,"time",t)),{time:r,pos:a}=e[n],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Kd extends vo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Ur(s,this.min),this._tableRange=Ur(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ur(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Ur(this._table,n*this._tableRange+this._minPos,!0)}}ut(Kd,"id","timeseries"),ut(Kd,"defaults",vo.defaults);const Up={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ak={ariaLabel:{type:String},ariaDescribedby:{type:String}},lk={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Up,...ak},ck=uf[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function Ln(e){return cr(e)?gt(e):e}function uk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return cr(t)?new Proxy(e,{}):e}function dk(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function zp(e,t){e.labels=t}function Bp(e,t,s){const n=[];e.datasets=t.map(i=>{const r=e.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function hk(e,t){const s={labels:[],datasets:[]};return zp(s,e.labels),Bp(s,e.datasets,t),s}const fk=Oo({props:lk,setup(e,t){let{expose:s,slots:n}=t;const i=qe(null),r=xl(null);s({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:d,plugins:h,datasetIdKey:p}=e,g=hk(u,p),m=uk(g,u);r.value=new Bo(i.value,{type:c,data:m,options:{...d},plugins:h})},a=()=>{const c=gt(r.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},e.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(e.updateMode)};return Mo(o),Tl(a),Bn([()=>e.options,()=>e.data],(c,u)=>{let[d,h]=c,[p,g]=u;const m=gt(r.value);if(!m)return;let b=!1;if(d){const v=Ln(d),T=Ln(p);v&&v!==T&&(dk(m,v),b=!0)}if(h){const v=Ln(h.labels),T=Ln(g.labels),x=Ln(h.datasets),S=Ln(g.datasets);v!==T&&(zp(m.config.data,v),b=!0),x&&x!==S&&(Bp(m.config.data,x,e.datasetIdKey),b=!0)}b&&Co(()=>{l(m)})},{deep:!0}),()=>Xi("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:i},[Xi("p",{},[n.default?n.default():""])])}});function pk(e,t){return Bo.register(t),Oo({props:Up,setup(s,n){let{expose:i}=n;const r=xl(null),o=a=>{r.value=a==null?void 0:a.chart};return i({chart:r}),()=>Xi(fk,ck({ref:o},{type:e,...s}))}})}const gk=pk("line",Xr),mk={class:"chart-container"},bk={__name:"LineChart",props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1})}},setup(e){return Bo.register(ol,al,Zr,ki,WS,QS,BS),(t,s)=>(R(),I("div",mk,[W(dn(gk),{data:e.chartData,options:e.options},null,8,["data","options"])]))}},_k=Rt(bk,[["__scopeId","data-v-4b76fa70"]]),yk={class:"min-h-screen flex flex-col"},vk={class:"container mx-auto px-4 py-8"},wk={class:"card bg-base-100 shadow-lg mb-6"},xk={class:"card-body"},Sk={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},kk={class:"form-control"},Tk={class:"form-control"},Ek=["min"],Ak={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Pk={class:"stats bg-primary text-primary-content shadow"},Ck={class:"stat"},Ok={class:"stat-value"},Rk={class:"stats bg-secondary text-secondary-content shadow"},Mk={class:"stat"},Ik={class:"stat-value"},Dk={class:"stats bg-accent text-accent-content shadow"},Lk={class:"stat"},$k={class:"stat-value"},jk={class:"stats bg-success text-success-content shadow"},Fk={class:"stat"},Nk={class:"stat-value"},Uk={class:"card bg-base-100 shadow-lg mb-8"},zk={class:"card-body"},Bk={class:"h-60 w-full"},Hk={key:1,class:"bg-base-200 h-full w-full flex items-center justify-center"},Wk={class:"card bg-base-100 shadow-lg mb-6 mt-8"},Vk={class:"card-body"},qk={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},Kk={__name:"AdminDashboard",setup(e){const t=Ml(),s=qe(!1),n=qe(!1),i=qe({activeSubscriptions:0,newSubscriptions:0,monthlyRevenue:0,reactivations:0,subscriptionGrowth:0}),r=qe(null),o=qe({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Subscription Growth Trend"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Subscriptions"}}}}),l=qe((()=>{const p=new Date,g=new Date;return g.setDate(g.getDate()-30),{start:g.toISOString().substring(0,10),end:p.toISOString().substring(0,10)}})()),c=async()=>{try{const{data:p,error:g}=await G.auth.getUser();if(g||!(p!=null&&p.user))return s.value=!1,!1;const{data:m,error:b}=await G.from("profiles").select("is_admin").eq("id",p.user.id).single();return b||!m?(s.value=!1,!1):(s.value=m.is_admin===!0,m.is_admin===!0)}catch(p){return console.error("Error checking admin status:",p),s.value=!1,!1}},u=async()=>{try{const{data:p,error:g}=await G.from("subscriptions").select("created_at").gte("created_at",`${l.value.start}T00:00:00`).lte("created_at",`${l.value.end}T23:59:59`).order("created_at");if(g)throw g;const m={},b=[],v=[],T=new Date(l.value.start),x=new Date(l.value.end),S=[];for(let C=new Date(T);C<=x;C.setDate(C.getDate()+1)){const D=C.toISOString().split("T")[0];S.push(D),m[D]=0}p.forEach(C=>{const D=C.created_at.split("T")[0];m[D]=(m[D]||0)+1}),Object.keys(m).sort().forEach(C=>{b.push(C),v.push(m[C])});const E=[];let L=0;v.forEach(C=>{L+=C,E.push(L)}),r.value={labels:b,datasets:[{label:"New Subscriptions",backgroundColor:"rgba(71, 85, 105, 0.2)",borderColor:"rgba(71, 85, 105, 1)",borderWidth:2,data:v,tension:.4},{label:"Cumulative Growth",backgroundColor:"rgba(14, 165, 233, 0.2)",borderColor:"rgba(14, 165, 233, 1)",borderWidth:2,data:E,tension:.4}]}}catch(p){console.error("Error loading growth data:",p)}},d=async()=>{n.value=!0;try{i.value=await Ov(l.value.start,l.value.end),await u()}catch(p){console.error("Error loading dashboard data:",p)}finally{n.value=!1}},h=p=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(p);return Mo(async()=>{if(!await c()){t.push("/");return}await d()}),(p,g)=>{const m=dt("router-link");return R(),I("div",yk,[W(Ps),f("div",vk,[g[20]||(g[20]=f("h1",{class:"text-3xl font-bold mb-8"},"Admin Dashboard",-1)),g[21]||(g[21]=f("div",{class:"alert alert-info mb-6"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),f("span",null,"This dashboard is restricted to administrators only")],-1)),f("div",wk,[f("div",xk,[g[5]||(g[5]=f("h2",{class:"card-title"},"Filter Data by Date Range",-1)),f("div",Sk,[f("div",kk,[g[2]||(g[2]=f("label",{class:"label"},[f("span",{class:"label-text"},"Start Date")],-1)),$t(f("input",{type:"date","onUpdate:modelValue":g[0]||(g[0]=b=>l.value.start=b),class:"input input-bordered",onChange:d},null,544),[[Wt,l.value.start]])]),f("div",Tk,[g[3]||(g[3]=f("label",{class:"label"},[f("span",{class:"label-text"},"End Date")],-1)),$t(f("input",{type:"date","onUpdate:modelValue":g[1]||(g[1]=b=>l.value.end=b),class:"input input-bordered",onChange:d,min:l.value.start},null,40,Ek),[[Wt,l.value.end]])]),f("div",{class:"form-control items-end justify-end"},[g[4]||(g[4]=f("label",{class:"label"},[f("span",{class:"label-text invisible"},"Apply")],-1)),f("button",{class:"btn btn-primary",onClick:d},"Apply Filter")])])])]),f("div",Ak,[f("div",Pk,[f("div",Ck,[g[6]||(g[6]=f("div",{class:"stat-title"},"Active Subscriptions",-1)),f("div",Ok,q(i.value.activeSubscriptions),1),g[7]||(g[7]=f("div",{class:"stat-desc"},"Total active subscriptions",-1))])]),f("div",Rk,[f("div",Mk,[g[8]||(g[8]=f("div",{class:"stat-title"},"New Subscriptions",-1)),f("div",Ik,q(i.value.newSubscriptions),1),g[9]||(g[9]=f("div",{class:"stat-desc"},"Within selected period",-1))])]),f("div",Dk,[f("div",Lk,[g[10]||(g[10]=f("div",{class:"stat-title"},"Monthly Recurring Revenue",-1)),f("div",$k,q(h(i.value.monthlyRevenue)),1),g[11]||(g[11]=f("div",{class:"stat-desc"},"MRR for selected period",-1))])]),f("div",jk,[f("div",Fk,[g[12]||(g[12]=f("div",{class:"stat-title"},"Reactivations",-1)),f("div",Nk,q(i.value.reactivations),1),g[13]||(g[13]=f("div",{class:"stat-desc"},"Cancelled → Active",-1))])])]),f("div",Uk,[f("div",zk,[g[15]||(g[15]=f("h2",{class:"card-title"},"Subscription Growth",-1)),f("div",Bk,[r.value&&!n.value?(R(),Pl(_k,{key:0,chartData:r.value,options:o.value},null,8,["chartData","options"])):(R(),I("div",Hk,g[14]||(g[14]=[f("p",{class:"text-lg opacity-70"},"Loading chart data...",-1)])))])])]),f("div",Wk,[f("div",Vk,[g[19]||(g[19]=f("h2",{class:"card-title"},"Admin Tools",-1)),f("div",qk,[W(m,{to:"/schema-checker",class:"btn btn-primary"},{default:Bt(()=>g[16]||(g[16]=[ct(" Database Schema Checker ")])),_:1,__:[16]}),W(m,{to:"/security-testing",class:"btn btn-secondary"},{default:Bt(()=>g[17]||(g[17]=[ct(" Security Testing Dashboard ")])),_:1,__:[17]}),g[18]||(g[18]=f("a",{href:"#",class:"btn btn-accent"}," System Logs ",-1))])])]),W(aw)]),W(Cs,{class:"mt-auto"})])}}},Hp={async signUp(e,t,s){const{data:n,error:i}=await G.auth.signUp({email:e,password:t,options:{data:{full_name:s,role:"user"}}});if(i)throw i;return n},async signIn(e,t){const{data:s,error:n}=await G.auth.signInWithPassword({email:e,password:t});if(n)throw n;return s},async signOut(){const{error:e}=await G.auth.signOut();if(e)throw e},async getUser(){const{data:e}=await G.auth.getUser();return e==null?void 0:e.user},async getSession(){const{data:e}=await G.auth.getSession();return e==null?void 0:e.session},async updateUser(e){const{data:t,error:s}=await G.auth.updateUser(e);if(s)throw s;return t},async resetPassword(e){const{data:t,error:s}=await G.auth.resetPasswordForEmail(e);if(s)throw s;return t}},Gk={name:"LoginForm",data(){return{form:{email:"",password:""},isSubmitting:!1,errorMessage:""}},methods:{async submitForm(){this.isSubmitting=!0,this.errorMessage="";try{await Hp.signIn(this.form.email,this.form.password),await tp().loadUser(),this.$router.push("/")}catch(e){console.error("Login error:",e),this.errorMessage=e.message||"Failed to login. Please check your credentials."}finally{this.isSubmitting=!1}}}},Yk={class:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"},Xk={class:"mb-4"},Jk={class:"mb-6"},Qk={key:0,class:"mb-4 text-error text-sm"},Zk=["disabled"],tT={key:0,class:"loading loading-spinner"},eT={class:"mt-4 text-center"};function sT(e,t,s,n,i,r){const o=dt("router-link");return R(),I("div",Yk,[t[7]||(t[7]=f("h2",{class:"text-2xl font-bold mb-6 text-center"},"Sign In to Your Account",-1)),f("form",{onSubmit:t[2]||(t[2]=fr((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[f("div",Xk,[t[3]||(t[3]=f("label",{class:"block text-sm font-medium mb-1"},"Email *",-1)),$t(f("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.email=a),class:"input input-bordered w-full",required:"",placeholder:"your@email.com",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",title:"Masukkan email valid (contoh: user@example.com)"},null,512),[[Wt,i.form.email]])]),f("div",Jk,[t[4]||(t[4]=f("label",{class:"block text-sm font-medium mb-1"},"Password *",-1)),$t(f("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.password=a),class:"input input-bordered w-full",required:"",placeholder:"••••••••"},null,512),[[Wt,i.form.password]])]),i.errorMessage?(R(),I("div",Qk,q(i.errorMessage),1)):xt("",!0),f("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.isSubmitting},[i.isSubmitting?(R(),I("span",tT)):xt("",!0),ct(" "+q(i.isSubmitting?"Signing in...":"Sign In"),1)],8,Zk),f("div",eT,[f("p",null,[t[6]||(t[6]=ct(" Don't have an account? ")),W(o,{to:"/register",class:"text-primary hover:underline"},{default:Bt(()=>t[5]||(t[5]=[ct("Sign Up")])),_:1,__:[5]})])])],32)])}const nT=Rt(Gk,[["render",sT]]),iT={name:"LoginView",components:{AppHeader:Ps,AppFooter:Cs,LoginForm:nT}},rT={class:"min-h-screen flex flex-col"},oT={class:"flex-1 flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10"},aT={class:"w-full max-w-md p-4"};function lT(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("LoginForm"),l=dt("AppFooter");return R(),I("div",rT,[W(o),f("div",oT,[f("div",aT,[W(a),t[0]||(t[0]=dr('<div class="divider my-6" data-v-2629f26b>Or continue with</div><div class="flex justify-center gap-4" data-v-2629f26b><button class="btn btn-outline gap-2" data-v-2629f26b><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" data-v-2629f26b><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-v-2629f26b></path></svg> GitHub </button><button class="btn btn-outline gap-2" data-v-2629f26b><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" data-v-2629f26b><path d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" fill-rule="evenodd" clip-rule="evenodd" data-v-2629f26b></path></svg> Google </button></div>',2))])]),W(l)])}const cT=Rt(iT,[["render",lT],["__scopeId","data-v-2629f26b"]]),Gd=(e,t="text")=>{if(!e&&e!==0)throw new Error("Input tidak boleh kosong");let s=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").trim();switch(t){case"email":{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s))throw new Error("Format email tidak valid");break}case"password":{if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s))throw new Error("Password harus mengandung huruf besar, kecil, angka, dan simbol");break}case"phone":{if(!/^[0-9]{10,15}$/.test(s))throw new Error("Nomor telepon harus 10-15 digit angka");break}}return s},uT={name:"RegisterForm",data(){return{form:{fullName:"",email:"",password:"",confirmPassword:""},isSubmitting:!1,errorMessage:""}},methods:{validatePassword(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)},async submitForm(){this.errorMessage="";try{if(this.form.password!==this.form.confirmPassword){this.errorMessage="Passwords do not match";return}if(!this.validatePassword(this.form.password)){this.errorMessage="Password must contain uppercase, lowercase, number, and special character";return}this.isSubmitting=!0;const e=Gd(this.form.fullName,"text"),t=Gd(this.form.email,"email");await Hp.signUp(t,this.form.password,e),alert("Account created successfully! Please check your email to verify your account."),this.$router.push("/login")}catch(e){console.error("Registration error:",e),this.errorMessage=e.message||"Failed to create account"}finally{this.isSubmitting=!1}}}},dT={class:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"},hT={class:"mb-4"},fT={class:"mb-4"},pT={class:"mb-4"},gT={class:"mb-6"},mT={key:0,class:"alert alert-error mb-4 text-sm"},bT=["disabled"],_T={key:0,class:"loading loading-spinner"},yT={class:"mt-4 text-center"};function vT(e,t,s,n,i,r){const o=dt("router-link");return R(),I("div",dT,[t[12]||(t[12]=f("h2",{class:"text-2xl font-bold mb-6 text-center"},"Create Account",-1)),f("form",{onSubmit:t[4]||(t[4]=fr((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[f("div",hT,[t[5]||(t[5]=f("label",{class:"block text-sm font-medium mb-1"},"Full Name *",-1)),$t(f("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.fullName=a),class:"input input-bordered w-full",required:""},null,512),[[Wt,i.form.fullName]])]),f("div",fT,[t[6]||(t[6]=f("label",{class:"block text-sm font-medium mb-1"},"Email *",-1)),$t(f("input",{title:"Masukkan email valid (contoh: user@example.com)",type:"email","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.email=a),class:"input input-bordered w-full",required:"",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"},null,512),[[Wt,i.form.email]])]),f("div",pT,[t[7]||(t[7]=f("label",{class:"block text-sm font-medium mb-1"},"Password *",-1)),$t(f("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=a=>i.form.password=a),class:"input input-bordered w-full",required:"",minlength:"8"},null,512),[[Wt,i.form.password]]),t[8]||(t[8]=f("p",{class:"text-xs text-gray-500 mt-1"}," Must contain uppercase, lowercase, number, and special character ",-1))]),f("div",gT,[t[9]||(t[9]=f("label",{class:"block text-sm font-medium mb-1"},"Confirm Password *",-1)),$t(f("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=a=>i.form.confirmPassword=a),class:"input input-bordered w-full",required:""},null,512),[[Wt,i.form.confirmPassword]])]),i.errorMessage?(R(),I("div",mT,q(i.errorMessage),1)):xt("",!0),f("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.isSubmitting},[i.isSubmitting?(R(),I("span",_T)):xt("",!0),ct(" "+q(i.isSubmitting?"Creating Account...":"Sign Up"),1)],8,bT),f("div",yT,[f("p",null,[t[11]||(t[11]=ct(" Already have an account? ")),W(o,{to:"/login",class:"text-primary hover:underline"},{default:Bt(()=>t[10]||(t[10]=[ct("Sign In")])),_:1,__:[10]})])])],32)])}const wT=Rt(uT,[["render",vT]]),xT={name:"RegisterView",components:{AppHeader:Ps,AppFooter:Cs,RegisterForm:wT}},ST={class:"min-h-screen flex flex-col"},kT={class:"flex-1 flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 py-12"},TT={class:"w-full max-w-md p-4"};function ET(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("RegisterForm"),l=dt("AppFooter");return R(),I("div",ST,[W(o),f("div",kT,[f("div",TT,[W(a),t[0]||(t[0]=f("div",{class:"mt-8 text-center"},[f("p",{class:"text-sm text-gray-600"},[ct(" By signing up, you agree to our "),f("a",{href:"#",class:"text-primary hover:underline"},"Terms of Service"),ct(" and "),f("a",{href:"#",class:"text-primary hover:underline"},"Privacy Policy")])],-1))])]),W(l)])}const AT=Rt(xT,[["render",ET]]),PT={name:"HeroSection"},CT={class:"hero min-h-[70vh] bg-gradient-to-br from-primary/10 to-secondary/10"},OT={class:"hero-content text-center py-20"},RT={class:"max-w-4xl"},MT={class:"flex flex-col sm:flex-row gap-4 justify-center"};function IT(e,t,s,n,i,r){const o=dt("router-link");return R(),I("section",CT,[f("div",OT,[f("div",RT,[t[2]||(t[2]=f("h1",{class:"text-5xl md:text-7xl font-bold mb-4"},"SEA Catering",-1)),t[3]||(t[3]=f("p",{class:"text-xl md:text-2xl text-gray-600 mb-6"},"Healthy Meals, Anytime, Anywhere",-1)),t[4]||(t[4]=f("div",{class:"badge badge-primary badge-lg text-white mb-6 px-6 py-3"}," Nationwide Delivery ",-1)),t[5]||(t[5]=f("p",{class:"text-lg md:text-xl text-gray-700 mb-10 max-w-2xl mx-auto"}," Customizable healthy meals delivered to your doorstep across Indonesia ",-1)),f("div",MT,[W(o,{to:"/menu",class:"btn btn-primary btn-lg text-white px-8"},{default:Bt(()=>t[0]||(t[0]=[ct("Explore Menu")])),_:1,__:[0]}),t[1]||(t[1]=f("button",{class:"btn btn-outline btn-primary btn-lg px-8"},"How It Works",-1))])])])])}const DT=Rt(PT,[["render",IT],["__scopeId","data-v-8965b21a"]]),LT={name:"AboutSection"},$T={class:"py-16 bg-base-100"};function jT(e,t,s,n,i,r){return R(),I("section",$T,t[0]||(t[0]=[dr('<div class="container mx-auto px-4"><div class="flex flex-col items-center text-center"><div class="badge badge-outline badge-primary mb-4">About Us</div><h2 class="text-4xl font-bold text-gray-800 mb-6"> Transforming Healthy Eating in Indonesia </h2><p class="text-lg text-gray-600 mb-6 max-w-3xl"> SEA Catering started as a small kitchen in Jakarta and has quickly become Indonesia&#39;s favorite healthy meal delivery service. Our mission is to make nutritious eating accessible and convenient for everyone. </p><div class="stats stats-vertical md:stats-horizontal shadow w-full max-w-2xl"><div class="stat"><div class="stat-title">Cities Served</div><div class="stat-value text-primary">25+</div><div class="stat-desc">Across Indonesia</div></div><div class="stat"><div class="stat-title">Happy Customers</div><div class="stat-value text-secondary">10K+</div><div class="stat-desc">Since 2022</div></div><div class="stat"><div class="stat-title">Meal Options</div><div class="stat-value text-accent">50+</div><div class="stat-desc">Weekly Rotation</div></div></div></div></div>',1)]))}const FT=Rt(LT,[["render",jT]]),NT={name:"FeatureCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,default:"✅"}}},UT={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 h-full"},zT={class:"card-body items-center text-center p-8"},BT={class:"text-5xl mb-4"},HT={class:"card-title text-2xl text-primary mb-3"},WT={class:"text-gray-600"};function VT(e,t,s,n,i,r){return R(),I("div",UT,[f("div",zT,[f("div",BT,q(s.icon),1),f("h3",HT,q(s.title),1),f("p",WT,q(s.description),1)])])}const qT=Rt(NT,[["render",VT]]),KT={name:"FeaturesSection",components:{FeatureCard:qT}},GT={class:"py-16 bg-gradient-to-br from-base-100 to-primary/5"},YT={class:"container mx-auto px-4"},XT={class:"grid md:grid-cols-3 gap-8"};function JT(e,t,s,n,i,r){const o=dt("FeatureCard");return R(),I("section",GT,[f("div",YT,[t[0]||(t[0]=f("div",{class:"text-center mb-16"},[f("div",{class:"badge badge-primary badge-lg text-white mb-4 px-6 py-3"},"Our Services"),f("h2",{class:"text-4xl font-bold text-gray-800 mb-6"},"Why Choose SEA Catering"),f("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Discover the key features that make our service stand out ")],-1)),f("div",XT,[W(o,{title:"Meal Customization",description:"Create meals tailored to your dietary preferences and needs",icon:"🍽️"}),W(o,{title:"Nationwide Delivery",description:"Delivered to all major cities across Indonesia",icon:"🚚"}),W(o,{title:"Nutritional Transparency",description:"Detailed nutritional information for every meal",icon:"📊"})])])])}const QT=Rt(KT,[["render",JT]]),ZT={name:"ContactSection",data(){return{form:{name:"",email:"",subject:"",message:""},submitting:!1,success:!1,error:null}},methods:{async submitForm(){try{this.submitting=!0,await new Promise(e=>setTimeout(e,1e3)),this.success=!0,this.form={name:"",email:"",subject:"",message:""}}catch(e){this.error="Failed to send message. Please try again.",console.error("Contact form error:",e)}finally{this.submitting=!1}}}},tE={class:"py-20 bg-gradient-to-br from-green-50 via-base-100 to-primary/5"},eE={class:"container mx-auto px-4"},sE={class:"flex flex-col lg:flex-row gap-8 max-w-6xl mx-auto"},nE={class:"lg:w-3/5 bg-white p-8 rounded-2xl shadow-xl transform hover:scale-[1.02] transition-all duration-300"},iE={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rE={class:"form-control"},oE={class:"form-control"},aE={class:"form-control"},lE={class:"form-control"},cE=["disabled"],uE={key:0,class:"text-green-600 text-center mt-4"},dE={key:1,class:"text-red-600 text-center mt-4"};function hE(e,t,s,n,i,r){return R(),I("section",tE,[f("div",eE,[t[12]||(t[12]=f("div",{class:"text-center mb-16"},[f("div",{class:"badge badge-primary badge-outline mb-4"},"Contact Us"),f("h2",{class:"text-4xl font-bold text-gray-800 mb-6"},"We're Here to Help"),f("p",{class:"text-gray-600 max-w-2xl mx-auto"}," Have questions about our meal plans or need assistance with your subscription? Our team is ready to help you. ")],-1)),f("div",sE,[f("div",nE,[t[10]||(t[10]=f("h3",{class:"text-2xl font-bold mb-6 text-gray-800"},"Send Us a Message",-1)),f("form",{class:"space-y-6",onSubmit:t[4]||(t[4]=fr((...o)=>r.submitForm&&r.submitForm(...o),["prevent"]))},[f("div",iE,[f("div",rE,[t[5]||(t[5]=f("label",{class:"label"},[f("span",{class:"label-text font-medium"},"Your Name")],-1)),$t(f("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.form.name=o),type:"text",placeholder:"John Doe",class:"input input-bordered focus:input-primary",required:""},null,512),[[Wt,i.form.name]])]),f("div",oE,[t[6]||(t[6]=f("label",{class:"label"},[f("span",{class:"label-text font-medium"},"Your Email")],-1)),$t(f("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.form.email=o),type:"email",placeholder:"johndoe@example.com",class:"input input-bordered focus:input-primary",required:""},null,512),[[Wt,i.form.email]])])]),f("div",aE,[t[7]||(t[7]=f("label",{class:"label"},[f("span",{class:"label-text font-medium"},"Subject")],-1)),$t(f("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.form.subject=o),type:"text",placeholder:"How can we help you?",class:"input input-bordered focus:input-primary",required:""},null,512),[[Wt,i.form.subject]])]),f("div",lE,[t[8]||(t[8]=f("label",{class:"label"},[f("span",{class:"label-text font-medium"},"Message")],-1)),$t(f("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>i.form.message=o),class:"textarea textarea-bordered h-32 focus:textarea-primary",placeholder:"Write your message here...",required:""},null,512),[[Wt,i.form.message]])]),f("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.submitting},t[9]||(t[9]=[f("span",null,"Send Message",-1),f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)]),8,cE),i.success?(R(),I("div",uE," Message sent successfully! ")):xt("",!0),i.error?(R(),I("div",dE,q(i.error),1)):xt("",!0)],32)]),t[11]||(t[11]=dr('<div class="lg:w-2/5 space-y-6" data-v-34cf5ed2><div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border-l-4 border-primary" data-v-34cf5ed2><div class="flex items-center" data-v-34cf5ed2><div class="bg-primary/10 p-4 rounded-full mr-5" data-v-34cf5ed2><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-34cf5ed2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-34cf5ed2></path></svg></div><div data-v-34cf5ed2><h3 class="text-xl font-bold text-gray-800" data-v-34cf5ed2>Contact Person</h3><p class="text-lg text-gray-600" data-v-34cf5ed2>Brian - Customer Support Manager</p></div></div></div><div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border-l-4 border-primary" data-v-34cf5ed2><div class="flex items-center" data-v-34cf5ed2><div class="bg-primary/10 p-4 rounded-full mr-5" data-v-34cf5ed2><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-34cf5ed2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-v-34cf5ed2></path></svg></div><div data-v-34cf5ed2><h3 class="text-xl font-bold text-gray-800" data-v-34cf5ed2>Phone Number</h3><p class="text-lg text-primary font-medium" data-v-34cf5ed2>0812-3456-789</p></div></div></div><div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border-l-4 border-primary" data-v-34cf5ed2><div class="flex items-center" data-v-34cf5ed2><div class="bg-primary/10 p-4 rounded-full mr-5" data-v-34cf5ed2><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-34cf5ed2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-34cf5ed2></path></svg></div><div data-v-34cf5ed2><h3 class="text-xl font-bold text-gray-800" data-v-34cf5ed2>Email</h3><p class="text-lg text-primary font-medium" data-v-34cf5ed2>manager@seacatering.id</p></div></div></div><div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border-l-4 border-primary" data-v-34cf5ed2><div class="flex items-center" data-v-34cf5ed2><div class="bg-primary/10 p-4 rounded-full mr-5" data-v-34cf5ed2><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-34cf5ed2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-34cf5ed2></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-34cf5ed2></path></svg></div><div data-v-34cf5ed2><h3 class="text-xl font-bold text-gray-800" data-v-34cf5ed2>Office Location</h3><p class="text-lg text-gray-600" data-v-34cf5ed2>Jakarta, Indonesia</p></div></div></div></div>',1))])])])}const Wp=Rt(ZT,[["render",hE],["__scopeId","data-v-34cf5ed2"]]);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Vp,setPrototypeOf:Yd,isFrozen:fE,getPrototypeOf:pE,getOwnPropertyDescriptor:gE}=Object;let{freeze:xe,seal:Be,create:qp}=Object,{apply:ll,construct:cl}=typeof Reflect<"u"&&Reflect;xe||(xe=function(t){return t});Be||(Be=function(t){return t});ll||(ll=function(t,s,n){return t.apply(s,n)});cl||(cl=function(t,s){return new t(...s)});const zr=Se(Array.prototype.forEach),mE=Se(Array.prototype.lastIndexOf),Xd=Se(Array.prototype.pop),pi=Se(Array.prototype.push),bE=Se(Array.prototype.splice),to=Se(String.prototype.toLowerCase),wa=Se(String.prototype.toString),Jd=Se(String.prototype.match),gi=Se(String.prototype.replace),_E=Se(String.prototype.indexOf),yE=Se(String.prototype.trim),We=Se(Object.prototype.hasOwnProperty),be=Se(RegExp.prototype.test),mi=vE(TypeError);function Se(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];return ll(e,t,n)}}function vE(e){return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return cl(e,s)}}function ft(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:to;Yd&&Yd(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const r=s(i);r!==i&&(fE(t)||(t[n]=r),i=r)}e[i]=!0}return e}function wE(e){for(let t=0;t<e.length;t++)We(e,t)||(e[t]=null);return e}function bs(e){const t=qp(null);for(const[s,n]of Vp(e))We(e,s)&&(Array.isArray(n)?t[s]=wE(n):n&&typeof n=="object"&&n.constructor===Object?t[s]=bs(n):t[s]=n);return t}function bi(e,t){for(;e!==null;){const n=gE(e,t);if(n){if(n.get)return Se(n.get);if(typeof n.value=="function")return Se(n.value)}e=pE(e)}function s(){return null}return s}const Qd=xe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xa=xe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sa=xe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xE=xe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ka=xe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),SE=xe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zd=xe(["#text"]),th=xe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ta=xe(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eh=xe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Br=xe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kE=Be(/\{\{[\w\W]*|[\w\W]*\}\}/gm),TE=Be(/<%[\w\W]*|[\w\W]*%>/gm),EE=Be(/\$\{[\w\W]*/gm),AE=Be(/^data-[\-\w.\u00B7-\uFFFF]+$/),PE=Be(/^aria-[\-\w]+$/),Kp=Be(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CE=Be(/^(?:\w+script|data):/i),OE=Be(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gp=Be(/^html$/i),RE=Be(/^[a-z][.\w]*(-[.\w]+)+$/i);var sh=Object.freeze({__proto__:null,ARIA_ATTR:PE,ATTR_WHITESPACE:OE,CUSTOM_ELEMENT:RE,DATA_ATTR:AE,DOCTYPE_NAME:Gp,ERB_EXPR:TE,IS_ALLOWED_URI:Kp,IS_SCRIPT_OR_DATA:CE,MUSTACHE_EXPR:kE,TMPLIT_EXPR:EE});const _i={element:1,text:3,progressingInstruction:7,comment:8,document:9},ME=function(){return typeof window>"u"?null:window},IE=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";s&&s.hasAttribute(i)&&(n=s.getAttribute(i));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},nh=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Yp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ME();const t=et=>Yp(et);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==_i.document||!e.Element)return t.isSupported=!1,t;let{document:s}=e;const n=s,i=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:p}=e,g=l.prototype,m=bi(g,"cloneNode"),b=bi(g,"remove"),v=bi(g,"nextSibling"),T=bi(g,"childNodes"),x=bi(g,"parentNode");if(typeof o=="function"){const et=s.createElement("template");et.content&&et.content.ownerDocument&&(s=et.content.ownerDocument)}let S,E="";const{implementation:L,createNodeIterator:C,createDocumentFragment:D,getElementsByTagName:U}=s,{importNode:Q}=n;let K=nh();t.isSupported=typeof Vp=="function"&&typeof x=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:_t,TMPLIT_EXPR:Ht,DATA_ATTR:yt,ARIA_ATTR:rt,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:ht,CUSTOM_ELEMENT:le}=sh;let{IS_ALLOWED_URI:Xt}=sh,mt=null;const Ut=ft({},[...Qd,...xa,...Sa,...ka,...Zd]);let kt=null;const ie=ft({},[...th,...Ta,...eh,...Br]);let vt=Object.seal(qp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),It=null,O=null,V=!0,B=!0,Y=!1,Tt=!0,_=!1,y=!0,k=!1,P=!1,M=!1,A=!1,z=!1,F=!1,N=!0,$=!1;const tt="user-content-";let H=!0,X=!1,st={},lt=null;const Pt=ft({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wt=null;const re=ft({},["audio","video","img","source","image","track"]);let Jt=null;const Re=ft({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",De="http://www.w3.org/1999/xhtml";let Kt=De,ke=!1,vn=null;const Qp=ft({},[me,Je,De],wa);let mr=ft({},["mi","mo","mn","ms","mtext"]),br=ft({},["annotation-xml"]);const Zp=ft({},["title","style","font","a","script"]);let si=null;const tg=["application/xhtml+xml","text/html"],eg="text/html";let Qt=null,wn=null;const sg=s.createElement("form"),ec=function(w){return w instanceof RegExp||w instanceof Function},Wo=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(wn&&wn===w)){if((!w||typeof w!="object")&&(w={}),w=bs(w),si=tg.indexOf(w.PARSER_MEDIA_TYPE)===-1?eg:w.PARSER_MEDIA_TYPE,Qt=si==="application/xhtml+xml"?wa:to,mt=We(w,"ALLOWED_TAGS")?ft({},w.ALLOWED_TAGS,Qt):Ut,kt=We(w,"ALLOWED_ATTR")?ft({},w.ALLOWED_ATTR,Qt):ie,vn=We(w,"ALLOWED_NAMESPACES")?ft({},w.ALLOWED_NAMESPACES,wa):Qp,Jt=We(w,"ADD_URI_SAFE_ATTR")?ft(bs(Re),w.ADD_URI_SAFE_ATTR,Qt):Re,wt=We(w,"ADD_DATA_URI_TAGS")?ft(bs(re),w.ADD_DATA_URI_TAGS,Qt):re,lt=We(w,"FORBID_CONTENTS")?ft({},w.FORBID_CONTENTS,Qt):Pt,It=We(w,"FORBID_TAGS")?ft({},w.FORBID_TAGS,Qt):bs({}),O=We(w,"FORBID_ATTR")?ft({},w.FORBID_ATTR,Qt):bs({}),st=We(w,"USE_PROFILES")?w.USE_PROFILES:!1,V=w.ALLOW_ARIA_ATTR!==!1,B=w.ALLOW_DATA_ATTR!==!1,Y=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Tt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=w.SAFE_FOR_TEMPLATES||!1,y=w.SAFE_FOR_XML!==!1,k=w.WHOLE_DOCUMENT||!1,A=w.RETURN_DOM||!1,z=w.RETURN_DOM_FRAGMENT||!1,F=w.RETURN_TRUSTED_TYPE||!1,M=w.FORCE_BODY||!1,N=w.SANITIZE_DOM!==!1,$=w.SANITIZE_NAMED_PROPS||!1,H=w.KEEP_CONTENT!==!1,X=w.IN_PLACE||!1,Xt=w.ALLOWED_URI_REGEXP||Kp,Kt=w.NAMESPACE||De,mr=w.MATHML_TEXT_INTEGRATION_POINTS||mr,br=w.HTML_INTEGRATION_POINTS||br,vt=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&ec(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vt.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&ec(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vt.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vt.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(B=!1),z&&(A=!0),st&&(mt=ft({},Zd),kt=[],st.html===!0&&(ft(mt,Qd),ft(kt,th)),st.svg===!0&&(ft(mt,xa),ft(kt,Ta),ft(kt,Br)),st.svgFilters===!0&&(ft(mt,Sa),ft(kt,Ta),ft(kt,Br)),st.mathMl===!0&&(ft(mt,ka),ft(kt,eh),ft(kt,Br))),w.ADD_TAGS&&(mt===Ut&&(mt=bs(mt)),ft(mt,w.ADD_TAGS,Qt)),w.ADD_ATTR&&(kt===ie&&(kt=bs(kt)),ft(kt,w.ADD_ATTR,Qt)),w.ADD_URI_SAFE_ATTR&&ft(Jt,w.ADD_URI_SAFE_ATTR,Qt),w.FORBID_CONTENTS&&(lt===Pt&&(lt=bs(lt)),ft(lt,w.FORBID_CONTENTS,Qt)),H&&(mt["#text"]=!0),k&&ft(mt,["html","head","body"]),mt.table&&(ft(mt,["tbody"]),delete It.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw mi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=w.TRUSTED_TYPES_POLICY,E=S.createHTML("")}else S===void 0&&(S=IE(p,i)),S!==null&&typeof E=="string"&&(E=S.createHTML(""));xe&&xe(w),wn=w}},sc=ft({},[...xa,...Sa,...xE]),nc=ft({},[...ka,...SE]),ng=function(w){let j=x(w);(!j||!j.tagName)&&(j={namespaceURI:Kt,tagName:"template"});const J=to(w.tagName),zt=to(j.tagName);return vn[w.namespaceURI]?w.namespaceURI===Je?j.namespaceURI===De?J==="svg":j.namespaceURI===me?J==="svg"&&(zt==="annotation-xml"||mr[zt]):!!sc[J]:w.namespaceURI===me?j.namespaceURI===De?J==="math":j.namespaceURI===Je?J==="math"&&br[zt]:!!nc[J]:w.namespaceURI===De?j.namespaceURI===Je&&!br[zt]||j.namespaceURI===me&&!mr[zt]?!1:!nc[J]&&(Zp[J]||!sc[J]):!!(si==="application/xhtml+xml"&&vn[w.namespaceURI]):!1},Qe=function(w){pi(t.removed,{element:w});try{x(w).removeChild(w)}catch{b(w)}},xn=function(w,j){try{pi(t.removed,{attribute:j.getAttributeNode(w),from:j})}catch{pi(t.removed,{attribute:null,from:j})}if(j.removeAttribute(w),w==="is")if(A||z)try{Qe(j)}catch{}else try{j.setAttribute(w,"")}catch{}},ic=function(w){let j=null,J=null;if(M)w="<remove></remove>"+w;else{const Yt=Jd(w,/^[\r\n\t ]+/);J=Yt&&Yt[0]}si==="application/xhtml+xml"&&Kt===De&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");const zt=S?S.createHTML(w):w;if(Kt===De)try{j=new h().parseFromString(zt,si)}catch{}if(!j||!j.documentElement){j=L.createDocument(Kt,"template",null);try{j.documentElement.innerHTML=ke?E:zt}catch{}}const ce=j.body||j.documentElement;return w&&J&&ce.insertBefore(s.createTextNode(J),ce.childNodes[0]||null),Kt===De?U.call(j,k?"html":"body")[0]:k?j.documentElement:ce},rc=function(w){return C.call(w.ownerDocument||w,w,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Vo=function(w){return w instanceof d&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof u)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},oc=function(w){return typeof a=="function"&&w instanceof a};function cs(et,w,j){zr(et,J=>{J.call(t,w,j,wn)})}const ac=function(w){let j=null;if(cs(K.beforeSanitizeElements,w,null),Vo(w))return Qe(w),!0;const J=Qt(w.nodeName);if(cs(K.uponSanitizeElement,w,{tagName:J,allowedTags:mt}),y&&w.hasChildNodes()&&!oc(w.firstElementChild)&&be(/<[/\w!]/g,w.innerHTML)&&be(/<[/\w!]/g,w.textContent)||w.nodeType===_i.progressingInstruction||y&&w.nodeType===_i.comment&&be(/<[/\w]/g,w.data))return Qe(w),!0;if(!mt[J]||It[J]){if(!It[J]&&cc(J)&&(vt.tagNameCheck instanceof RegExp&&be(vt.tagNameCheck,J)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(J)))return!1;if(H&&!lt[J]){const zt=x(w)||w.parentNode,ce=T(w)||w.childNodes;if(ce&&zt){const Yt=ce.length;for(let Te=Yt-1;Te>=0;--Te){const us=m(ce[Te],!0);us.__removalCount=(w.__removalCount||0)+1,zt.insertBefore(us,v(w))}}}return Qe(w),!0}return w instanceof l&&!ng(w)||(J==="noscript"||J==="noembed"||J==="noframes")&&be(/<\/no(script|embed|frames)/i,w.innerHTML)?(Qe(w),!0):(_&&w.nodeType===_i.text&&(j=w.textContent,zr([it,_t,Ht],zt=>{j=gi(j,zt," ")}),w.textContent!==j&&(pi(t.removed,{element:w.cloneNode()}),w.textContent=j)),cs(K.afterSanitizeElements,w,null),!1)},lc=function(w,j,J){if(N&&(j==="id"||j==="name")&&(J in s||J in sg))return!1;if(!(B&&!O[j]&&be(yt,j))){if(!(V&&be(rt,j))){if(!kt[j]||O[j]){if(!(cc(w)&&(vt.tagNameCheck instanceof RegExp&&be(vt.tagNameCheck,w)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(w))&&(vt.attributeNameCheck instanceof RegExp&&be(vt.attributeNameCheck,j)||vt.attributeNameCheck instanceof Function&&vt.attributeNameCheck(j))||j==="is"&&vt.allowCustomizedBuiltInElements&&(vt.tagNameCheck instanceof RegExp&&be(vt.tagNameCheck,J)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(J))))return!1}else if(!Jt[j]){if(!be(Xt,gi(J,ht,""))){if(!((j==="src"||j==="xlink:href"||j==="href")&&w!=="script"&&_E(J,"data:")===0&&wt[w])){if(!(Y&&!be(Z,gi(J,ht,"")))){if(J)return!1}}}}}}return!0},cc=function(w){return w!=="annotation-xml"&&Jd(w,le)},uc=function(w){cs(K.beforeSanitizeAttributes,w,null);const{attributes:j}=w;if(!j||Vo(w))return;const J={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:kt,forceKeepAttr:void 0};let zt=j.length;for(;zt--;){const ce=j[zt],{name:Yt,namespaceURI:Te,value:us}=ce,ni=Qt(Yt),qo=us;let ue=Yt==="value"?qo:yE(qo);if(J.attrName=ni,J.attrValue=ue,J.keepAttr=!0,J.forceKeepAttr=void 0,cs(K.uponSanitizeAttribute,w,J),ue=J.attrValue,$&&(ni==="id"||ni==="name")&&(xn(Yt,w),ue=tt+ue),y&&be(/((--!?|])>)|<\/(style|title)/i,ue)){xn(Yt,w);continue}if(J.forceKeepAttr)continue;if(!J.keepAttr){xn(Yt,w);continue}if(!Tt&&be(/\/>/i,ue)){xn(Yt,w);continue}_&&zr([it,_t,Ht],hc=>{ue=gi(ue,hc," ")});const dc=Qt(w.nodeName);if(!lc(dc,ni,ue)){xn(Yt,w);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Te)switch(p.getAttributeType(dc,ni)){case"TrustedHTML":{ue=S.createHTML(ue);break}case"TrustedScriptURL":{ue=S.createScriptURL(ue);break}}if(ue!==qo)try{Te?w.setAttributeNS(Te,Yt,ue):w.setAttribute(Yt,ue),Vo(w)?Qe(w):Xd(t.removed)}catch{xn(Yt,w)}}cs(K.afterSanitizeAttributes,w,null)},ig=function et(w){let j=null;const J=rc(w);for(cs(K.beforeSanitizeShadowDOM,w,null);j=J.nextNode();)cs(K.uponSanitizeShadowNode,j,null),ac(j),uc(j),j.content instanceof r&&et(j.content);cs(K.afterSanitizeShadowDOM,w,null)};return t.sanitize=function(et){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,J=null,zt=null,ce=null;if(ke=!et,ke&&(et="<!-->"),typeof et!="string"&&!oc(et))if(typeof et.toString=="function"){if(et=et.toString(),typeof et!="string")throw mi("dirty is not a string, aborting")}else throw mi("toString is not a function");if(!t.isSupported)return et;if(P||Wo(w),t.removed=[],typeof et=="string"&&(X=!1),X){if(et.nodeName){const us=Qt(et.nodeName);if(!mt[us]||It[us])throw mi("root node is forbidden and cannot be sanitized in-place")}}else if(et instanceof a)j=ic("<!---->"),J=j.ownerDocument.importNode(et,!0),J.nodeType===_i.element&&J.nodeName==="BODY"||J.nodeName==="HTML"?j=J:j.appendChild(J);else{if(!A&&!_&&!k&&et.indexOf("<")===-1)return S&&F?S.createHTML(et):et;if(j=ic(et),!j)return A?null:F?E:""}j&&M&&Qe(j.firstChild);const Yt=rc(X?et:j);for(;zt=Yt.nextNode();)ac(zt),uc(zt),zt.content instanceof r&&ig(zt.content);if(X)return et;if(A){if(z)for(ce=D.call(j.ownerDocument);j.firstChild;)ce.appendChild(j.firstChild);else ce=j;return(kt.shadowroot||kt.shadowrootmode)&&(ce=Q.call(n,ce,!0)),ce}let Te=k?j.outerHTML:j.innerHTML;return k&&mt["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&be(Gp,j.ownerDocument.doctype.name)&&(Te="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+Te),_&&zr([it,_t,Ht],us=>{Te=gi(Te,us," ")}),S&&F?S.createHTML(Te):Te},t.setConfig=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wo(et),P=!0},t.clearConfig=function(){wn=null,P=!1},t.isValidAttribute=function(et,w,j){wn||Wo({});const J=Qt(et),zt=Qt(w);return lc(J,zt,j)},t.addHook=function(et,w){typeof w=="function"&&pi(K[et],w)},t.removeHook=function(et,w){if(w!==void 0){const j=mE(K[et],w);return j===-1?void 0:bE(K[et],j,1)[0]}return Xd(K[et])},t.removeHooks=function(et){K[et]=[]},t.removeAllHooks=function(){K=nh()},t}var Es=Yp();const Hr=e=>{if(!e)return"";const t=Es.sanitize(e),s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""},wo={async getAllTestimonials(){const{data:e,error:t}=await G.from("testimonials").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},async addTestimonial(e){if(!e.rating||e.rating<1||e.rating>5)throw new Error("Rating must be between 1 and 5");const t={name:Hr(e.name),review:Hr(e.review),rating:e.rating,user_id:e.user_id||null},{data:s,error:n}=await G.from("testimonials").insert([t]).select();if(n)throw n;return s[0]},async getLatestTestimonials(e=5){const{data:t,error:s}=await G.from("testimonials").select("*").order("created_at",{ascending:!1}).limit(e);if(s)throw s;return t},async deleteTestimonial(e){const{error:t}=await G.from("testimonials").delete().eq("id",e);if(t)throw t;return!0},async updateTestimonial(e,t){if(!t.rating||t.rating<1||t.rating>5)throw new Error("Rating must be between 1 and 5");const s={name:Hr(t.name),review:Hr(t.review),rating:t.rating},{data:n,error:i}=await G.from("testimonials").update(s).eq("id",e).select();if(i)throw i;return n[0]},async getUserTestimonials(e){const{data:t,error:s}=await G.from("testimonials").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}},DE={name:"TestimonialsSection",data(){return{testimonials:[],loading:!0,error:null,activeTestimonial:0}},async created(){try{this.loading=!0,this.testimonials=await wo.getLatestTestimonials(5),this.loading=!1}catch(e){this.error="Failed to load testimonials: "+e.message,this.loading=!1}},methods:{safeHtml(e){return Es.sanitize(e)},stripHtmlTags(e){if(!e)return"";const t=document.createElement("div");return t.innerHTML=Es.sanitize(e),t.textContent||t.innerText||""},async addTestimonial(e){try{const t=await wo.addTestimonial(e);this.testimonials.unshift(t),this.activeTestimonial=0}catch(t){this.error="Failed to add testimonial: "+t.message}},nextTestimonial(){this.testimonials.length<=1||(this.activeTestimonial=(this.activeTestimonial+1)%this.testimonials.length)},prevTestimonial(){this.testimonials.length<=1||(this.activeTestimonial=(this.activeTestimonial-1+this.testimonials.length)%this.testimonials.length)},setActiveTestimonial(e){this.activeTestimonial=e}}},LE={class:"py-20 bg-base-100 bg-gradient-to-b from-green-50 to-base-100"},$E={class:"container mx-auto px-4"},jE={key:0,class:"flex justify-center items-center py-12"},FE={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},NE={key:2,class:"max-w-4xl mx-auto mt-12 relative flex justify-center"},UE={key:0,class:"text-center py-8"},zE={key:1,class:"relative w-full flex justify-center"},BE={class:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-6 z-10"},HE={class:"carousel w-full rounded-xl flex justify-center items-center"},WE=["id"],VE={class:"card bg-white border border-gray-100 testimonial-card h-96 mx-auto max-w-xl"},qE={class:"card-body h-full flex justify-center items-center p-8"},KE={class:"testimonial-content flex-grow flex items-center justify-center mb-4 w-full"},GE={class:"max-w-md mx-auto"},YE={class:"text-gray-600 italic text-lg text-center"},XE={class:"testimonial-footer mt-auto text-center w-full"},JE={class:"rating mb-3"},QE=["name","checked"],ZE={class:"font-bold text-xl"},tA={class:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-6 z-10"};function eA(e,t,s,n,i,r){return R(),I("section",LE,[f("div",$E,[t[8]||(t[8]=f("div",{class:"text-center mb-16"},[f("div",{class:"badge badge-outline badge-primary mb-4 p-3 font-medium"},"Testimonials"),f("h2",{class:"text-5xl font-bold text-gray-800 mb-6"},"What Our Customers Say"),f("p",{class:"text-gray-600 max-w-2xl mx-auto text-lg"}," Discover why our customers love our meal plans and service. Read their stories and experiences below. ")],-1)),i.loading?(R(),I("div",jE,t[2]||(t[2]=[f("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),f("span",{class:"ml-4 text-lg"},"Loading testimonials...",-1)]))):i.error?(R(),I("div",FE,[f("div",null,[t[3]||(t[3]=f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f("span",null,q(i.error),1)])])):(R(),I("div",NE,[i.testimonials.length===0?(R(),I("div",UE,t[4]||(t[4]=[f("p",{class:"text-lg text-gray-600"}," No testimonials yet. Be the first to share your experience! ",-1)]))):(R(),I("div",zE,[f("div",BE,[f("button",{onClick:t[0]||(t[0]=(...o)=>r.prevTestimonial&&r.prevTestimonial(...o)),class:"btn btn-circle btn-primary shadow-lg hover:scale-110 transition-all"},t[5]||(t[5]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))]),f("div",HE,[(R(!0),I(Ot,null,ee(i.testimonials,(o,a)=>(R(),I("div",{id:`testimonial-${a}`,key:o.id,class:we(["carousel-item w-full",{hidden:i.activeTestimonial!==a}])},[f("div",VE,[f("div",qE,[t[6]||(t[6]=f("div",{class:"quote-icon text-primary/20 mb-4"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",class:"mx-auto"},[f("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})])],-1)),f("div",KE,[f("div",GE,[f("p",YE,' "'+q(r.stripHtmlTags(o.review))+'" ',1)])]),f("div",XE,[f("div",JE,[(R(),I(Ot,null,ee(5,l=>f("input",{key:l,type:"radio",name:`rating-${o.id}`,class:"mask mask-star-2 bg-orange-400",checked:l<=o.rating,disabled:""},null,8,QE)),64))]),f("h3",ZE,q(o.name),1)])])])],10,WE))),128))]),f("div",tA,[f("button",{onClick:t[1]||(t[1]=(...o)=>r.nextTestimonial&&r.nextTestimonial(...o)),class:"btn btn-circle btn-primary shadow-lg hover:scale-110 transition-all"},t[7]||(t[7]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]))]))])])}const sA=Rt(DE,[["render",eA],["__scopeId","data-v-75686105"]]),nA={name:"HomeView",components:{AppHeader:Ps,AppFooter:Cs,HeroSection:DT,AboutSection:FT,FeaturesSection:QT,TestimonialsSectionHome:sA,ContactSection:Wp}},iA={class:"min-h-screen flex flex-col"};function rA(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("HeroSection"),l=dt("AboutSection"),c=dt("FeaturesSection"),u=dt("TestimonialsSectionHome"),d=dt("ContactSection"),h=dt("AppFooter");return R(),I("div",iA,[W(o),W(a),W(l),W(c),W(u),W(d),W(h)])}const oA=Rt(nA,[["render",rA]]),aA={name:"MealPlanCard",props:{plan:{type:Object,required:!0}}},lA={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 h-full"},cA=["src"],uA={class:"card-body"},dA={class:"card-title text-primary break-words"},hA={class:"text-xl font-bold text-secondary"},fA={class:"line-clamp-3"},pA={class:"card-actions mt-4"};function gA(e,t,s,n,i,r){return R(),I("div",lA,[f("figure",null,[f("img",{src:s.plan.image,alt:"Meal Plan",class:"w-full h-48 object-cover"},null,8,cA)]),f("div",uA,[f("h2",dA,q(s.plan.name),1),f("p",hA,q(s.plan.price),1),f("p",fA,q(s.plan.description),1),f("div",pA,[f("button",{class:"btn btn-primary text-white",onClick:t[0]||(t[0]=o=>e.$emit("show-details"))}," See Details ")])])])}const mA=Rt(aA,[["render",gA]]),bA={async getAllMealPlans(){const{data:e,error:t}=await G.from("meal_plans").select("*, meal_plan_details(*)");if(t)throw t;return e.map(n=>({id:n.id,name:n.name,price:`Rp${n.price_per_meal.toLocaleString()} / meal`,priceValue:n.price_per_meal,description:n.description,image:n.image_url,details:n.meal_plan_details?n.meal_plan_details.map(i=>i.detail):[]}))},async getMealPlanById(e){const{data:t,error:s}=await G.from("meal_plans").select("*, meal_plan_details(*)").eq("id",e).single();if(s)throw s;return{id:t.id,name:t.name,price:`Rp${t.price_per_meal.toLocaleString()} / meal`,priceValue:t.price_per_meal,description:t.description,image:t.image_url,details:t.meal_plan_details?t.meal_plan_details.map(n=>n.detail):[]}},async addMealPlan(e){const{data:t,error:s}=await G.from("meal_plans").insert([{name:e.name,price_per_meal:e.priceValue,description:e.description,image_url:e.image}]).select();if(s)throw s;if(e.details&&e.details.length>0){const n=e.details.map(r=>({meal_plan_id:t[0].id,detail:r})),{error:i}=await G.from("meal_plan_details").insert(n);if(i)throw i}return t[0]},async updateMealPlan(e,t){const{data:s,error:n}=await G.from("meal_plans").update({name:t.name,price_per_meal:t.priceValue,description:t.description,image_url:t.image}).eq("id",e).select();if(n)throw n;const{error:i}=await G.from("meal_plan_details").delete().eq("meal_plan_id",e);if(i)throw i;if(t.details&&t.details.length>0){const r=t.details.map(a=>({meal_plan_id:e,detail:a})),{error:o}=await G.from("meal_plan_details").insert(r);if(o)throw o}return s[0]},async deleteMealPlan(e){const{error:t}=await G.from("meal_plan_details").delete().eq("meal_plan_id",e);if(t)throw t;const{error:s}=await G.from("meal_plans").delete().eq("id",e);if(s)throw s;return!0}},_A={name:"MenuView",components:{AppHeader:Ps,AppFooter:Cs,MealPlanCard:mA},data(){return{mealPlans:[],loading:!0,error:null,showModal:!1,selectedPlan:null}},async created(){try{this.loading=!0,this.mealPlans=await bA.getAllMealPlans(),this.loading=!1}catch(e){this.error="Failed to load meal plans: "+e.message,this.loading=!1,console.error("Error loading meal plans:",e)}},methods:{openModal(e){this.selectedPlan=e,this.showModal=!0},closeModal(){this.showModal=!1}}},yA={class:"min-h-screen flex flex-col"},vA={class:"container mx-auto px-4 py-16"},wA={key:0,class:"flex justify-center items-center py-12"},xA={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},SA={key:2,class:"grid md:grid-cols-3 gap-8"},kA={key:3,class:"text-center py-12"},TA={class:"modal-box max-w-2xl"},EA={class:"font-bold text-2xl mb-4"},AA={class:"flex flex-col md:flex-row gap-6"},PA={class:"md:w-1/2"},CA=["src"],OA={class:"md:w-1/2"},RA={class:"text-lg mb-2"},MA={class:"text-lg mb-4"},IA={key:0},DA={class:"list-disc pl-5"},LA={class:"modal-action"};function $A(e,t,s,n,i,r){var c,u,d,h,p;const o=dt("AppHeader"),a=dt("MealPlanCard"),l=dt("AppFooter");return R(),I("div",yA,[W(o),f("div",vA,[t[4]||(t[4]=f("h1",{class:"text-4xl font-bold text-center mb-6"},"Our Meal Plans",-1)),t[5]||(t[5]=f("p",{class:"text-center text-gray-600 mb-12 max-w-2xl mx-auto"}," Choose from our selection of carefully crafted meal plans designed to meet your nutritional needs and taste preferences. ",-1)),i.loading?(R(),I("div",wA,t[1]||(t[1]=[f("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),f("span",{class:"ml-4 text-lg"},"Loading meal plans...",-1)]))):i.error?(R(),I("div",xA,[f("div",null,[t[2]||(t[2]=f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f("span",null,q(i.error),1)])])):(R(),I("div",SA,[(R(!0),I(Ot,null,ee(i.mealPlans,(g,m)=>(R(),Pl(a,{key:g.id||m,plan:g,onShowDetails:b=>r.openModal(g)},null,8,["plan","onShowDetails"]))),128))])),!i.loading&&!i.error&&i.mealPlans.length===0?(R(),I("div",kA,t[3]||(t[3]=[f("p",{class:"text-xl text-gray-600"},"No meal plans found.",-1)]))):xt("",!0)]),W(l),f("div",{class:we(["modal",{"modal-open":i.showModal}])},[f("div",TA,[f("h3",EA,q((c=i.selectedPlan)==null?void 0:c.name),1),f("div",AA,[f("div",PA,[f("img",{src:(u=i.selectedPlan)==null?void 0:u.image,alt:"Meal Plan",class:"rounded-lg w-full h-64 object-cover"},null,8,CA)]),f("div",OA,[f("p",RA,[t[6]||(t[6]=f("strong",null,"Price:",-1)),ct(" "+q((d=i.selectedPlan)==null?void 0:d.price),1)]),f("p",MA,q((h=i.selectedPlan)==null?void 0:h.description),1),(p=i.selectedPlan)!=null&&p.details?(R(),I("div",IA,[t[7]||(t[7]=f("h4",{class:"font-bold text-xl mb-2"},"What's Included:",-1)),f("ul",DA,[(R(!0),I(Ot,null,ee(i.selectedPlan.details,(g,m)=>(R(),I("li",{key:m},q(g),1))),128))])])):xt("",!0)])]),f("div",LA,[f("button",{class:"btn",onClick:t[0]||(t[0]=(...g)=>r.closeModal&&r.closeModal(...g))},"Close")])])],2)])}const jA=Rt(_A,[["render",$A]]);Es.setConfig({FORBID_TAGS:["script","style","iframe","frame","object","embed","form"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onsubmit","formaction"],ADD_URI_SAFE_ATTR:["target"],WHOLE_DOCUMENT:!0,SANITIZE_DOM:!0,RETURN_DOM_TEXT:!0});const FA=e=>{if(e==null)return"";const t=Es.sanitize(e),s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""},pn=(e,t="text")=>{if(e==null){if(t==="optional")return"";throw new Error("Input tidak boleh kosong")}let s=String(e);if(t==="password"){if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s))throw new Error("Password harus memiliki minimal 8 karakter dengan huruf besar, kecil, angka, dan simbol");return s}switch(s=s.replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,""),s=FA(s).trim(),t){case"email":{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s))throw new Error("Format email tidak valid");break}case"phone":{if(!/^[0-9]{10,15}$/.test(s))throw new Error("Nomor telepon harus 10-15 digit angka");break}case"name":{if(s.length<2)throw new Error("Nama harus memiliki minimal 2 karakter");s=s.replace(/[^a-zA-Z0-9 .'_-]/g,"");break}}return s},ih=e=>{if(!e)return"";const t=Es.sanitize(e),s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""},NA={async getTableInfo(){try{const{data:e,error:t}=await G.from("subscriptions").select("*").limit(1);return t?(console.error("Error fetching table info:",t),null):e&&e.length>0?Object.keys(e[0]):null}catch(e){return console.error("Error checking table structure:",e),null}},async createSubscription(e){if(!e.csrf_token||!ho(e.csrf_token))throw new Error("CSRF verification failed. Please refresh the page and try again.");const{data:t}=await G.auth.getUser();if(!(t!=null&&t.user))throw new Error("You must be logged in to create a subscription");let s="user_id";const n=await this.getTableInfo();if(n){const a=["user_id","created_by","userId","user","customer_id"];for(const l of a)if(n.includes(l)){s=l;break}}const i={name:ih(pn(e.name,"name")),phone:pn(e.phone,"phone"),plan:e.plan,meal_types:e.mealTypes,days:e.days,allergies:ih(pn(e.allergies,"optional")),total_price:e.totalPrice,created_at:new Date().toISOString(),status:"active"};i[s]=t.user.id,console.log(`Using column name: ${s} for user ID`,i);const{data:r,error:o}=await G.from("subscriptions").insert([i]).select();if(o)throw console.error("Subscription creation error:",o),o.code==="PGRST204"&&o.message.includes("user_id")?new Error("Database schema error: The user_id column is missing in the subscriptions table. Please check SUBSCRIPTION_ERROR_FIX.md for solutions."):o.code==="23503"?new Error("User reference error: Unable to link subscription to user account. Please ensure you are properly logged in."):o.code==="42P01"?new Error("Table not found: The subscriptions table does not exist in the database. Please run the database setup script."):new Error(o.message||"Failed to create subscription");return r},async getSubscriptions(){const{data:e}=await G.auth.getUser();if(!(e!=null&&e.user))throw new Error("You must be logged in to view subscriptions");const t=await this.checkIfUserIsAdmin(e.user.id);let s=G.from("subscriptions").select("*");t||(s=s.eq("user_id",e.user.id)),s=s.order("created_at",{ascending:!1});const{data:n,error:i}=await s;if(i)throw console.error("Error fetching subscriptions:",i),new Error(i.message||"Failed to load subscriptions");return n},async checkIfUserIsAdmin(e){const{data:t,error:s}=await G.from("profiles").select("is_admin").eq("id",e).single();return s||!t?!1:t.is_admin===!0},async pauseSubscription(e,t,s){const{data:n}=await G.auth.getUser();if(!(n!=null&&n.user))throw new Error("You must be logged in to pause a subscription");const{data:i,error:r}=await G.from("subscriptions").select("*").eq("id",e).single();if(r)throw console.error("Error fetching subscription:",r),new Error("Unable to find subscription");if(i.user_id!==n.user.id&&!await this.checkIfUserIsAdmin(n.user.id))throw new Error("You can only pause your own subscriptions");const{data:o,error:a}=await G.from("subscriptions").update({status:"paused",pause_start:t,pause_end:s,updated_at:new Date().toISOString()}).eq("id",e).select();if(a)throw console.error("Error pausing subscription:",a),new Error(a.message||"Failed to pause subscription");return o},async cancelSubscription(e,t=""){const{data:s}=await G.auth.getUser();if(!(s!=null&&s.user))throw new Error("You must be logged in to cancel a subscription");const{data:n,error:i}=await G.from("subscriptions").select("*").eq("id",e).single();if(i)throw console.error("Error fetching subscription:",i),new Error("Unable to find subscription");if(n.user_id!==s.user.id&&!await this.checkIfUserIsAdmin(s.user.id))throw new Error("You can only cancel your own subscriptions");const{data:r,error:o}=await G.from("subscriptions").update({status:"cancelled",cancellation_reason:t,cancelled_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select();if(o)throw console.error("Error cancelling subscription:",o),new Error(o.message||"Failed to cancel subscription");return r},async reactivateSubscription(e){const{data:t}=await G.auth.getUser();if(!(t!=null&&t.user))throw new Error("You must be logged in to reactivate a subscription");const{data:s,error:n}=await G.from("subscriptions").select("*").eq("id",e).single();if(n)throw console.error("Error fetching subscription:",n),new Error("Unable to find subscription");if(s.user_id!==t.user.id&&!await this.checkIfUserIsAdmin(t.user.id))throw new Error("You can only reactivate your own subscriptions");const i={status:"active",updated_at:new Date().toISOString()};s.status==="paused"&&(i.pause_start=null,i.pause_end=null),s.status==="cancelled"&&(i.reactivated_at=new Date().toISOString());const{data:r,error:o}=await G.from("subscriptions").update(i).eq("id",e).select();if(o)throw console.error("Error reactivating subscription:",o),new Error(o.message||"Failed to reactivate subscription");return r}},UA={name:"SubscriptionForm",data(){return{csrfToken:"",form:{name:"",phone:"",plan:"",mealTypes:[],days:[],allergies:""},isSubmitting:!1,errorMessage:"",formSubmitted:!1,plans:[{name:"Diet Plan",price:"Rp30.000 / meal",description:"Low calorie meals"},{name:"Protein Plan",price:"Rp40.000 / meal",description:"High protein meals"},{name:"Royal Plan",price:"Rp60.000 / meal",description:"Premium gourmet meals"}],mealTypes:[{label:"Breakfast",value:"breakfast"},{label:"Lunch",value:"lunch"},{label:"Dinner",value:"dinner"}],days:[{label:"Monday",value:"monday"},{label:"Tuesday",value:"tuesday"},{label:"Wednesday",value:"wednesday"},{label:"Thursday",value:"thursday"},{label:"Friday",value:"friday"},{label:"Saturday",value:"saturday"},{label:"Sunday",value:"sunday"}]}},created(){this.csrfToken=tr()},computed:{calculatedPrice(){if(!this.form.plan||this.form.mealTypes.length===0||this.form.days.length===0)return 0;const t={"Diet Plan":3e4,"Protein Plan":4e4,"Royal Plan":6e4}[this.form.plan],s=this.form.mealTypes.length,n=this.form.days.length;return t*s*n*4.3}},methods:{formatPrice(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)},async submitForm(){if(this.formSubmitted=!0,this.errorMessage="",this.form.mealTypes.length===0||this.form.days.length===0){this.errorMessage="Please fill in all required fields";return}this.isSubmitting=!0;try{const e={name:pn(this.form.name,"name"),phone:pn(this.form.phone,"phone"),plan:this.form.plan,mealTypes:this.form.mealTypes,days:this.form.days,allergies:pn(this.form.allergies,"optional"),totalPrice:this.calculatedPrice,csrf_token:Fl()};await NA.createSubscription(e),alert("Subscription created successfully!"),this.resetForm()}catch(e){console.error("Submission error:",e),this.errorMessage=e.message||"An error occurred while creating your subscription"}finally{this.isSubmitting=!1}},resetForm(){this.form={name:"",phone:"",plan:"",mealTypes:[],days:[],allergies:""},this.formSubmitted=!1,this.csrfToken=tr()}}},zA={class:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md"},BA=["value"],HA={class:"mb-6"},WA={class:"mb-6"},VA={class:"mb-6"},qA={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},KA={class:"card-body"},GA=["onUpdate:modelValue","value"],YA={class:"card-title"},XA={class:"text-xl font-bold text-secondary"},JA={class:"mb-6"},QA={class:"flex flex-wrap gap-4"},ZA=["value"],t2={key:0,class:"text-error text-sm mt-1"},e2={class:"mb-6"},s2={class:"flex flex-wrap gap-4"},n2=["value"],i2={key:0,class:"text-error text-sm mt-1"},r2={class:"mb-6"},o2={class:"bg-base-200 p-6 rounded-lg mb-6"},a2={class:"flex justify-between items-center"},l2={class:"text-2xl font-bold text-primary"},c2={key:0,class:"alert alert-error mb-4"},u2=["disabled"],d2={key:0,class:"loading loading-spinner"};function h2(e,t,s,n,i,r){return R(),I("div",zA,[t[14]||(t[14]=f("h2",{class:"text-3xl font-bold mb-8 text-center"},"Subscribe to a Meal Plan",-1)),f("form",{onSubmit:t[5]||(t[5]=fr((...o)=>r.submitForm&&r.submitForm(...o),["prevent"]))},[f("input",{type:"hidden",name:"csrf_token",value:i.csrfToken},null,8,BA),f("div",HA,[t[6]||(t[6]=f("label",{class:"block text-lg font-medium mb-2"},"Full Name *",-1)),$t(f("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>i.form.name=o),class:"input input-bordered w-full",required:"",pattern:"[A-Za-z .'-]+",title:"Name should only contain letters, spaces, and characters like ., ', -"},null,512),[[Wt,i.form.name]])]),f("div",WA,[t[7]||(t[7]=f("label",{class:"block text-lg font-medium mb-2"},"Phone Number *",-1)),$t(f("input",{type:"tel","onUpdate:modelValue":t[1]||(t[1]=o=>i.form.phone=o),class:"input input-bordered w-full",required:"",pattern:"[0-9]{10,15}",title:"Phone number should be 10-15 digits"},null,512),[[Wt,i.form.phone]])]),f("div",VA,[t[8]||(t[8]=f("label",{class:"block text-lg font-medium mb-2"},"Select a Plan *",-1)),f("div",qA,[(R(!0),I(Ot,null,ee(i.plans,(o,a)=>(R(),I("label",{key:a,class:we(["card bg-base-100 border-2 cursor-pointer",{"border-primary":i.form.plan===o.name}])},[f("div",KA,[$t(f("input",{type:"radio","onUpdate:modelValue":l=>i.form.plan=l,value:o.name,class:"radio radio-primary absolute top-4 right-4",required:""},null,8,GA),[[hf,i.form.plan]]),f("h3",YA,q(o.name),1),f("p",XA,q(o.price),1),f("p",null,q(o.description),1)])],2))),128))])]),f("div",JA,[t[9]||(t[9]=f("label",{class:"block text-lg font-medium mb-2"},"Meal Types *",-1)),f("div",QA,[(R(!0),I(Ot,null,ee(i.mealTypes,(o,a)=>(R(),I("label",{key:a,class:"flex items-center space-x-2 cursor-pointer"},[$t(f("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>i.form.mealTypes=l),value:o.value,class:"checkbox checkbox-primary"},null,8,ZA),[[Bc,i.form.mealTypes]]),f("span",null,q(o.label),1)]))),128))]),i.form.mealTypes.length===0&&i.formSubmitted?(R(),I("p",t2," Please select at least one meal type ")):xt("",!0)]),f("div",e2,[t[10]||(t[10]=f("label",{class:"block text-lg font-medium mb-2"},"Delivery Days *",-1)),f("div",s2,[(R(!0),I(Ot,null,ee(i.days,(o,a)=>(R(),I("label",{key:a,class:"flex items-center space-x-2 cursor-pointer"},[$t(f("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>i.form.days=l),value:o.value,class:"checkbox checkbox-primary"},null,8,n2),[[Bc,i.form.days]]),f("span",null,q(o.label),1)]))),128))]),i.form.days.length===0&&i.formSubmitted?(R(),I("p",i2," Please select at least one delivery day ")):xt("",!0)]),f("div",r2,[t[11]||(t[11]=f("label",{class:"block text-lg font-medium mb-2"},"Allergies / Dietary Restrictions",-1)),$t(f("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.form.allergies=o),class:"textarea textarea-bordered w-full",placeholder:"List any allergies or dietary restrictions..."},null,512),[[Wt,i.form.allergies]])]),f("div",o2,[t[13]||(t[13]=f("h3",{class:"text-xl font-bold mb-4"},"Order Summary",-1)),f("div",a2,[t[12]||(t[12]=f("span",null,"Total:",-1)),f("span",l2,q(r.formatPrice(r.calculatedPrice)),1)])]),i.errorMessage?(R(),I("div",c2,q(i.errorMessage),1)):xt("",!0),f("button",{type:"submit",class:"btn btn-primary btn-lg w-full",disabled:i.isSubmitting},[i.isSubmitting?(R(),I("span",d2)):xt("",!0),ct(" "+q(i.isSubmitting?"Processing...":"Subscribe Now"),1)],8,u2)],32)])}const f2=Rt(UA,[["render",h2]]),p2={name:"SubscriptionView",components:{AppHeader:Ps,AppFooter:Cs,SubscriptionForm:f2}},g2={class:"min-h-screen flex flex-col"},m2={class:"container mx-auto px-4 py-16"};function b2(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("SubscriptionForm"),l=dt("AppFooter");return R(),I("div",g2,[W(o),f("div",m2,[t[0]||(t[0]=f("h1",{class:"text-4xl font-bold text-center mb-12"},"Subscribe to Our Meal Plans",-1)),W(a)]),W(l)])}const _2=Rt(p2,[["render",b2]]),y2={},v2={class:"container mx-auto py-8"},w2={class:"mt-8 bg-base-100 p-6 rounded-lg shadow-md"},x2={class:"flex flex-wrap gap-4"};function S2(e,t){const s=dt("router-link");return R(),I("div",v2,[f("div",w2,[t[2]||(t[2]=f("h2",{class:"text-2xl font-bold mb-4"},"How's your experience?",-1)),t[3]||(t[3]=f("p",{class:"mb-4 text-gray-600"},"We'd love to hear your feedback about our service!",-1)),f("div",x2,[W(s,{to:"/testimonials",class:"btn btn-outline btn-primary"},{default:Bt(()=>t[0]||(t[0]=[ct("Give Feedback")])),_:1,__:[0]}),W(s,{to:"/contact",class:"btn btn-outline"},{default:Bt(()=>t[1]||(t[1]=[ct("Contact Support")])),_:1,__:[1]})])])])}const k2=Rt(y2,[["render",S2]]),T2={name:"ContactView",components:{AppHeader:Ps,AppFooter:Cs,ContactSection:Wp,FeedbackCard:k2}},E2={class:"min-h-screen flex flex-col"};function A2(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("ContactSection"),l=dt("FeedbackCard"),c=dt("AppFooter");return R(),I("div",E2,[W(o),W(a),W(l),W(c)])}const P2=Rt(T2,[["render",A2]]),C2={name:"TestimonialForm",setup(){return{router:Ml()}},data(){return{form:{name:"",review:"",rating:0},submitting:!1,success:!1,error:null,user:null}},async created(){const{data:e}=await G.auth.getUser();this.user=e.user,this.user&&this.user.user_metadata&&this.user.user_metadata.full_name&&(this.form.name=this.user.user_metadata.full_name)},methods:{async submitForm(){try{if(!this.form.rating||this.form.rating<1||this.form.rating>5){this.error="Please select a rating from 1 to 5";return}this.submitting=!0,this.error=null,this.success=!1;const e=s=>{if(!s)return"";const n=Es.sanitize(s),i=document.createElement("div");return i.innerHTML=n,i.textContent||i.innerText||""},t={name:e(this.form.name),review:e(this.form.review),rating:this.form.rating,user_id:this.user?this.user.id:null};this.$emit("submit-testimonial",t),this.form={name:this.user&&this.user.user_metadata?this.user.user_metadata.full_name:"",review:"",rating:0},this.success=!0,setTimeout(()=>this.success=!1,5e3)}catch(e){this.error="Error submitting review: "+e.message}finally{this.submitting=!1}}}},O2={class:"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md"},R2={key:0,class:"alert alert-success mb-4"},M2={key:1,class:"alert alert-error mb-4"},I2={key:2,class:"text-center py-4"},D2={class:"flex justify-center space-x-4"},L2={class:"rating"},$2=["value"],j2={key:0,class:"text-xs text-error mt-1"},F2=["disabled"],N2={key:0,class:"loading loading-spinner loading-xs mr-2"};function U2(e,t,s,n,i,r){const o=dt("router-link");return R(),I("div",O2,[t[12]||(t[12]=f("h3",{class:"text-2xl font-bold mb-6 text-center"},"Share Your Experience",-1)),i.success?(R(),I("div",R2,t[4]||(t[4]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f("span",null,"Thank you for your review! Your feedback helps us improve.",-1)]))):xt("",!0),i.error?(R(),I("div",M2,[t[5]||(t[5]=f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f("span",null,q(i.error),1)])):xt("",!0),i.user?(R(),I("form",{key:3,onSubmit:t[3]||(t[3]=fr((...a)=>r.submitForm&&r.submitForm(...a),["prevent"])),class:"space-y-4"},[f("div",null,[t[9]||(t[9]=f("label",{class:"label"},[f("span",{class:"label-text"},"Your Name")],-1)),$t(f("input",{type:"text",class:"input input-bordered w-full","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.name=a),required:""},null,512),[[Wt,i.form.name]])]),f("div",null,[t[10]||(t[10]=f("label",{class:"label"},[f("span",{class:"label-text"},"Your Review")],-1)),$t(f("textarea",{class:"textarea textarea-bordered w-full h-32","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.review=a),required:""},null,512),[[Wt,i.form.review]])]),f("div",null,[t[11]||(t[11]=f("label",{class:"label"},[f("span",{class:"label-text"},"Rating")],-1)),f("div",L2,[(R(),I(Ot,null,ee(5,a=>$t(f("input",{key:a,type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",value:a,"onUpdate:modelValue":t[2]||(t[2]=l=>i.form.rating=l)},null,8,$2),[[hf,i.form.rating]])),64))]),i.form.rating?xt("",!0):(R(),I("div",j2," Please select a rating from 1 to 5 "))]),f("button",{type:"submit",class:"btn btn-primary w-full",disabled:i.submitting||!i.form.rating},[i.submitting?(R(),I("span",N2)):xt("",!0),ct(" "+q(i.submitting?"Submitting...":"Submit Review"),1)],8,F2)],32)):(R(),I("div",I2,[t[8]||(t[8]=f("p",{class:"mb-4 text-lg"},"Please login to share your experience with us.",-1)),f("div",D2,[W(o,{to:"/login",class:"btn btn-primary"},{default:Bt(()=>t[6]||(t[6]=[ct("Login")])),_:1,__:[6]}),W(o,{to:"/register",class:"btn btn-outline"},{default:Bt(()=>t[7]||(t[7]=[ct("Register")])),_:1,__:[7]})])]))])}const z2=Rt(C2,[["render",U2]]),rh=e=>{if(e==null)return"";const t=Es.sanitize(e),s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""},B2={name:"TestimonialsView",components:{AppHeader:Ps,AppFooter:Cs,TestimonialForm:z2},data(){return{testimonials:[],loading:!0,error:null}},async created(){try{this.loading=!0,this.testimonials=await wo.getAllTestimonials(),this.loading=!1}catch(e){this.error="Failed to load testimonials: "+e.message,this.loading=!1}},methods:{safeHtml(e){return rh(e)},stripHtmlTags:rh,formatDate(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},async addTestimonial(e){try{const t=await wo.addTestimonial(e);this.testimonials.unshift(t)}catch(t){this.error="Failed to add testimonial: "+t.message}}}},H2={class:"min-h-screen flex flex-col"},W2={class:"container mx-auto px-4 py-16"},V2={key:0,class:"flex justify-center items-center py-12"},q2={key:1,class:"alert alert-error shadow-lg max-w-2xl mx-auto"},K2={key:2},G2={class:"mb-16"},Y2={key:0,class:"text-center py-8"},X2={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},J2={class:"card-body"},Q2={class:"rating mb-4"},Z2=["name","checked"],tP={class:"text-gray-600 italic mb-6"},eP={class:"flex items-center mt-auto"},sP={class:"avatar"},nP={class:"w-12 rounded-full bg-gray-200 flex items-center justify-center"},iP={class:"text-gray-700 font-bold"},rP={class:"ml-4"},oP={class:"font-bold text-lg"},aP={class:"text-sm text-gray-500"};function lP(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("TestimonialForm"),l=dt("AppFooter");return R(),I("div",H2,[W(o),f("div",W2,[t[4]||(t[4]=f("h1",{class:"text-4xl font-bold text-center mb-2"},"Customer Testimonials",-1)),t[5]||(t[5]=f("p",{class:"text-center text-gray-600 mb-12 max-w-2xl mx-auto"}," See what our customers have to say about our meal plans and service. ",-1)),i.loading?(R(),I("div",V2,t[0]||(t[0]=[f("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1),f("span",{class:"ml-4 text-lg"},"Loading testimonials...",-1)]))):i.error?(R(),I("div",q2,[f("div",null,[t[1]||(t[1]=f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f("span",null,q(i.error),1)])])):(R(),I("div",K2,[f("div",G2,[W(a,{onSubmitTestimonial:r.addTestimonial},null,8,["onSubmitTestimonial"])]),f("div",null,[t[3]||(t[3]=f("h2",{class:"text-2xl font-bold mb-6 text-center"},"What Our Customers Say",-1)),i.testimonials.length===0?(R(),I("div",Y2,t[2]||(t[2]=[f("p",{class:"text-lg text-gray-600"}," No testimonials yet. Be the first to share your experience! ",-1)]))):(R(),I("div",X2,[(R(!0),I(Ot,null,ee(i.testimonials,c=>(R(),I("div",{key:c.id,class:"card bg-base-100 shadow-xl"},[f("div",J2,[f("div",Q2,[(R(),I(Ot,null,ee(5,u=>f("input",{key:u,type:"radio",name:`rating-${c.id}`,class:"mask mask-star-2 bg-orange-400",checked:u<=c.rating,disabled:""},null,8,Z2)),64))]),f("p",tP,'"'+q(r.stripHtmlTags(c.review))+'"',1),f("div",eP,[f("div",sP,[f("div",nP,[f("span",iP,q(c.name.charAt(0)),1)])]),f("div",rP,[f("h4",oP,q(c.name),1),f("p",aP,q(r.formatDate(c.created_at)),1)])])])]))),128))]))])]))]),W(l)])}const cP=Rt(B2,[["render",lP],["__scopeId","data-v-804be853"]]),uP={name:"SchemaCheckerView",components:{AppHeader:Ps,AppFooter:Cs},data(){return{loading:!1,error:null,results:[]}},methods:{async checkSchema(){this.loading=!0,this.error=null,this.results=[];try{const{data:{user:e}}=await G.auth.getUser();if(!e){this.error="You must be logged in to check the schema",this.loading=!1;return}const{data:t,error:s}=await G.from("subscriptions").select("*").limit(1);if(s)this.results.push({title:"Error Fetching Subscriptions",data:s});else if(t&&t.length>0)this.results.push({title:"Subscription Table Columns",data:Object.keys(t[0])});else{this.results.push({title:"No Subscription Records Found",data:"Creating a new record to check the schema..."});const n={name:"Test User",phone:"1234567890",plan:"Diet Plan",meal_types:["breakfast"],days:["monday"],allergies:"None",total_price:100,created_at:new Date().toISOString()},i=["user_id","created_by","userId","user","customer_id"];for(const r of i){const o={...n};o[r]=e.id;try{const{error:a}=await G.from("subscriptions").insert([o]);if(a)this.results.push({title:`Error with column: ${r}`,data:a});else{this.results.push({title:"Success With Column",data:r});break}}catch(a){console.error(`Error testing column ${r}:`,a)}}}this.results.push({title:"Current User",data:{id:e.id,email:e.email,metadata:e.user_metadata}})}catch(e){this.error=e.message||"An error occurred while checking the schema",console.error("Schema check error:",e)}finally{this.loading=!1}}}},dP={class:"min-h-screen flex flex-col"},hP={class:"container mx-auto px-4 py-8"},fP={class:"card bg-base-100 shadow-xl mb-8"},pP={class:"card-body"},gP={class:"card-actions justify-end mt-4"},mP={key:0,class:"flex justify-center my-8"},bP={key:1,class:"alert alert-error mb-6"},_P={key:2,class:"space-y-6"},yP={class:"card-body"},vP={class:"card-title"},wP={class:"bg-base-300 p-4 rounded overflow-x-auto"};function xP(e,t,s,n,i,r){const o=dt("AppHeader"),a=dt("AppFooter");return R(),I("div",dP,[W(o),f("div",hP,[t[4]||(t[4]=f("h1",{class:"text-3xl font-bold mb-8"},"Database Schema Checker",-1)),f("div",fP,[f("div",pP,[t[1]||(t[1]=f("h2",{class:"card-title"},"Check Supabase Schema",-1)),t[2]||(t[2]=f("p",null,"Use this utility to identify issues with your database schema.",-1)),f("div",gP,[f("button",{onClick:t[0]||(t[0]=(...l)=>r.checkSchema&&r.checkSchema(...l)),class:"btn btn-primary"},"Check Schema")])])]),i.loading?(R(),I("div",mP,t[3]||(t[3]=[f("span",{class:"loading loading-spinner loading-lg"},null,-1)]))):xt("",!0),i.error?(R(),I("div",bP,[f("span",null,q(i.error),1)])):xt("",!0),i.results.length>0?(R(),I("div",_P,[(R(!0),I(Ot,null,ee(i.results,(l,c)=>(R(),I("div",{key:c,class:"card bg-base-100 shadow-xl"},[f("div",yP,[f("h3",vP,q(l.title),1),f("pre",wP,q(JSON.stringify(l.data,null,2)),1)])]))),128))])):xt("",!0),t[5]||(t[5]=f("div",{class:"card bg-base-100 shadow-xl mt-8"},[f("div",{class:"card-body"},[f("h2",{class:"card-title"},"Create/Update Schema"),f("p",null," If you're missing the user_id column in the subscriptions table, run this SQL in Supabase SQL Editor: "),f("pre",{class:"bg-base-300 p-4 rounded overflow-x-auto"},`-- Add user_id column if it doesn't exist
ALTER TABLE IF EXISTS "public"."subscriptions"
ADD COLUMN IF NOT EXISTS "user_id" UUID REFERENCES auth.users(id);

-- If you already have a different column for user ID, you can rename it:
-- ALTER TABLE IF EXISTS "public"."subscriptions"
-- RENAME COLUMN "your_existing_column" TO "user_id";
          `)])],-1))]),W(a)])}const SP=Rt(uP,[["render",xP]]),kP={},TP={class:"text-sm breadcrumbs mb-2"};function EP(e,t){const s=dt("router-link");return R(),I("div",TP,[f("ul",null,[f("li",null,[W(s,{to:"/"},{default:Bt(()=>t[0]||(t[0]=[ct("Home")])),_:1,__:[0]})]),t[1]||(t[1]=f("li",{class:"font-semibold"},"Dashboard",-1))])])}const AP=Rt(kP,[["render",EP]]),PP={name:"SecurityTestingDashboard",data(){return{xssInput:'<script>alert("XSS Attack!")<\/script>',sqlInput:"'; DROP TABLE users; --",emailInput:"",passwordInput:"",csrfToken:null,xssTestResult:null,csrfTestResult:null,validationResult:null,sqlTestResult:null}},computed:{sanitizedXssInput(){return Es.sanitize(this.xssInput)}},created(){this.csrfToken=Fl()||tr()},methods:{testXss(){const e=this.xssInput!==this.sanitizedXssInput&&!this.sanitizedXssInput.includes("<script>")&&!this.sanitizedXssInput.includes("javascript:");this.xssTestResult={safe:e,message:e?"XSS protection is working correctly. Dangerous content was sanitized.":"Warning: XSS protection may not be functioning correctly."}},testCsrfWithToken(){const e=ho(this.csrfToken);this.csrfTestResult={success:e,message:e?"CSRF protection is working correctly. Valid token was accepted.":"Error: Valid CSRF token was rejected."}},testCsrfWithoutToken(){const e=!ho(null);this.csrfTestResult={success:e,message:e?"CSRF protection is working correctly. Request without token was rejected.":"Warning: Request without CSRF token was accepted!"}},testEmailValidation(){try{pn(this.emailInput,"email"),this.validationResult={valid:!0,message:"Email format is valid."}}catch(e){this.validationResult={valid:!1,message:e.message}}},testPasswordValidation(){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(this.passwordInput);this.validationResult={valid:t,message:t?"Password format is valid.":"Password must have at least 8 characters with uppercase, lowercase, number, and special character."}},testSqlInjection(){const t=["'; DROP TABLE","OR 1=1","-- ","/*","UNION SELECT"].some(s=>this.sqlInput.toUpperCase().includes(s.toUpperCase()));this.sqlTestResult={protected:!0,message:t?"Potentially dangerous SQL pattern detected and would be sanitized by parameterized queries.":"No dangerous SQL patterns detected, but parameterized queries would protect against SQL injection anyway."}}}},CP={class:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md my-8"},OP={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},RP={class:"card bg-base-100 shadow-xl"},MP={class:"card-body"},IP={class:"form-control"},DP={class:"mt-4"},LP={class:"bg-gray-100 p-2 rounded text-xs overflow-x-auto"},$P={class:"mt-4"},jP=["innerHTML"],FP={class:"card-actions justify-end mt-4"},NP={class:"card bg-base-100 shadow-xl"},UP={class:"card-body"},zP={class:"mt-4"},BP={class:"bg-gray-100 p-2 rounded text-xs overflow-x-auto"},HP={class:"form-control mt-4"},WP={class:"flex space-x-2"},VP={class:"card bg-base-100 shadow-xl"},qP={class:"card-body"},KP={class:"form-control"},GP={class:"form-control mt-4"},YP={class:"card bg-base-100 shadow-xl"},XP={class:"card-body"},JP={class:"form-control"},QP={class:"card-actions justify-end mt-4"};function ZP(e,t,s,n,i,r){return R(),I("div",CP,[t[32]||(t[32]=f("h2",{class:"text-2xl font-bold mb-6"},"Security Testing Dashboard",-1)),t[33]||(t[33]=f("div",{class:"alert alert-info mb-6"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),f("span",null,"This tool is for administrators to test application security. Do not use in production.")],-1)),f("div",OP,[f("div",RP,[f("div",MP,[t[14]||(t[14]=f("h3",{class:"card-title"},"XSS Testing",-1)),t[15]||(t[15]=f("p",{class:"text-sm mb-4"}," Test if the application is vulnerable to Cross-Site Scripting attacks. ",-1)),f("div",IP,[t[10]||(t[10]=f("label",{class:"label"},[f("span",{class:"label-text"},"Test Input (will be sanitized)")],-1)),$t(f("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.xssInput=o),type:"text",class:"input input-bordered w-full",placeholder:'Try <script>alert("XSS")<\/script>'},null,512),[[Wt,i.xssInput]])]),f("div",DP,[t[11]||(t[11]=f("p",{class:"text-sm font-semibold"},"Raw Input:",-1)),f("pre",LP,q(i.xssInput),1)]),f("div",$P,[t[12]||(t[12]=f("p",{class:"text-sm font-semibold"},"Sanitized Output:",-1)),f("div",{class:"bg-gray-100 p-2 rounded",innerHTML:r.sanitizedXssInput},null,8,jP)]),f("div",FP,[f("button",{onClick:t[1]||(t[1]=(...o)=>r.testXss&&r.testXss(...o)),class:"btn btn-primary btn-sm"},"Test Sanitization")]),i.xssTestResult?(R(),I("div",{key:0,class:we(["mt-4",{"text-success":i.xssTestResult.safe,"text-error":!i.xssTestResult.safe}])},[f("p",null,[t[13]||(t[13]=f("strong",null,"Result:",-1)),ct(" "+q(i.xssTestResult.message),1)])],2)):xt("",!0)])]),f("div",NP,[f("div",UP,[t[19]||(t[19]=f("h3",{class:"card-title"},"CSRF Protection",-1)),t[20]||(t[20]=f("p",{class:"text-sm mb-4"},"Test if CSRF protection is working correctly.",-1)),f("div",zP,[t[16]||(t[16]=f("p",{class:"text-sm font-semibold"},"Current CSRF Token:",-1)),f("pre",BP,q(i.csrfToken||"No token found"),1)]),f("div",HP,[t[17]||(t[17]=f("label",{class:"label"},[f("span",{class:"label-text"},"Test Request with Token")],-1)),f("div",WP,[f("button",{onClick:t[2]||(t[2]=(...o)=>r.testCsrfWithToken&&r.testCsrfWithToken(...o)),class:"btn btn-primary btn-sm flex-1"}," With Token "),f("button",{onClick:t[3]||(t[3]=(...o)=>r.testCsrfWithoutToken&&r.testCsrfWithoutToken(...o)),class:"btn btn-error btn-sm flex-1"}," Without Token ")])]),i.csrfTestResult?(R(),I("div",{key:0,class:we(["mt-4",{"text-success":i.csrfTestResult.success,"text-error":!i.csrfTestResult.success}])},[f("p",null,[t[18]||(t[18]=f("strong",null,"Result:",-1)),ct(" "+q(i.csrfTestResult.message),1)])],2)):xt("",!0)])]),f("div",VP,[f("div",qP,[t[24]||(t[24]=f("h3",{class:"card-title"},"Input Validation",-1)),t[25]||(t[25]=f("p",{class:"text-sm mb-4"},"Test if input validation is working correctly.",-1)),f("div",KP,[t[21]||(t[21]=f("label",{class:"label"},[f("span",{class:"label-text"},"Email Validation")],-1)),$t(f("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.emailInput=o),type:"text",class:"input input-bordered w-full",placeholder:"test@example.com"},null,512),[[Wt,i.emailInput]]),f("button",{onClick:t[5]||(t[5]=(...o)=>r.testEmailValidation&&r.testEmailValidation(...o)),class:"btn btn-primary btn-sm mt-2"}," Test Email ")]),f("div",GP,[t[22]||(t[22]=f("label",{class:"label"},[f("span",{class:"label-text"},"Password Validation")],-1)),$t(f("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>i.passwordInput=o),type:"text",class:"input input-bordered w-full",placeholder:"Password123!"},null,512),[[Wt,i.passwordInput]]),f("button",{onClick:t[7]||(t[7]=(...o)=>r.testPasswordValidation&&r.testPasswordValidation(...o)),class:"btn btn-primary btn-sm mt-2"}," Test Password ")]),i.validationResult?(R(),I("div",{key:0,class:we(["mt-4",{"text-success":i.validationResult.valid,"text-error":!i.validationResult.valid}])},[f("p",null,[t[23]||(t[23]=f("strong",null,"Result:",-1)),ct(" "+q(i.validationResult.message),1)])],2)):xt("",!0)])]),f("div",YP,[f("div",XP,[t[30]||(t[30]=f("h3",{class:"card-title"},"SQL Injection Protection",-1)),t[31]||(t[31]=f("p",{class:"text-sm mb-4"},"Test if the app is protected against SQL injection.",-1)),f("div",JP,[t[26]||(t[26]=f("label",{class:"label"},[f("span",{class:"label-text"},"Test Input (will be sanitized)")],-1)),$t(f("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>i.sqlInput=o),type:"text",class:"input input-bordered w-full",placeholder:"'; DROP TABLE users; --"},null,512),[[Wt,i.sqlInput]]),t[27]||(t[27]=f("p",{class:"text-xs mt-1"},"Try SQL injection patterns like '; DROP TABLE users; --",-1))]),f("div",QP,[f("button",{onClick:t[9]||(t[9]=(...o)=>r.testSqlInjection&&r.testSqlInjection(...o)),class:"btn btn-primary btn-sm"}," Test Protection ")]),i.sqlTestResult?(R(),I("div",{key:0,class:we(["mt-4",{"text-success":i.sqlTestResult.protected,"text-error":!i.sqlTestResult.protected}])},[f("p",null,[t[28]||(t[28]=f("strong",null,"Result:",-1)),ct(" "+q(i.sqlTestResult.message),1)]),t[29]||(t[29]=f("p",{class:"text-xs mt-2"}," Note: Supabase uses parameterized queries which inherently protect against SQL injection. ",-1))],2)):xt("",!0)])])]),t[34]||(t[34]=dr('<div class="mt-8"><h3 class="text-xl font-bold mb-4">Security Summary</h3><div class="overflow-x-auto"><table class="table table-zebra"><thead><tr><th>Security Feature</th><th>Status</th><th>Details</th></tr></thead><tbody><tr><td>XSS Protection</td><td><span class="badge badge-success">Implemented</span></td><td>Using DOMPurify for input sanitization</td></tr><tr><td>CSRF Protection</td><td><span class="badge badge-success">Implemented</span></td><td>Using CSRF tokens for state-changing operations</td></tr><tr><td>SQL Injection</td><td><span class="badge badge-success">Protected</span></td><td>Using Supabase with parameterized queries</td></tr><tr><td>Input Validation</td><td><span class="badge badge-success">Implemented</span></td><td>Strict validation for email, password, and other inputs</td></tr><tr><td>HTTPS</td><td><span class="badge badge-success">Enforced</span></td><td>All communication is encrypted</td></tr><tr><td>Content Security</td><td><span class="badge badge-success">Implemented</span></td><td>Sanitizing output and preventing unsafe content execution</td></tr></tbody></table></div></div>',1))])}const tC=Rt(PP,[["render",ZP]]),eC={name:"SecurityTestingView",components:{BreadcrumbsDashboard:AP,SecurityTestingDashboard:tC},async created(){const{supabase:e}=await Ks(async()=>{const{supabase:n}=await Promise.resolve().then(()=>rv);return{supabase:n}},void 0),{data:t}=await e.auth.getUser(),s=t==null?void 0:t.user;(!s||!s.user_metadata||s.user_metadata.role!=="admin")&&this.$router.push("/login")}},sC={class:"container mx-auto px-4 py-8"};function nC(e,t,s,n,i,r){const o=dt("BreadcrumbsDashboard"),a=dt("SecurityTestingDashboard");return R(),I("div",null,[W(o,{title:"Security Testing"}),f("div",sC,[t[0]||(t[0]=f("h1",{class:"text-3xl font-bold mb-8"},"Security Testing Dashboard",-1)),t[1]||(t[1]=f("div",{class:"alert alert-warning mb-8"},[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),f("span",null,"This dashboard is for administrators only. It allows testing and validating security measures in the application.")],-1)),W(a)])])}const iC=Rt(eC,[["render",nC]]),rC=[{path:"/",name:"Home",component:oA},{path:"/menu",name:"Menu",component:jA},{path:"/contact",name:"Contact",component:P2},{path:"/testimonials",name:"Testimonials",component:cP},{path:"/subscription",name:"Subscription",component:_2,meta:{requiresAuth:!0}},{path:"/admin",name:"AdminDashboard",component:Kk,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/schema-checker",name:"SchemaChecker",component:SP,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/login",name:"Login",component:cT},{path:"/register",name:"Register",component:AT},{path:"/profile",name:"Profile",component:()=>Ks(()=>import("./ProfileView-C61zXqj4.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/dashboard",name:"UserDashboard",component:()=>Ks(()=>import("./UserDashboardView-bIuizLbN.js"),[]),meta:{requiresAuth:!0}},{path:"/security-testing",name:"SecurityTesting",component:iC,meta:{requiresAuth:!0,requiresAdmin:!0}}],Xp=Q_({history:A_("/"),routes:rC});Xp.beforeEach(av);function oC(){tr(),G.rest&&typeof G.rest.interceptors=="function"&&G.rest.interceptors(t=>(t.method!=="GET"&&(t.headers=ju(t.headers)),t));const e=window.fetch;window.fetch=function(t,s={}){if(s.method&&s.method!=="GET"){if(s.headers||(s.headers={}),s.headers instanceof Headers){const n={};for(const[i,r]of s.headers.entries())n[i]=r;s.headers=n}s.headers=ju(s.headers)}return e(t,s)}}oC();const Jp=Pb();Jp.use(Wb);const tc=Tb(Gb);tc.use(Jp);tc.use(Xp);tc.mount("#app");export{Ps as A,AP as B,Ot as F,NA as S,Rt as _,f as a,W as b,I as c,ct as d,Pe as e,xt as f,dr as g,Cs as h,Ml as i,ee as j,$t as k,qe as l,Mo as m,we as n,R as o,dt as r,G as s,q as t,tp as u,Wt as v,Bt as w};
